<!DOCTYPE html>
<html>
<body text="#ffffff" bgcolor="#000000"><pre>
<font color="#00ffff">The Mogaminator

</font><font color="#ff0000">The Mogaminator </font><font color="#ffffff">is a rules-based system for automatic object handling, 
which you can activate or modify with the </font><font color="#ff8000">_ </font><font color="#ffffff">command. With this system, 
you can decide which objects to pick up, which to destroy, which to 
automatically identify, and which to display as </font><font color="#ff0000">wanted </font><font color="#ffffff">in the object 
list. You can automatically inscribe objects to suit your tastes, and 
even enter conditional statements to handle the preferences of 
different races and classes. Or you can just keep the default 
Mogaminator rules, which already do all of the above!

This document describes this system in tutorial fashion, assuming you 
know nothing about it. Detailed reference material will appear towards 
the bottom of this document (see <a href="editor.html#Reference"></font><font color="#00ff00">[a]</a> </font><font color="#ffffff">if you really cannot wait!).

The system is named after its original author, Hengband developer 
Mogami.

<a name="Review"></a></font><font color="#c00000">Review of Object Knowledge
</font><font color="#ffffff">There is no doubt about it: the game generates lots and lots of 
objects. Some are valuable, some are not, and some are only valuable in 
specific situations... The Mogaminator will help you untangle that 
mountain of loot.

First, a really quick review of what is explained in detail at <a href="objects.html#Knowledge"></font><font color="#00ff00">[b]</a></font><font color="#ffffff">. 
When you find an object, it will generally be </font><font color="#ff0000">unidentified</font><font color="#ffffff">, but you 
might have (or soon receive) a rough </font><font color="#ff0000">sense </font><font color="#ffffff">of the object's quality, 
called </font><font color="#ff0000">object feeling </font><font color="#ffffff">or </font><font color="#ff0000">pseudo-ID</font><font color="#ffffff">. If the object looks promising, you 
probably want to </font><font color="#ff0000">identify </font><font color="#ffffff">it to reveal the basics and maybe </font><font color="#ff0000">*Identify* 
</font><font color="#ffffff">it to reveal special properties.

So your knowledge of an object is in one of the following states:
  [1] Unsensed
  [2] Sensed (pseudo-identified)
  [3] Identified
  [4] *Identified*

For mushrooms, potions and scrolls, things are a little different; 
these objects come in </font><font color="#ff0000">flavors</font><font color="#ffffff">, and once you have learned the flavor, 
you will immediately recognize all future instances of that object. 
Indeed, all instances of the object are exactly alike, so the 
identification game is simply to discover and know the first instance 
of the object, and then decide, via your pick-up and destroy 
preferences, what to do with future instances of this type of object.

<a name="ManagingObjects"></a></font><font color="#c00000">Managing Objects

</font><font color="#ffffff">There are three ways to manage objects: manually, by using the Easy 
Destroyer (<a href="editor.html#EasyDestroyer"></font><font color="#00ff00">[c]</a> </font><font color="#ffffff">below), and by using the Mogaminator. The Mogaminator is 
much more powerful than the Easy Destroyer, which simply destroys 
items, usually junk. </font><font color="#ffff00">The Mogaminator and the Easy Destroyer should only 
be used side-by-side if you have turned the </font><font color="#ff0000">always_pickup </font><font color="#ffff00">option on.

</font><font color="#ffffff">What is </font><font color="#ff0000">the Mogaminator</font><font color="#ffffff">? Basically, it is a rules-based system for 
taking a given action each time you encounter a certain type of object. 
The default action is </font><font color="#ff0000">pick up</font><font color="#ffffff">, and this action is used whenever you 
fail to specify an alternative action; but the Mogaminator can also 
destroy junk for you and identify and inscribe objects automatically. 
Let's discuss the basics.

<a name="BasicUsage"></a></font><font color="#c00000">Basic Usage

</font><font color="#ffffff">The Mogaminator is activated by pressing </font><font color="#ff8000">_</font><font color="#ffffff">, which also brings up an 
in-game editor where you can manage your preferences. It might look 
like this:
 
 </font><font color="#00ffff">(^Q:Quit, ^W:Save&amp;Quit, ESC:Menu, Other:Input text)         </font><font color="#ffffff">(0,0)              
 </font><font color="#00ff00">#########################################                                      
 # Consumables                                                                  
 #########################################                                      
 </font><font color="#ffffff">mushroom of restoring</font><font color="#c08040">#!E                                                       
 </font><font color="#ffffff">~mushroom of hallucination                                                     
                                                                                
 </font><font color="#ff00ff">?:[EQU $RACE Snotling Doppelganger]                                            
 </font><font color="#404040">~mushroom                                                                      
 </font><font color="#ff00ff">?:1                                                                            
                                                                                
 ?:[LEQ $LEVEL 35]                                                              
 </font><font color="#ff0000">potions</font><font color="#ffffff">:resist heat and cold</font><font color="#c08040">#!kq                                               
 </font><font color="#ff00ff">?:1                                                                            
 </font><font color="#ff0000">potions</font><font color="#ffffff">:resistance</font><font color="#c08040">#!kq                                                         
 </font><font color="#ff0000">potions</font><font color="#ffffff">:stone skin</font><font color="#c08040">#!k                                                          
 </font><font color="#ff0000">potions</font><font color="#ffffff">:heroism                                                                
 </font><font color="#ff0000">potions</font><font color="#ffffff">:speed</font><font color="#c08040">#!kq                                                              
 </font><font color="#ff0000">potions</font><font color="#ffffff">:giant strength</font><font color="#c08040">#!k                                                      
                                                                                
 </font><font color="#ff0000">potions</font><font color="#ffffff">:enlightenment                                                          
                                                                                
 </font><font color="#ff0000">potions</font><font color="#ffffff">:of strength</font><font color="#c08040">#!k                                                         
 </font><font color="#00ffff">-------------------------------------------------------------------------------
 </font><font color="#ffffff">This line is a comment.                                                        
 
If you are new, you probably want to run from this complexity as fast 
as you can. Notice the top line of the screen where it tells you how to 
get out: </font><font color="#ff8000">^Q </font><font color="#ffffff">(and you can also exit through the </font><font color="#ff8000">ESC </font><font color="#ffffff">menu). The desire to 
exit immediately is understandable, and in fact </font><font color="#00ff00">not a problem: simply 
pressing </font><font color="#ff8000">_ </font><font color="#00ff00">turned the Mogaminator on and initialized it with default 
preferences, </font><font color="#ffffff">so it should do a good job without any further messing. 
(If you are very lazy, you can stop reading here and just happily play 
away with the default preferences for the rest of the game!)

<a name="WhatHappened"></a></font><font color="#c08040">So What Happened?

</font><font color="#ffffff">With the Mogaminator now on, you will find much of the junk you 
encounter being destroyed. For example, all those corpses and skeletons 
you leave behind as you hack and slash your way through the dungeon... 
except for </font><font color="#ff0000">wanted corpses</font><font color="#ffffff">, which are getting automatically picked up!

That's a good start; but you might still run into objects you consider 
useless. For example, suppose you bought a lantern at the General 
Store; now you don't really care about torches anymore. Use the </font><font color="#ff8000">k 
</font><font color="#ffffff">command (or </font><font color="#ff8000">^D </font><font color="#ffffff">for the Roguelike keyset) and you get a prompt like:
  Really destroy </font><font color="#ffff00">Wooden Torches {unidentified}</font><font color="#ffffff">? </font><font color="#ffff00">[y/n/Auto]

</font><font color="#ffffff">Notice the </font><font color="#ff8000">A</font><font color="#ffffff">uto option. Choose that, and you get a message that the 
object is destroyed, but the fact that you don't like torches is 
remembered by the system. The next time your character moves on top of 
one, it will be destroyed automatically.

That's one simple way to use the Mogaminator: keep registering stuff 
for automatic destruction as you encounter it, and the loot mountain 
becomes easier to manage; but as we'll see later, </font><font color="#ff0000">auto-pickup </font><font color="#ffffff">is even 
better than auto-destruction.

<a name="CorrectingMistakes"></a></font><font color="#c00000">Oops, I'm Auto-Destroying Rings of Speed

</font><font color="#ffffff">Ouch! Well, don't panic. You can fix the problem easily; but doing so 
will require you to go back to the preference file editor. Press </font><font color="#ff8000">_ </font><font color="#ffffff">and 
then press </font><font color="#ff8000">END </font><font color="#ffffff">to move to the end of the document. This is where the 
game keeps track of any objects that you automatically registered for 
destruction. Your screen might look something like:
 
 </font><font color="#00ffff">(^Q:Quit, ^W:Save&amp;Quit, ESC:Menu, Other:Input text)       </font><font color="#ffff00">* </font><font color="#ffffff">(0,268)            
                                                                                
 </font><font color="#ff00ff">?:[EQU $CLASS Tourist]                                                         
 </font><font color="#404040">~photograph                                                                    
 </font><font color="#ff00ff">?:1                                                                            
                                                                                
 </font><font color="#ffffff">~</font><font color="#00ff00">special </font><font color="#ff0000">items                                                                 
 </font><font color="#ffffff">!</font><font color="#00ff00">worthless </font><font color="#ff0000">items                                                               
 </font><font color="#00ff00">#!unusable items                                                               
 </font><font color="#ff0000">?:$AUTOREGISTER                                                                
 # *Warning!* The lines below will be deleted later.                            
 # Keep them by cut &amp; paste if you need them for future characters.             
 (!nameless lights:^wooden torch$                                               
 </font><font color="#00ffff">-------------------------------------------------------------------------------
 </font><font color="#ffffff">Destroy all light sources whose name begins with "wooden torch$", and which ar 
 neither ego-item nor artifact. Do not display as wanted.  This line will be    
 deleted later.
 
You cannot tell from the picture above, but I placed the cursor on the 
very last line of the file; in my case, the line from when I registered 
torches for destruction. Notice that at the very bottom of the screen, 
the game tells you exactly what the given rule means; if you are 
curious, you can move the cursor around the default preference file and 
actually learn quite a bit about how the system works. If you wish to 
simply remove this (or any other) rule, just delete the corresponding 
line and then exit with </font><font color="#ff8000">^W </font><font color="#ffffff">to save and apply your changes.

<a name="WantedObjects"></a></font><font color="#c00000">What About Stuff I Want?

</font><font color="#ffffff">What you don't want is only half the story; some objects you really 
like. The two work nicely together, since </font><font color="#ff0000">interesting objects </font><font color="#ffffff">will 
appear at the top of the </font><font color="#ff8000">] </font><font color="#ffffff">object list. This allows you to easily track 
the interesting stuff even if the junk has not been destroyed!

Suppose you want potions of Cure Critical Wounds (this is a random but 
reasonable example of an item not set to be picked up by default). 
Wouldn't it be nice if these potions were automatically picked up, as 
well as displayed near the top of the object list? This is accomplished 
by adding the following line to the </font><font color="#ff0000">top </font><font color="#ffffff">of the preferences file:
 
 </font><font color="#00ffff">(^Q:Quit, ^W:Save&amp;Quit, ESC:Menu, Other:Input text)       </font><font color="#ffff00">* </font><font color="#ffffff">(0,0)              
 </font><font color="#ffff00">cure critical wounds
 </font><font color="#00ff00">#########################################                                      
 # Consumables                                                                  
 #########################################                                      
 </font><font color="#ffffff">mushroom of restoring</font><font color="#c08040">#!E                                                       
 </font><font color="#ffffff">~mushroom of hallucination                                                     
                                                                                
 </font><font color="#ff00ff">?:[EQU $RACE Snotling Doppelganger]                                            
 </font><font color="#404040">~mushroom                                                                      
 </font><font color="#ff00ff">?:1                                                                            
 </font><font color="#00ffff">-------------------------------------------------------------------------------
 </font><font color="#ffffff">Pick up all items which have "cure critical wounds" as part of their name.
 Display these items as wanted in object list.
 
I colored the new line </font><font color="#ffff00">yellow </font><font color="#ffffff">in the screenshot to make it stand out. 
Pay attention to the bottom of the screen: does it sound like it will 
work? The reason I had to put the new line at the top is that </font><font color="#00ff00">rules are 
processed in order of priority from top to bottom</font><font color="#ffffff">; so if I placed the 
new rule at the bottom, it might have been overridden by an earlier 
rule.

Now, let's press </font><font color="#ff8000">] </font><font color="#ffffff">to activate the Object List - is there anything on 
this level that I want?

There are 4 wanted objects:                                         LEVEL      </font><font color="#00ff00">1
 </font><font color="#c00000">! </font><font color="#00ffff">4 Potions of Cure Critical Wounds    </font><font color="#ffffff">S  4 E 16                   EXP        </font><font color="#00ff00">3
                                                                    </font><font color="#ffffff">AU       </font><font color="#00ff00">747
</font><font color="#ffffff">There are 4 other objects:                                          </font><font color="#c0c0c0">|      </font><font color="#ffff00">!</font><font color="#c08040">(   
 </font><font color="#804000">~ </font><font color="#ffff00">4 Wooden Torches {unidentified}      </font><font color="#ffffff">N  3 E 17                   STR :     </font><font color="#00ff00">16
   </font><font color="#00ffff">[Press ESC to exit. Press ? for help]                            </font><font color="#ffffff">INT :     </font><font color="#00ff00">18
</font><font color="#ffffff">&gt;</font><font color="#808080">.....</font><font color="#ffffff">#</font><font color="#c08040">+</font><font color="#ffffff">#</font><font color="#808080">.</font><font color="#ffffff">%%                                                        WIS :      </font><font color="#00ff00">9
</font><font color="#ffffff">%%%%</font><font color="#808080">.</font><font color="#ffffff">%</font><font color="#808080">%.</font><font color="#ffffff">#</font><font color="#808080">.</font><font color="#ffffff">%                         ##</font><font color="#808080">..                            </font><font color="#ffffff">DEX :  </font><font color="#00ff00">18/40
   </font><font color="#808080">%</font><font color="#c08040">'</font><font color="#ffffff">%</font><font color="#808080">....</font><font color="#ffffff">#                        #</font><font color="#808080">%....                           </font><font color="#ffffff">CON :     </font><font color="#00ff00">17
  </font><font color="#808080">%</font><font color="#ffffff">%</font><font color="#808080">......</font><font color="#ffffff">%                       </font><font color="#808080">%%.</font><font color="#804000">~</font><font color="#808080">..%                           </font><font color="#ffffff">CHR :     </font><font color="#00ff00">12
 </font><font color="#ffffff">#</font><font color="#808080">%......</font><font color="#c08040">+</font><font color="#ffffff">%         </font><font color="#808080">%%</font><font color="#ffffff">%          </font><font color="#808080">%</font><font color="#ffffff">#</font><font color="#808080">....%%..                         </font><font color="#ffffff">AC         </font><font color="#00ff00">6
</font><font color="#ffffff">%#........%</font><font color="#808080">%</font><font color="#ffffff">%%%</font><font color="#808080">%</font><font color="#ffffff">%%</font><font color="#808080">%</font><font color="#ffffff">#</font><font color="#808080">%</font><font color="#ffffff">.%</font><font color="#808080">%        </font><font color="#ffffff">##</font><font color="#808080">..........                        </font><font color="#ffffff">HP   </font><font color="#00ff00">37</font><font color="#ffffff">/  </font><font color="#00ff00">37
</font><font color="#ffffff">%.........</font><font color="#c08040">'</font><font color="#808080">.</font><font color="#c08040">'</font><font color="#808080">....</font><font color="#ffffff">...</font><font color="#ffff00">@</font><font color="#ffffff">..#</font><font color="#808080">%      </font><font color="#ffffff">#</font><font color="#808080">%..........</font><font color="#ffffff">#                        SP   </font><font color="#00ff00">14</font><font color="#ffffff">/  </font><font color="#00ff00">14
</font><font color="#ffffff">%</font><font color="#808080">%</font><font color="#ffffff">%......%%%%%%</font><font color="#808080">%%%%%</font><font color="#ffffff">#</font><font color="#ff8000">*</font><font color="#c08040">'</font><font color="#ffffff">.###</font><font color="#808080">%</font><font color="#ffffff">% #</font><font color="#808080">%....</font><font color="#ffffff">##</font><font color="#808080">....</font><font color="#ff8000">*                                     
</font><font color="#808080">..</font><font color="#c08040">'</font><font color="#808080">.......</font><font color="#ffffff">#       %</font><font color="#808080">.......%..</font><font color="#ffffff">#</font><font color="#808080">%....%%....</font><font color="#ffffff">#</font><font color="#808080">%                                     
</font><font color="#ffffff">%</font><font color="#808080">%</font><font color="#ffffff">##</font><font color="#808080">......%       %........%%%....</font><font color="#ffffff">##</font><font color="#808080">....</font><font color="#ffffff">##                                      
   </font><font color="#808080">%.....%</font><font color="#ffffff">#       %</font><font color="#808080">.......</font><font color="#804000">'</font><font color="#808080">......</font><font color="#ffffff">#</font><font color="#808080">%.</font><font color="#c00000">!</font><font color="#808080">..%%                                       
   %.</font><font color="#ffffff">#</font><font color="#808080">...%        </font><font color="#ffffff">#</font><font color="#808080">.......</font><font color="#ffffff">#</font><font color="#808080">%%</font><font color="#ffffff">###########                                        
   </font><font color="#808080">%%%</font><font color="#ffffff">%#%%        #</font><font color="#808080">.......</font><font color="#ffffff">#                                                     

Bingo! You can even </font><font color="#ff0000">automatically travel </font><font color="#ffffff">to those delicious potions by 
pressing </font><font color="#ff8000">J </font><font color="#ffffff">inside the Object List. What could be easier?

To recap, adding the line "cure critical wounds" tells the Mogaminator 
to pick up any object that has "cure critical wounds" as part of its 
name. You don't have to type so much - "crit" might work just as well - 
but the less you type, the more likely it is that your new rule will 
also match other objects. For example, "cure" would match potions of 
Cure Light Wounds, Cure Serious Wounds and Cure Critical Wounds, and 
even Staves of Cure Wounds. Sometimes this is OK, but at other times, 
it is better to type more.

<a name="IntroRulesEvents"></a></font><font color="#c00000">Introduction to Rules and Events

</font><font color="#ffffff">So how does all this work? Basically, the preference file is an ordered 
list of rules. Whenever a certain event happens (such as moving on top 
of an object), the rules are scanned </font><font color="#ff00ff">from top to bottom</font><font color="#ffffff">, and the first 
one that matches (if any) is applied. Every rule has an action 
associated with it that determines what to do if the rule applies.

Each rule is a single line in the file; but not every line is a rule. 
Some lines are blank, some are comments, and some are conditionals that 
tell the game when to ignore rules.

Objects are tested against rules whenever a specific event happens; 
generally when the player (1) moves on top of an object, (2) gets a new 
object feeling (see <a href="option.html#destroy_feeling"></font><font color="#00ff00">[d]</a></font><font color="#ffffff">) or (3) identifies an object (see <a href="option.html#destroy_identify"></font><font color="#00ff00">[e]</a></font><font color="#ffffff">).

<a name="Rules"></a></font><font color="#c00000">Rules

</font><font color="#ffffff">A rule is a single line that consists of an action to perform, a 
predicate to test matches, and an optional inscription to add. Let's 
discuss each of these in turn.

  </font><font color="#ff8000">Actions
  
  </font><font color="#ffffff">First of all, picking something up is the default action and is 
  inferred whenever you fail to specify an alternative. What are the 
  alternatives?
  
  </font><font color="#ff8000">!  </font><font color="#ffffff">Destroy
  </font><font color="#ff8000">;  </font><font color="#ffffff">Prompt to pick up
  </font><font color="#ff8000">~  </font><font color="#ffffff">Leave on the floor
  
  These are the primary actions. Pick-up is assumed if the rule does 
  not begin with </font><font color="#ff8000">!</font><font color="#ffffff">, </font><font color="#ff8000">; </font><font color="#ffffff">or </font><font color="#ff8000">~</font><font color="#ffffff">.
  
  In addition, there are the following action letters that augment the 
  primary action:
  
  </font><font color="#ff8000">(  </font><font color="#ffffff">Don't display this item on the </font><font color="#ff8000">M </font><font color="#ffffff">map
  </font><font color="#ff8000">?  </font><font color="#ffffff">Automatically identify this item
  
  The first of these is not commonly used, since the </font><font color="#ff8000">M </font><font color="#ffffff">map item display 
  has been completely obsoleted by improvements to the object list. The 
  second option (</font><font color="#ff8000">?</font><font color="#ffffff">) is very useful, though, since it automatically 
  identifies the matching object. This is a great time-saver, but 
  requires you to carry Scrolls or Staves of Identify.
  
  All of the action letters must be specified </font><font color="#ff0000">first </font><font color="#ffffff">in the line for the 
  rule, with one exception. The </font><font color="#ff8000"># </font><font color="#ffffff">letter indicates that you wish to 
  automatically inscribe matching objects, and it must occur at the </font><font color="#ff0000">end 
  </font><font color="#ffffff">of the rule, followed only by the inscription text itself. For 
  example, </font><font color="#c08040">#@ad!sdk </font><font color="#ffffff">at the end of a rule will automatically inscribe 
  </font><font color="#ff0000">@ad!sdk </font><font color="#ffffff">to any object matching the rule. (See <a href="objects.html#Inscriptions"></font><font color="#00ff00">[f]</a> </font><font color="#ffffff">for an explanation 
  of this inscription!)
  
  </font><font color="#ff8000">Matching
  </font><font color="#ffffff">We saw above that matching is by string comparison with the object 
  name, but you can be more specific than that if you want. To do so, 
  use the following </font><font color="#ff0000">keywords </font><font color="#ffffff">to construct a predicate used to test 
  objects. The keyword portion of the match consists of zero or more 
  adjectives modifying a noun that indicates the broad class of objects 
  which should be considered. In addition, you can specify a free form 
  text comparison string by adjoining </font><font color="#ff8000">: </font><font color="#ffffff">followed by text to search for. 
  We'll put all of this together in the examples section below.
  
  Let's do nouns first. A complete list is presented at the end of this 
  document, but some common nouns to get us started include:
  
  </font><font color="#ff0000">Items     </font><font color="#ffffff">Applies to everything. This is useful for very general 
            rules, such as ~?</font><font color="#00ff00">unidentified </font><font color="#ff0000">items </font><font color="#ffffff">to automatically 
            identify, but leave on the ground, everything not yet 
            identified; or even </font><font color="#ff0000">items </font><font color="#ffffff">to pick everything up!
  </font><font color="#ff0000">Weapons   </font><font color="#ffffff">Applies to all melee weapons, but not to ranged weapons.
  </font><font color="#ff0000">Shooters  </font><font color="#ffffff">Applies to all missile weapons, including bows, slings and 
            crossbows.
  </font><font color="#ff0000">Armors    </font><font color="#ffffff">Applies to all forms of armor, including shields, helms and 
            cloaks as well as body armor.
  </font><font color="#ff0000">Wands     </font><font color="#ffffff">Applies to magical devices that are wands
  </font><font color="#ff0000">Staves    </font><font color="#ffffff">Applies to magical devices that are staves
  </font><font color="#ff0000">Rods      </font><font color="#ffffff">Applies to magical devices that are rods
  </font><font color="#ff0000">Potions   </font><font color="#ffffff">Applies to potions
  </font><font color="#ff0000">Scrolls   </font><font color="#ffffff">Applies to scrolls
  
  If you are using keywords to build a match predicate, then you must 
  specify exactly one noun, but may use as many adjectives as you like. 
  The complete list of adjectives is given below at <a href="editor.html#Adjectives"></font><font color="#00ff00">[g]</a></font><font color="#ffffff">, but here are 
  some of the more common ones:
  
  </font><font color="#00ff00">Unaware      </font><font color="#ffffff">Applies to objects whose flavor has not yet been 
               identified.
  </font><font color="#00ff00">Unidentified </font><font color="#ffffff">Applies to any objects that have not yet been 
               identified.
  </font><font color="#00ff00">Unsensed     </font><font color="#ffffff">Applies to objects that have not been identified or 
               pseudo-identified.
  </font><font color="#00ff00">Ego          </font><font color="#ffffff">Applies to all excellent objects.
  </font><font color="#00ff00">Nameless     </font><font color="#ffffff">Applies to all non-ego, non-artifact objects.
  </font><font color="#00ff00">Wanted       </font><font color="#ffffff">Applies to corpses and skeletons of wanted monsters. 
               These may be turned in at the Hunter's Office for a 
               prize.
  
  As an example of using multiple adjectives, the phrase ?</font><font color="#00ff00">unidentified 
  ego </font><font color="#ff0000">weapons </font><font color="#ffffff">applies to, well, all melee weapons that are both 
  excellent and not yet identified. Of course this means you must have 
  pseudo-identified the object to know that it is an ego.
  
  Finally, use a search string to further refine the match. If you 
  don't use any adjective or noun keywords, then the entire text of 
  your rule (starting after any action letters, and including all text 
  up to the </font><font color="#ff8000"># </font><font color="#ffffff">inscription character) is used as the search string. If 
  you are using keywords, mark the end of the keyword section with the 
  </font><font color="#ff8000">: </font><font color="#ffffff">separator. Examples are discussed below.
  
  </font><font color="#ff8000">Examples
  
  </font><font color="#ffffff">!</font><font color="#ff0000">potions</font><font color="#ffffff">:apple juice
    Destroy potions of apple juice (as refreshing as they might be!). 
    It uses the </font><font color="#ff8000">! </font><font color="#ffffff">action letter for destruction, the </font><font color="#ff0000">potions </font><font color="#ffffff">keyword to 
    apply to an entire class of objects, the </font><font color="#ff8000">: </font><font color="#ffffff">separator key, and a 
    text field for string matching against the object name.
  
  ?</font><font color="#00ff00">unaware </font><font color="#ff0000">items
    </font><font color="#ffffff">Pick up and automatically identify unidentified flavored items 
    (e.g. a potion you've never seen before). Note that the pickup 
    action is implied since none of the other primary actions are 
    indicated, and even though there is a secondary action (to 
    auto-id). This command uses the adjective </font><font color="#00ff00">unaware </font><font color="#ffffff">to modify the 
    noun </font><font color="#ff0000">items</font><font color="#ffffff">. You could narrow down the applicability of this rule by 
    using a more specific noun, such as </font><font color="#ff0000">scrolls </font><font color="#ffffff">or </font><font color="#ff0000">potions</font><font color="#ffffff">.
  
  </font><font color="#00ff00">wanted </font><font color="#ff0000">corpses</font><font color="#c08040">#Wanted!kkk
    </font><font color="#ffffff">Pick up wanted corpses, and automatically inscribe them with 
    </font><font color="#c08040">Wanted!kkk</font><font color="#ffffff">. This inscription may make it sound like the monster was 
    wanted for racism, but it simply means you get prompted repeatedly 
    if you accidentally try to destroy the corpse. (See <a href="objects.html#Inscriptions"></font><font color="#00ff00">[h]</a> </font><font color="#ffffff">for more on 
    how inscriptions work.)
  
  ?</font><font color="#ff0000">staves</font><font color="#ffffff">:destruction</font><font color="#c08040">#@ud!sdk
    </font><font color="#ffffff">Pick up and automatically identify all staves whose name contains 
    the string "destruction". Inscribe these objects with </font><font color="#c08040">@ud!sdk</font><font color="#ffffff">.
  

<a name="Scenarios"></a></font><font color="#c00000">Example Scenarios

</font><font color="#ffffff">After that last section, you should have complete mastery over 
individual rules. Now, it is time to step up one level and apply 
multiple rules to accomplish common tasks. Ready?

  </font><font color="#00ffff">Scenario #1</font><font color="#ffffff">: Handling Objects
  
  In this scenario, you would like to handle the stream of objects in 
  the most efficient way possible. Let's begin with the following 
  rules:
    </font><font color="#00ff00">unsensed </font><font color="#ff0000">armors
    </font><font color="#00ff00">unsensed </font><font color="#ff0000">weapons
  
  </font><font color="#ffffff">These rules say to pick up all armor and weapons not yet sensed or 
  identified. That leaves out many types of objects, like potions and 
  scrolls, but at least weapons and armors are objects that can be 
  sensed. Since objects need to be in your pack to be sensed (we know 
  immediate floor-pseudo-ID didn't kick in because the objects matched 
  the </font><font color="#00ff00">unsensed </font><font color="#ffffff">adjective!), it is convenient to pick them up.
  
  Now, let's add the following rules:
    !</font><font color="#00ff00">average common </font><font color="#ff0000">weapons
    </font><font color="#ffffff">!</font><font color="#00ff00">average common </font><font color="#ff0000">armors
  
  </font><font color="#ffffff">You might not actually want this; but for now, assume your character 
  is advanced enough to view average common equipment as junk. These 
  rules will fire once pseudo-ID kicks in, destroying weapons and armor 
  that pseudo-ID as average. The </font><font color="#00ff00">common </font><font color="#ffffff">adjective prevents these rules 
  from applying to rare average items, like dragon scale mail or blades 
  of chaos.
  
  So, now our character is merrily picking up all equipment and then 
  auto-destroying the average stuff once pseudo-id kicks in. Can we do 
  more? Well, try adding:
    ?</font><font color="#00ff00">unidentified ego </font><font color="#ff0000">items
  
  </font><font color="#ffffff">Now, the egos are automatically being identified on pseudo-ID as 
  well. Pretty sweet! But maybe you get tired of some ego types after a 
  while, and want them registered for destruction:
  
    !</font><font color="#00ff00">common ego </font><font color="#ff0000">cloaks</font><font color="#ffffff">:of protection
    !</font><font color="#00ff00">common ego </font><font color="#ff0000">weapons</font><font color="#ffffff">:of sharpness
  
  Now even boring excellent items are being toasted for you, 
  automatically, with nary a keystroke on your part; but, sometimes 
  swords of sharpness become dice-boosted, and might not be so boring 
  after all. You can protect them with
    </font><font color="#00ff00">dice boosted </font><font color="#ff0000">weapons
  </font><font color="#ffffff">or perhaps even
    </font><font color="#ff0000">weapons </font><font color="#ff8000">more dice than 30
  </font><font color="#ffffff">though that last one is an advanced maneuver.
  
  In summary, the complete order of your rules might be:
    </font><font color="#ff0000">weapons </font><font color="#ff8000">more dice than 30
    </font><font color="#ffffff">?</font><font color="#00ff00">unidentified ego </font><font color="#ff0000">items
  
    </font><font color="#ffffff">!</font><font color="#00ff00">average common </font><font color="#ff0000">weapons
    </font><font color="#ffffff">!</font><font color="#00ff00">average common </font><font color="#ff0000">armors
  
    </font><font color="#00ff00">unidentified </font><font color="#ff0000">armors
    </font><font color="#00ff00">unidentified </font><font color="#ff0000">weapons
  
    </font><font color="#ffffff">!</font><font color="#00ff00">common ego </font><font color="#ff0000">cloaks</font><font color="#ffffff">:of protection
    !</font><font color="#00ff00">common ego </font><font color="#ff0000">weapons</font><font color="#ffffff">:of sharpness
  
  New armors and weapons come down and hit rule 5 or 6 when your 
  character steps on them, so they get placed into your pack 
  automatically. Eventually pseudo-ID will kick in, revealing the 
  object as average, in which case it is destroyed by rule 3 or rule 4, 
  or as excellent, in which case it is processed by rule 2 which 
  auto-identifies the ego item and rescans the rules. If it is a cloak 
  of protection, it is destroyed by rule 7, while if it is a weapon of 
  sharpness, it is destroyed by rule 8 - unless it happened to be 
  hugely dice boosted, in which case it is protected by top-priority 
  rule 1. Easy, right? Now you only have {bad} and {good} and {special} 
  equipment to worry about...
  
  </font><font color="#00ffff">Scenario #2</font><font color="#ffffff">: Flavored Objects
  This one is easier, and I'll give the full set of rules first:
    </font><font color="#ff0000">potions</font><font color="#ffffff">:healing</font><font color="#c08040">#!kq
    </font><font color="#ff0000">potions</font><font color="#ffffff">:of strength</font><font color="#c08040">#!k
    </font><font color="#ff0000">potions</font><font color="#ffffff">:of intelligence</font><font color="#c08040">#!k
    </font><font color="#ff0000">potions</font><font color="#ffffff">:of wisdom</font><font color="#c08040">#!k
    </font><font color="#ff0000">potions</font><font color="#ffffff">:of dexterity</font><font color="#c08040">#!k
    </font><font color="#ff0000">potions</font><font color="#ffffff">:of constitution</font><font color="#c08040">#!k
    </font><font color="#ff0000">potions</font><font color="#ffffff">:of charisma</font><font color="#c08040">#!k
    </font><font color="#ff0000">potions</font><font color="#ffffff">:augmentation</font><font color="#c08040">#!k
  
    </font><font color="#ff0000">scrolls</font><font color="#ffffff">:artifact creation</font><font color="#c08040">#!*
    </font><font color="#ffffff">...
  
    ?</font><font color="#00ff00">unaware </font><font color="#ff0000">items
  
    </font><font color="#00ff00">collecting </font><font color="#ff0000">potions
    </font><font color="#00ff00">collecting </font><font color="#ff0000">scrolls
  
    ?:$AUTOREGISTER
    </font><font color="#ffffff">...
    (!</font><font color="#ff0000">potions</font><font color="#ffffff">:^potion of restore charisma$
    (!</font><font color="#ff0000">scrolls</font><font color="#ffffff">:^scroll of treasure detection$
    ... &lt;many more junk flavors auto-registered for destruction&gt; ...
  
  Now, the pattern is wanted flavors on top for autopickup (and 
  inscription), unwanted flavors on bottom for autodestruction (these 
  are placed in your file automatically each time you press </font><font color="#ff8000">A </font><font color="#ffffff">while 
  destroying an object) and rules for collecting and unaware items in 
  the middle. Unaware items get automatically identified, at which 
  point one of the pick-up or destroy rules might get a chance to act. 
  As for the </font><font color="#00ff00">collecting </font><font color="#ffffff">rules, those fire if you have another object of 
  the same flavor in your pack. Perhaps you are carrying potions of 
  Cure Critical Wounds, but don't have a rule specifically for this 
  flavor; in this case, the collecting rule will pick up other potions 
  of Cure Critical Wounds for you.
  
  </font><font color="#00ffff">Scenario #3</font><font color="#ffffff">: Spellbooks
  OK, this is the last one. See if you can figure this one out first:
    </font><font color="#00ff00">first realm's fourth </font><font color="#ff0000">spellbooks</font><font color="#c08040">#@md!sdk
    </font><font color="#00ff00">first realm's third </font><font color="#ff0000">spellbooks</font><font color="#c08040">#@mc!sdk
    </font><font color="#ffffff">~</font><font color="#00ff00">first realm's second </font><font color="#ff0000">spellbooks</font><font color="#c08040">#@mb!k
    </font><font color="#ffffff">~</font><font color="#00ff00">first realm's first </font><font color="#ff0000">spellbooks</font><font color="#c08040">#@ma!k
    </font><font color="#00ff00">second realm's fourth </font><font color="#ff0000">spellbooks</font><font color="#c08040">#@mh!sdk
    </font><font color="#00ff00">second realm's third </font><font color="#ff0000">spellbooks</font><font color="#c08040">#@mg!sdk
    </font><font color="#ffffff">~</font><font color="#00ff00">second realm's second </font><font color="#ff0000">spellbooks</font><font color="#c08040">#@mf!k
    </font><font color="#ffffff">~</font><font color="#00ff00">second realm's first </font><font color="#ff0000">spellbooks</font><font color="#c08040">#@me!k
    </font><font color="#ffffff">!</font><font color="#00ff00">first </font><font color="#ff0000">spellbooks
    </font><font color="#ffffff">!</font><font color="#00ff00">second </font><font color="#ff0000">spellbooks
    </font><font color="#ffffff">!</font><font color="#00ff00">third </font><font color="#ff0000">spellbooks</font><font color="#ffffff">:major arcana
    !</font><font color="#00ff00">fourth </font><font color="#ff0000">spellbooks</font><font color="#ffffff">:manual of mastery
    </font><font color="#00ff00">third </font><font color="#ff0000">spellbooks
    </font><font color="#00ff00">fourth </font><font color="#ff0000">spellbooks
  </font><font color="#ffffff">Did you figure it out? This scenario picks up high level spellbooks 
  from your character's magic realms, leaves low level spellbooks from 
  your realms, destroys all other low level spellbooks, destroys all 
  arcane magic spellbooks, but picks up high level spellbooks from 
  other realms (presumably to sell for gold). Spellbooks from your 
  realms are auto-inscribed to keep book labels consistent. Here, as 
  elsewhere, order is very important: rules for the character's spell 
  realms must come before the general rules to destroy low level 
  spellbooks. (There is an </font><font color="#00ff00">unreadable </font><font color="#ffffff">adjective that would have made 
  processing safer and less order-dependent here.)
  
<a name="WhichRule"></a></font><font color="#c00000">Which Rule is Being Used?

</font><font color="#ffffff">If you are ever unsure about which rule is being applied in a given 
situation, turn on the </font><font color="#ff0000">destroy_debug </font><font color="#ffffff">option (see <a href="option.html#destroy_debug"></font><font color="#00ff00">[i]</a></font><font color="#ffffff">). With this option 
you can use the </font><font color="#ff8000">I</font><font color="#ffffff">nspect command for more information. For example:

  </font><font color="#804000">a Thieves' Guide [Burglar's Handbook]

    </font><font color="#c00000">Autopick: </font><font color="#ffffff">(!</font><font color="#00ff00">unreadable first </font><font color="#ff0000">spellbooks

</font><font color="#ffffff">I may or may not like this behavior, and if I don't, now I know which 
line to change!

In addition, with debugging turned on, the rules used are printed in 
the message log as actions are taken, so you can see exactly why 
objects are being destroyed, picked up, left on the ground or 
auto-identified. For example:

  You have 26 charges remaining. </font><font color="#00ffff">(AutoID:</font><font color="#ffffff">~?</font><font color="#00ff00">unidentified </font><font color="#ff0000">rods</font><font color="#00ffff">) </font><font color="#ffffff">You see </font><font color="#ff00ff">a 
  Rod: </font><font color="#c0c0c0">Frost Ball </font><font color="#ff00ff">(</font><font color="#ffff00">1/3 charges</font><font color="#ff00ff">)</font><font color="#ffffff">. </font><font color="#00ffff">(Destroy:</font><font color="#ffffff">(!</font><font color="#ff0000">rods</font><font color="#ffffff">:frost ball$</font><font color="#00ffff">)
  </font><font color="#ffffff">Auto-destroying.

Since this is message spam, you probably don't want to leave the 
</font><font color="#ff0000">destroy_debug </font><font color="#ffffff">option permanently on.

<a name="Conditionals"></a></font><font color="#c00000">Conditionals

</font><font color="#ffffff">This is an advanced topic, but the underlying principles are simple. 
What you consider useful or junk may depend on your race, class, 
character level or other similar details; and </font><font color="#ff0000">conditionals </font><font color="#ffffff">help you 
apply rules only when they are appropriate. Each conditional statement 
evaluates as either </font><font color="#ff0000">TRUE </font><font color="#ffffff">(1) or </font><font color="#ff0000">FALSE </font><font color="#ffffff">(0); if a conditional that 
evaluates as FALSE is encountered, all rules that follow it are ignored 
until the next TRUE conditional is reached.

Conditional lines always begin with the characters </font><font color="#ff0000">?:</font><font color="#ffffff">, followed by a 
(rather cryptic looking) expression that the game will evaluate.

Let's look at an example. Remember </font><font color="#00ffff">Scenario #1 </font><font color="#ffffff">above when we added 
lines to destroy average equipment? I said you might not actually want 
them, unless your character was advanced enough. Suppose you consider 
level 20 advanced enough?
  </font><font color="#ff00ff">?:[GEQ $LEVEL 20]
  </font><font color="#ffffff">!</font><font color="#00ff00">average common </font><font color="#ff0000">weapons
  </font><font color="#ffffff">!</font><font color="#00ff00">average common </font><font color="#ff0000">armors
  </font><font color="#ff00ff">?:1

</font><font color="#ffffff">Notice there are two lines colored in </font><font color="#ff00ff">violet</font><font color="#ffffff">, each beginning with </font><font color="#ff0000">?:</font><font color="#ffffff">. 
These are the conditionals; the first includes a funny-looking 
expression while the second one is much simpler, just </font><font color="#ff00ff">?:1</font><font color="#ffffff">.

The first conditional might or might not evaluate as TRUE; it depends 
on the value of $LEVEL (which you probably guessed is your current 
character level) and whether or not it is &gt;= 20. GEQ stands for </font><font color="#ff0000">greater 
than or equal to</font><font color="#ffffff">, and 20 is just a number. The order ([GEQ $LEVEL 20] 
instead of, say, $LEVEL GEQ 20 or even $LEVEL &gt;= 20) is because GEQ is 
this expression's </font><font color="#ff0000">function</font><font color="#ffffff">, and $LEVEL and 20 are arguments for it.

In contrast, </font><font color="#ff00ff">?:1 </font><font color="#ffffff">is easy. It evaluates as... well, 1! And as we already 
noted, 1 means TRUE; so </font><font color="#ff00ff">?:1 </font><font color="#ffffff">flips the "ignore rules" switch back off, 
and effectively marks the end of the area to which the previous 
conditional applies.

Here's another example:
  </font><font color="#ff00ff">?:[OR [EQU $CLASS Mage High-Mage Sorcerer] [EQU $RACE Beholder Lich] ]
  </font><font color="#ffffff">wizardstaff
  </font><font color="#ff00ff">?:1

</font><font color="#ffffff">That's a more complicated expression, but you can probably figure it 
out: it's TRUE if your class is either a Mage, High-Mage or a Sorcerer; 
</font><font color="#ff00ff">or </font><font color="#ffffff">if your race is either a Beholder or a Lich.

So, we have expressions composed of functions (like GEQ and OR), 
variables (like $RACE and $LEVEL), literals (like Mage and Sorcerer) 
and brackets. What are the functions and variables we can use?

</font><font color="#00ff00">Function    Explanation
  </font><font color="#ff0000">IOR       </font><font color="#ffffff">Inclusive Or: [IOR a b c ...] is TRUE if the value of </font><font color="#ff8000">any 
            </font><font color="#ffffff">subexpression a, b, c, ... is TRUE.
  </font><font color="#ff0000">OR        </font><font color="#ffffff">Same as IOR. (If you are a programmer or a mathematician 
            you might expect there to be a XOR function, but there 
            isn't!)
  </font><font color="#ff0000">AND       </font><font color="#ffffff">Logical And: [AND a b c ...] is TRUE if the values of </font><font color="#ff8000">all 
            </font><font color="#ffffff">subexpressions a, b, c, ... are TRUE.
  </font><font color="#ff0000">NOT       </font><font color="#ffffff">[NOT a] is TRUE if a is FALSE, and vice versa. Use this 
            when you want to take an action when something is </font><font color="#ff8000">not </font><font color="#ffffff">true.
  </font><font color="#ff0000">EQU       </font><font color="#ffffff">[EQU v a b c ...] is TRUE when the value of v is </font><font color="#ff8000">one </font><font color="#ffffff">of the 
            values a, b, c, ... Comparison is by string. Typically, you 
            use this with v being a built-in variable expression like 
            </font><font color="#ff0000">$CLASS </font><font color="#ffffff">(see below), and the remaining arguments being 
            strings to test like </font><font color="#ff0000">Mage </font><font color="#ffffff">or </font><font color="#ff0000">Sorcerer</font><font color="#ffffff">. Note that string 
            literals are not quoted and therefore may not contain 
            spaces. Hyphenate names with spaces (</font><font color="#ff0000">Filthy-Rag </font><font color="#ffffff">instead of 
            </font><font color="#ff0000">Filthy Rag</font><font color="#ffffff">) if necessary.
  </font><font color="#ff0000">LEQ       </font><font color="#ffffff">[LEQ v a] is TRUE when the integer value of v is </font><font color="#ff8000">less than 
            or equal to </font><font color="#ffffff">the integer value of a. Note that while EQU 
            treats its arguments as strings, LEQ treats them as 
            numbers.
  </font><font color="#ff0000">GEQ       </font><font color="#ffffff">[GEQ v a] is TRUE when the integer value of v is </font><font color="#ff8000">greater 
            than or equal to </font><font color="#ffffff">the integer value of a. Note that while 
            EQU treats its arguments as strings, GEQ treats them as 
            numbers.

</font><font color="#00ff00">Variable    Explanation
</font><font color="#ff0000">$RACE       </font><font color="#ffffff">Returns the name of your race; for example, </font><font color="#ff0000">Snotling </font><font color="#ffffff">or 
            </font><font color="#ff0000">High-Elf</font><font color="#ffffff">.
</font><font color="#ff0000">$CLASS      </font><font color="#ffffff">Returns the name of your class; for example, </font><font color="#ff0000">Warrior-Mage 
            </font><font color="#ffffff">or </font><font color="#ff0000">Mindcrafter</font><font color="#ffffff">. Note that if you are playing in </font><font color="#c00000">Monster 
            </font><font color="#ffffff">mode, then this variable always returns </font><font color="#ff0000">Monster</font><font color="#ffffff">, while 
            $RACE returns the actual monster race you are playing, such 
            as </font><font color="#ff0000">Lich </font><font color="#ffffff">or </font><font color="#ff0000">Dragon</font><font color="#ffffff">.
</font><font color="#ff0000">$SUBCLASS   </font><font color="#ffffff">Returns the name of your subclass, if any. This could be, 
            say, </font><font color="#ff0000">Yeqrezh </font><font color="#ffffff">on a Disciple or </font><font color="#ff0000">Evil Bias </font><font color="#ffffff">on a Gray-Mage.
</font><font color="#ff0000">$SPECIALITY </font><font color="#ffffff">Returns the name of your speciality, for example </font><font color="#ff0000">Axes </font><font color="#ffffff">on a 
            Weaponmaster or </font><font color="#ff0000">Potions </font><font color="#ffffff">on a Devicemaster. Returns </font><font color="#ff0000">none </font><font color="#ffffff">for 
            all classes except those two.
</font><font color="#ff0000">$REALM1     </font><font color="#ffffff">Returns the name of your first realm, if any; for example, 
            </font><font color="#ff0000">Chaos </font><font color="#ffffff">or </font><font color="#ff0000">Sorcery</font><font color="#ffffff">. If the player does not have a first 
            realm, then this variable returns </font><font color="#ff0000">none</font><font color="#ffffff">.
</font><font color="#ff0000">$REALM2     </font><font color="#ffffff">Returns the name of your second realm, if any; for example, 
            </font><font color="#ff0000">Life </font><font color="#ffffff">or </font><font color="#ff0000">Death</font><font color="#ffffff">. If the player does not have a second realm, 
            then this variable returns </font><font color="#ff0000">none</font><font color="#ffffff">.
</font><font color="#ff0000">$LEVEL      </font><font color="#ffffff">Returns your current level. Typically, you combine this 
            with GEQ or LEQ to test the level against a threshold, such 
            as </font><font color="#ff00ff">[LEQ $LEVEL 34]</font><font color="#ffffff">.
</font><font color="#ff0000">$SELLING    </font><font color="#ffffff">Returns </font><font color="#ff0000">Off </font><font color="#ffffff">if you have turned the </font><font color="#ff0000">no_selling </font><font color="#ffffff">option on, 
            and </font><font color="#ff0000">On </font><font color="#ffffff">otherwise.
</font><font color="#ff0000">$MONEY      </font><font color="#ffffff">Returns the amount of gold the player has. Like $LEVEL, use 
            this with GEQ or LEQ to test whether your player is rich or 
            poor.

All variables begin with a </font><font color="#ff8000">$ </font><font color="#ffffff">character to distinguish them from string 
literals.

</font><font color="#00ff00">Literal     Explanation
</font><font color="#ff0000">Number      </font><font color="#ffffff">Numbers are written like </font><font color="#ff0000">105 </font><font color="#ffffff">or </font><font color="#ff0000">32</font><font color="#ffffff">.
</font><font color="#ff0000">String      </font><font color="#ffffff">Strings are written like </font><font color="#ff0000">High-Mage </font><font color="#ffffff">or </font><font color="#ff0000">Beholder</font><font color="#ffffff">, and may not 
            contain spaces.

<a name="Editor"></a></font><font color="#c00000">Using the Editor

</font><font color="#ffffff">The editor should not be too hard to use, and you can probably figure 
things out on your own. Like any text editor, you move the cursor about 
with the arrow keys and then type when you have located the correct 
position. Advanced things (and easy things that slip your mind) can be 
done through the </font><font color="#ff8000">ESC </font><font color="#ffffff">menu:
 
 </font><font color="#00ffff">(a-j) Command:                                                                 
 </font><font color="#00ff00">#####</font><font color="#0000ff">+---------------------------+</font><font color="#00ff00">#######                                      
 # Con</font><font color="#0000ff">| </font><font color="#00ffff">a) Help                   </font><font color="#0000ff">|                                             
 </font><font color="#00ff00">#####</font><font color="#0000ff">| </font><font color="#00ffff">b) Quit without save   ^Q </font><font color="#0000ff">|</font><font color="#00ff00">#######                                      
 </font><font color="#ffffff">mushr</font><font color="#0000ff">| </font><font color="#00ffff">c) Sa</font><font color="#0000ff">+----------------------------------+                               
 </font><font color="#ffffff">~mush</font><font color="#0000ff">| </font><font color="#00ffff">d) Re</font><font color="#0000ff">| </font><font color="#00ffff">a) Left     (Left Arrow key)  ^B </font><font color="#0000ff">|                               
      | </font><font color="#00ffff">e) Lo</font><font color="#0000ff">| </font><font color="#00ffff">b) Down     (Down Arrow key)  ^N </font><font color="#0000ff">|                               
 </font><font color="#ff00ff">?:[EQ</font><font color="#0000ff">| </font><font color="#00ffff">f) Ed</font><font color="#0000ff">| </font><font color="#00ffff">c) Up       (Up Arrow key)    ^P </font><font color="#0000ff">|                               
 </font><font color="#404040">~mush</font><font color="#0000ff">| </font><font color="#00ffff">g) Se</font><font color="#0000ff">| </font><font color="#00ffff">d) Right    (Right Arrow key) ^F </font><font color="#0000ff">|                               
 </font><font color="#ff00ff">?:1  </font><font color="#0000ff">| </font><font color="#00ffff">h) Mo</font><font color="#0000ff">| </font><font color="#00ffff">e) Beginning of line          ^A </font><font color="#0000ff">|                               
      | </font><font color="#00ffff">i) In</font><font color="#0000ff">| </font><font color="#00ffff">f) End of line                ^E </font><font color="#0000ff">|                               
 </font><font color="#ff00ff">?:[LE</font><font color="#0000ff">| </font><font color="#00ffff">j) Ad</font><font color="#0000ff">| </font><font color="#00ffff">g) Page up  (PageUp key)      ^O </font><font color="#0000ff">|                               
 </font><font color="#404040">potio</font><font color="#0000ff">| </font><font color="#00ffff">k) Ad</font><font color="#0000ff">| </font><font color="#00ffff">h) Page down(PageDown key)    ^L </font><font color="#0000ff">|                               
 </font><font color="#ff00ff">?:1  </font><font color="#0000ff">| </font><font color="#00ffff">l) Ke</font><font color="#0000ff">| </font><font color="#00ffff">i) Top      (Home key)        ^T </font><font color="#0000ff">|                               
 </font><font color="#ff0000">potio</font><font color="#0000ff">| </font><font color="#00ffff">m) Co</font><font color="#0000ff">| </font><font color="#00ffff">j) Bottom   (End key)         ^U </font><font color="#0000ff">|                               
 </font><font color="#ff0000">potio</font><font color="#0000ff">+------+----------------------------------+                               
 </font><font color="#ff0000">potions</font><font color="#ffffff">:heroism                                                                
 </font><font color="#ff0000">potions</font><font color="#ffffff">:speed</font><font color="#c08040">#!kq                                                              
 </font><font color="#ff0000">potions</font><font color="#ffffff">:giant strength</font><font color="#c08040">#!k                                                      
                                                                                
 </font><font color="#ff0000">potions</font><font color="#ffffff">:enlightenment                                                          
                                                                                
 </font><font color="#ff0000">potions</font><font color="#ffffff">:of strength</font><font color="#c08040">#!k                                                         
 </font><font color="#00ffff">-------------------------------------------------------------------------------
 </font><font color="#ffffff">This line is a comment.                                                        
 
Here, you can clearly see what commands to use to move the cursor 
about, as well as backup keys in case normal keys like arrows somehow 
fail.

Note that the editor automatically colors each rule line according to 
the syntax of the expression. Sometimes the text displayed is not 
exactly the same as the rule you actually typed in (adjectives might be 
shuffled, for instance); but the meaning will be the same. To avoid 
confusion, the line your cursor is on is never syntax-colored and 
always displays exactly what you typed.

<a name="EasyDestroyer"></a></font><font color="#c00000">The Easy Destroyer

</font><font color="#ffffff">If, after reading all of the above, you decide that the Mogaminator is 
too much for you to handle, you may instead use a simpler system to 
manage objects: the </font><font color="#ff0000">Easy Destroyer</font><font color="#ffffff">. This system is configured via 
options (see <a href="option.html#AutoDestroyer"></font><font color="#00ff00">[j]</a></font><font color="#ffffff">); the option </font><font color="#ff0000">destroy_items </font><font color="#ffffff">turns the Easy Destroyer on 
and off. Using the Mogaminator and the Easy Destroyer side-by-side is 
recommended </font><font color="#ff00ff">if and only if </font><font color="#ffffff">you have the </font><font color="#ff0000">always_pickup </font><font color="#ffffff">option on.

If you have turned on the Mogaminator but don't like what it's doing, 
you can use the </font><font color="#ff0000">no_mogaminator </font><font color="#ffffff">option to turn it off, or the 
</font><font color="#ff0000">leave_mogaminator </font><font color="#ffffff">option to limit object destruction to complete junk 
only. Using </font><font color="#ff0000">always_pickup </font><font color="#ffffff">also disables item destruction by the 
Mogaminator while still allowing the Easy Destroyer.

<a name="Reference"></a></font><font color="#c00000">Reference Tables

</font><font color="#ffffff">This section will give all the nitty-gritty syntax details for the 
Mogaminator. But first, where are those preference files located 
anyway? The default preferences are initialized from 
lib/pref/pickpref.prf; so if you want to edit the default preferences 
for all characters, this is the file to edit. Once you activate the 
Mogaminator, your preferences are stored in a separate file in a 
system-dependent location. On Windows, they will be stored at 
lib/user/pickpref-</font><font color="#ff8000">NAME</font><font color="#ffffff">.prf, while on Linux they might be moved to 
~/.angband/FrogComposband/pickpref-</font><font color="#ff8000">NAME</font><font color="#ffffff">.prf (outside the game's 
directory structure). Here, </font><font color="#ff8000">NAME </font><font color="#ffffff">is replaced with your player's current 
name. So if you want to edit your character's preferences using an 
outside text editor, this is the file you need to change. It's usually 
simpler to just use the in-game editor; but if you do edit preferences 
outside the game while you are playing, be sure to use the </font><font color="#ff8000">$ </font><font color="#ffffff">command to 
force the game to reload the preference file.

The promised reference tables follow below... enjoy!

<a name="LineTypes"></a></font><font color="#00ffff">Table I: Line Types in the Editor
  </font><font color="#00ff00">Type        Explanation
  </font><font color="#ff0000">Comment     </font><font color="#ffffff">These lines begin with a </font><font color="#ff8000"># </font><font color="#ffffff">and are ignored by the system.
  
  </font><font color="#ff0000">Conditional </font><font color="#ffffff">These lines flip the global processing switch ON and OFF. 
              If the expression evaluates to TRUE, then the switch is 
              turned ON and any subsequent rules will be included. If 
              the expression evaluates to FALSE, the switch is turned 
              OFF and any subsequent rules will be ignored until the 
              next TRUE conditional is reached. See <a href="editor.html#Conditionals"></font><font color="#00ff00">[k]</a> </font><font color="#ffffff">above for 
              details.
  
  </font><font color="#ff0000">Rule        </font><font color="#ffffff">Every other line, unless it is blank, is a rule. The 
              syntax of a rule is described in the following 5 tables.
  
<a name="RuleSyntax"></a></font><font color="#00ffff">Table II: Rules: Syntax
  </font><font color="#ffffff">Rules have one of the following two syntactic forms:
  </font><font color="#ffff00">[</font><font color="#ffffff">Actions</font><font color="#ffff00">] </font><font color="#00ff00">Adjectives</font><font color="#ffff00">* </font><font color="#ff0000">Noun </font><font color="#ff8000">Special-Clauses</font><font color="#ffff00">* [</font><font color="#ff8000">:</font><font color="#ffffff">Search-String</font><font color="#ffff00">] 
    [</font><font color="#c08040">#Inscription-String</font><font color="#ffff00">]
  
  [</font><font color="#ffffff">Actions</font><font color="#ffff00">] </font><font color="#ffffff">Search-String </font><font color="#ffff00">[</font><font color="#c08040">#Inscription-String</font><font color="#ffff00">]
  
  </font><font color="#ffffff">Square brackets denote optional syntactic elements. </font><font color="#ffff00">* </font><font color="#ffffff">is the 
  Kleene-Star and indicates that 0 or more of the preceding syntactic 
  elements may be specified. All rules must be specified on a single 
  line in your preference file.
  
  </font><font color="#00ff00">Syntactic Element  Explanation
  </font><font color="#ffffff">Actions            The "what to do if this rule matches" part. Uses 
                     one or more of the action letters described in the 
                     next table. If this element is omitted, the action 
                     defaults to </font><font color="#ff0000">pick up</font><font color="#ffffff">.
  
  </font><font color="#00ff00">Adjectives         </font><font color="#ffffff">These modify nouns, further narrowing down the set 
                     of objects that will match the rule.
  
  </font><font color="#ff0000">Noun               </font><font color="#ffffff">A single noun is always specified for the first 
                     syntactic form and indicates the broad class of 
                     objects to which this rule shall apply.
  
  </font><font color="#ff8000">Special Clauses    </font><font color="#ffffff">Further refinements, discussed below (<a href="editor.html#SpecialClauses"></font><font color="#00ff00">[l]</a></font><font color="#ffffff">). They 
                     resemble adjectives in that they modify nouns, but 
                     unlike adjectives they involve numerical 
                     comparison of object attributes. They also always 
                     follow the noun, while adjectives precede the 
                     noun.
  
  Search String      This is a free-form text value to compare against 
                     the object's name. Comparison is by string and is 
                     case-insensitive. Two special characters, </font><font color="#ff8000">^ </font><font color="#ffffff">and </font><font color="#ff8000">$</font><font color="#ffffff">, 
                     indicate the matching string must be at the 
                     beginning or end (respectively) of the object's 
                     name; for example, </font><font color="#ff0000">^foo </font><font color="#ffffff">will only match objects 
                     whose names begin with </font><font color="#ff0000">foo</font><font color="#ffffff">, so </font><font color="#ff0000">foobar </font><font color="#ffffff">matches it 
                     but </font><font color="#ff0000">barfoo </font><font color="#ffffff">does not. Similarly, </font><font color="#ff0000">bar$ </font><font color="#ffffff">only matches 
                     objects whose name ends with </font><font color="#ff0000">bar</font><font color="#ffffff">. Finally, note 
                     that object names are always in the singular; so, 
                     for example, </font><font color="#ff0000">Seeker Bolt </font><font color="#ffffff">would work for a string 
                     match, but </font><font color="#ff0000">Seeker Bolts </font><font color="#ffffff">would always fail.
  
  </font><font color="#c08040">Inscription String </font><font color="#ffffff">This is a free-form text value that will be 
                     automatically inscribed on any object matching 
                     this rule.
  
  If this seems complicated, study the default preferences and you will 
  soon figure things out.
  
<a name="CommandLetters"></a></font><font color="#00ffff">Table III: Rules: Action Letters
  </font><font color="#00ff00">Letter  Type       Explanation
    </font><font color="#ff8000">!     </font><font color="#ffffff">Primary    Destroy
    </font><font color="#ff8000">;     </font><font color="#ffffff">Primary    Prompt to pick up
    </font><font color="#ff8000">~     </font><font color="#ffffff">Primary    Leave on the floor
          Primary    Pick up - assumed if you fail to provide an 
                     alternative primary action letter. There is no 
                     specific action letter for this action, it is 
                     simply assumed unless overridden.
    </font><font color="#ff8000">(     </font><font color="#ffffff">Secondary  Hide in </font><font color="#ff8000">M </font><font color="#ffffff">map
    </font><font color="#ff8000">?     </font><font color="#ffffff">Secondary  Automatically identify this item, provided you 
                     have scrolls or staves of Identify.
    </font><font color="#ff8000">#     </font><font color="#ffffff">Terminal   Auto-inscribe matching objects with whatever text 
                     follows this key. Note that Primary and Secondary 
                     action letters must be placed at the </font><font color="#ff0000">beginning </font><font color="#ffffff">of 
                     a rule line, while Terminal action letters must be 
                     placed at the </font><font color="#ff0000">end </font><font color="#ffffff">of a rule line.
  
  Every rule must have one Primary action (which is assumed to be Pick 
  Up if nothing else is specified). It can have 0 or more secondary 
  actions, and the sole Terminal action is also optional.
  
<a name="Nouns"></a></font><font color="#00ffff">Table IV: Rules: Nouns
  </font><font color="#00ff00">Noun       Explanation
  </font><font color="#ff0000">Items      </font><font color="#ffffff">Applies to everything. This is useful for very general 
             rules, such as ~?</font><font color="#00ff00">unidentified </font><font color="#ff0000">items </font><font color="#ffffff">to automatically 
             identify, but leave on the ground, everything not yet 
             identified; or even </font><font color="#ff0000">items </font><font color="#ffffff">to pick everything up! The noun 
             </font><font color="#ff0000">items </font><font color="#ffffff">is implicitly assumed if no other noun is specified.
  
  </font><font color="#ff0000">Weapons    </font><font color="#ffffff">Applies to all melee weapons (including diggers), but not 
             to missile weapons.
  
  </font><font color="#ff0000">Favorite Weapons
             </font><font color="#ffffff">Applies to all weapons, including shooters, that your 
             class likes. For example, Weaponmasters specialize in a 
             given type of weapons, such as Axes or Crossbows; whatever 
             their speciality is, this "noun" will apply to these 
             preferred items. Note that the game considers </font><font color="#ff0000">favorite 
             weapons </font><font color="#ffffff">a noun, not an adjective followed by a noun.
  
  </font><font color="#ff0000">Hafted Weapons
             </font><font color="#ffffff">Applies to all hafted weapons like Maces, Flails and War 
             Hammers; these weapons are preferred by Priests. Like the 
             </font><font color="#ff0000">Favorite Weapons </font><font color="#ffffff">"noun" above, the Mogaminator views this 
             as a single noun, not an adjective followed by a noun.
  
  </font><font color="#ff0000">Diggers    </font><font color="#ffffff">Applies to all digging implements, such as shovels, 
             mattocks and picks.
  
  </font><font color="#ff0000">Shooters   </font><font color="#ffffff">Applies to anything that goes in the shooter shot, 
             including slings, bows, crossbows, harps and guns.
  
  </font><font color="#ff0000">Ammo       </font><font color="#ffffff">Applies to all ammunition for missile weapons: arrows, 
             pebbles, shots and bolts.
  
  </font><font color="#ff0000">Armors     </font><font color="#ffffff">Applies to all forms of armor (for more specific nouns, 
             see below):
  </font><font color="#ff0000">Suits      </font><font color="#ffffff">Applies to body armor.
  </font><font color="#ff0000">Shields    </font><font color="#ffffff">Applies to shields.
  </font><font color="#ff0000">Cloaks     </font><font color="#ffffff">Applies to cloaks.
  </font><font color="#ff0000">Helms      </font><font color="#ffffff">Applies to helmets and crowns.
  </font><font color="#ff0000">Gloves     </font><font color="#ffffff">Applies to gloves.
  </font><font color="#ff0000">Boots      </font><font color="#ffffff">Applies to boots.
  
  </font><font color="#ff0000">Wands      </font><font color="#ffffff">Applies to wands.
  
  </font><font color="#ff0000">Staves     </font><font color="#ffffff">Applies to staves (the magical device kind, not the 
             quarterstaff kind!). For example, try </font><font color="#ff0000">staves</font><font color="#ffffff">:healing or 
             </font><font color="#ff0000">staves</font><font color="#ffffff">:speed.
  
  </font><font color="#ff0000">Rods       </font><font color="#ffffff">Applies to rods.
  
  </font><font color="#ff0000">Potions    </font><font color="#ffffff">Applies to potions. (Watch out - many potion names, like 
             Potion of Strength and Potion of Restore Strength, 
             partially match each other.)
  
  </font><font color="#ff0000">Scrolls    </font><font color="#ffffff">Applies to scrolls.
  
  </font><font color="#ff0000">Rings      </font><font color="#ffffff">Applies to rings.
  
  </font><font color="#ff0000">Amulets    </font><font color="#ffffff">Applies to amulets.
  
  </font><font color="#ff0000">Lights     </font><font color="#ffffff">Applies to anything that goes in the light source slot.
  
  </font><font color="#ff0000">Spellbooks </font><font color="#ffffff">Applies to all spellbooks. If you are a non-caster (and 
             non-seller) you can specify !</font><font color="#00ff00">spellbooks </font><font color="#ffffff">with impunity, but 
             as a book caster you probably want to combine this with 
             adjectives.
  
  </font><font color="#ff0000">Junk       </font><font color="#ffffff">Applies to complete junk like broken sticks. Also covers 
             statues (which are potentially sellable); use !</font><font color="#00ff00">worthless 
             </font><font color="#ff0000">junk </font><font color="#ffffff">to exclude them.
  
  </font><font color="#ff0000">Corpses    </font><font color="#ffffff">Applies to corpses, which are potentially useful; 
             Possessors can possess them, Igors cut them apart, some 
             demons eat humanoid corpses, and </font><font color="#00ff00">wanted </font><font color="#ff0000">corpses </font><font color="#ffffff">can be 
             turned in at the Bounty Office.
  
  </font><font color="#ff0000">Skeletons  </font><font color="#ffffff">Like corpses, you may turn in </font><font color="#00ff00">wanted </font><font color="#ff0000">skeletons </font><font color="#ffffff">at the 
             Bounty Office. Archers may also use skeletons to make 
             arrows and bolts.
  
  If you are using keywords to build a match predicate, then you must 
  specify exactly one noun, but may use as many adjectives as you like.
  
<a name="Adjectives"></a></font><font color="#00ffff">Table V: Rules: Adjectives
  </font><font color="#ffffff">Because there are so many adjectives, they are grouped here by kind.

</font><font color="#ff8000">Object Knowledge
</font><font color="#00ff00">Unsensed     </font><font color="#ffffff">Applies to objects that have not yet been identified or 
             pseudo-identified.

</font><font color="#00ff00">Unidentified </font><font color="#ffffff">Applies to objects that have not yet been identified (e.g. 
             ?</font><font color="#00ff00">unidentified </font><font color="#ff0000">items </font><font color="#ffffff">to auto-identify everything).

</font><font color="#00ff00">Unaware      </font><font color="#ffffff">Applies to objects whose flavor has not yet been 
             identified.

</font><font color="#00ff00">Identified   </font><font color="#ffffff">Applies all objects that have been identified.

</font><font color="#00ff00">*Identified* </font><font color="#ffffff">Applies to fully identified objects, and is rarely needed.

</font><font color="#ff8000">Object Quality
</font><font color="#00ff00">Average      </font><font color="#ffffff">Applies to all average items. Some players like to combine 
             this with the ! action letter quite early; but that can be 
             inconvenient if you are looking for a reforge base item.

</font><font color="#00ff00">Good         </font><font color="#ffffff">Applies to all good items.

</font><font color="#00ff00">Ego          </font><font color="#ffffff">Applies to all excellent objects. See <a href="objects.html#EgoItems"></font><font color="#00ff00">[m]</a> </font><font color="#ffffff">for more 
             information.

</font><font color="#00ff00">Artifact     </font><font color="#ffffff">Applies to all artifacts. See <a href="objects.html#SpecialItems"></font><font color="#00ff00">[n]</a> </font><font color="#ffffff">for more information.

</font><font color="#00ff00">Cursed       </font><font color="#ffffff">Applies to all cursed items. Use sparingly; cursed items 
             can be good, and !</font><font color="#00ff00">worthless </font><font color="#ff0000">items </font><font color="#ffffff">catches the real junk.

</font><font color="#00ff00">Nameless     </font><font color="#ffffff">Applies to all objects that are neither artifacts nor ego 
             items.

</font><font color="#00ff00">Rare         </font><font color="#ffffff">Applies to all objects in a specific, hardcoded list of 
             object types; for example, Blades of Chaos and Maces of 
             Disruption are </font><font color="#00ff00">rare</font><font color="#ffffff">, as are all dragon armor pieces 
             including dragon scale mail.

</font><font color="#00ff00">Common       </font><font color="#ffffff">Applies to all objects that are </font><font color="#ff00ff">not </font><font color="#00ff00">rare</font><font color="#ffffff">; so a Long Sword 
             is common, but a Blade of Chaos is not.

</font><font color="#00ff00">Worthless    </font><font color="#ffffff">Any object whose value is 0 is considered </font><font color="#00ff00">worthless</font><font color="#ffffff">. Watch 
             out a bit, though: for example, corpses are "worthless", 
             but you still want to keep some of them. The default 
             preferences have !</font><font color="#00ff00">worthless </font><font color="#ff0000">items </font><font color="#ffffff">at the very bottom, 
             below rules that protect useful worthless things.

</font><font color="#00ff00">Icky         </font><font color="#ffffff">Icky items are items unsuitable for your class; they may 
             be an Icky Wield or cause other class-specific penalties.

</font><font color="#ff8000">Object Attributes
</font><font color="#00ff00">Dice Boosted </font><font color="#ffffff">When used with </font><font color="#ff0000">weapons </font><font color="#ffffff">or </font><font color="#ff0000">shooters</font><font color="#ffffff">, this adjective 
             indicates that the object's damage dice or damage 
             multiplier are higher than usual for the object kind.

See the </font><font color="#ff8000">Special Clauses </font><font color="#ffffff">below for more information about matching on an 
object's attributes.

</font><font color="#ff8000">Spellbook Adjectives
</font><font color="#00ff00">Unreadable     </font><font color="#ffffff">This will match spellbooks that you cannot use, either 
               because you are playing a class that does not have 
               realms or because the book does not belong to a realm 
               you selected.

</font><font color="#00ff00">First Realm's  </font><font color="#ffffff">Applies to books from your primary magic realm, if any.

</font><font color="#00ff00">Second Realm's </font><font color="#ffffff">Applies to books from your secondary magic realm, if 
               any.

</font><font color="#00ff00">First
Second
Third
Fourth         </font><font color="#ffffff">Each realm of magic has four spellbooks; these 
               adjectives refer to each of these books by number. 
               Usually, the first and second books are cheap, while the 
               third and fourth are valuable.

</font><font color="#ff8000">Corpse Adjectives
</font><font color="#00ff00">Wanted       </font><font color="#ffffff">Combine with </font><font color="#ff0000">corpses </font><font color="#ffffff">or </font><font color="#ff0000">skeletons </font><font color="#ffffff">to indicate the remains 
             of a wanted monster.

</font><font color="#00ff00">Unique       </font><font color="#ffffff">Combine with </font><font color="#ff0000">corpses </font><font color="#ffffff">or </font><font color="#ff0000">skeletons </font><font color="#ffffff">to indicate the remains 
             of a unique monster. (Maybe you're a collector?)

</font><font color="#00ff00">Human        </font><font color="#ffffff">Some characters use humanoid corpses either as food, or as 
             part of a ritual to summon a powerful demonic ally. For 
             these situations, add a rule like ~</font><font color="#00ff00">human </font><font color="#ff0000">corpses </font><font color="#ffffff">to your 
             preferences, though ~</font><font color="#00ff00">special </font><font color="#ff0000">items </font><font color="#ffffff">will also work.

</font><font color="#ff8000">Miscellaneous
</font><font color="#00ff00">Collecting   Collecting </font><font color="#ff0000">items </font><font color="#ffffff">matches stackable objects identical with 
             objects already in your pack.

</font><font color="#00ff00">Special      Special </font><font color="#ff0000">items </font><font color="#ffffff">are objects your race or class needs; 
             objects that are usually considered junk by default. For 
             example, some characters receive scant sustenance from 
             normal food and must consume humanoid corpses (yum!). 
             Daemon casters use corpses for various spells. Archers use 
             skeletons to make their own ammo. Beastmasters and Cavalry 
             actually enjoy wands of Haste Monster. Such special 
             scenarios are handled with this adjective. </font><font color="#ffff00">Note that this 
             is a meaning completely distinct from the object feeling 
             {special}, which refers to artifacts.

</font><font color="#00ff00">Unusable     </font><font color="#ffffff">Applies to wearable items you currently have no equipment 
             slots for. Especially handy in Monster Mode - still, use 
             with some care in case you acquire new slots over time...

<a name="SpecialClauses"></a></font><font color="#00ffff">Table VI: Rules: Special Clauses
  </font><font color="#ffffff">In the following clauses, N refers to a digit (0-9); the sequence NN 
  means you may type one or two digits, and can therefore enter any 
  number between 0 and 99. Analogously, NNNNNN allows numbers between 0 
  and 999999. If you enter too many digits, the parser will not 
  recognize your special clause, and you will get unsatisfactory 
  results from your rule.
  
  </font><font color="#00ff00">Special Clause          Explanation
  </font><font color="#ff8000">More Dice Than NN       </font><font color="#ffffff">This clause applies to </font><font color="#ff0000">weapons </font><font color="#ffffff">only, and is 
                          true whenever the maximum possible damage 
                          exceeds the number you enter. For example a 
                          (2d5) weapon will match </font><font color="#ff8000">more dice than 9 </font><font color="#ffffff">but 
                          will fail to match </font><font color="#ff8000">more dice than 10</font><font color="#ffffff">.
  
  </font><font color="#ff8000">More Bonus Than NN      </font><font color="#ffffff">An object's bonus is here the largest of its 
                          pval, to-hit, to-dam and to-AC. For example, 
                          </font><font color="#ff0000">rings </font><font color="#ff8000">more bonus than 9</font><font color="#ffffff">:speed will pick up 
                          rings of speed (+10) or better, but will not 
                          match other rings of speed; and </font><font color="#ff0000">suits </font><font color="#ff8000">more 
                          bonus than 19</font><font color="#ffffff">:power dragon says that you 
                          would quite like a Power Dragon Scale Mail, 
                          but only if its to-AC bonus is +20 or better!
  
  </font><font color="#ff8000">More Level Than NN      </font><font color="#ffffff">This clause is intended to be used on </font><font color="#ff0000">corpses 
                          </font><font color="#ffffff">so that Possessors can manage the mountains 
                          of dead bodies they create. You can also use 
                          it with other objects, in which case it 
                          corresponds to the level of the object, or 
                          its ego type. For devices, it matches the 
                          power level of the device.
  
  </font><font color="#ff8000">More Charges Than NN    </font><font color="#ffffff">Intended for magical devices; maybe you 
                          already have a Staff of Cure Wounds with 20 
                          charges and consider anything smaller than 
                          that to be junk.
  
  </font><font color="#ff8000">More Weight Than NN     </font><font color="#ffffff">Some classes have weight restrictions on 
                          armor, like Monks, Scouts and Ninjas. Other 
                          classes, like Maulers, prefer very heavy 
                          weapons. This clause matches against the 
                          weight of the object, in pounds; so </font><font color="#ff0000">weapons 
                          </font><font color="#ff8000">more weight than 39 </font><font color="#ffffff">will match weapons 
                          weighing at least 39.1 lbs.
  
  </font><font color="#ff8000">More Value Than NNNNNN  </font><font color="#ffffff">This clause matches against the known value 
                          of the object. Use with care, since unknown 
                          or even un-*identified* objects may have 
                          "known" values lower than the actual value.
  
<a name="CondiSyntax"></a></font><font color="#00ffff">Table VII: Conditionals: Syntax
  </font><font color="#ffffff">Conditional statements have the following syntactic form:
  
  ?:</font><font color="#00ffff">Expression
  
  </font><font color="#ffffff">Conditional expressions use the following (partial) grammar:
  
  </font><font color="#00ffff">Expression </font><font color="#ffff00">:= </font><font color="#c00000">Literal </font><font color="#ffff00">| </font><font color="#ff00ff">Variable </font><font color="#ffff00">| </font><font color="#ffffff">[</font><font color="#ff0000">Function </font><font color="#00ffff">Expression</font><font color="#ffff00">*</font><font color="#ffffff">]
  </font><font color="#ff0000">Function   </font><font color="#ffff00">:= </font><font color="#ffffff">IOR </font><font color="#ffff00">| </font><font color="#ffffff">OR </font><font color="#ffff00">| </font><font color="#ffffff">AND </font><font color="#ffff00">| </font><font color="#ffffff">NOT </font><font color="#ffff00">| </font><font color="#ffffff">EQU </font><font color="#ffff00">| </font><font color="#ffffff">LEQ </font><font color="#ffff00">| </font><font color="#ffffff">GEQ
  </font><font color="#ff00ff">Variable   </font><font color="#ffff00">:= </font><font color="#ffffff">$RACE </font><font color="#ffff00">| </font><font color="#ffffff">$CLASS </font><font color="#ffff00">| </font><font color="#ffffff">$REALM1 </font><font color="#ffff00">| </font><font color="#ffffff">$LEVEL </font><font color="#ffff00">| </font><font color="#ffffff">$MONEY </font><font color="#ffff00">| </font><font color="#ffffff">...
  </font><font color="#c00000">Literal    </font><font color="#ffff00">:= </font><font color="#ffffff">23 </font><font color="#ffff00">| </font><font color="#ffffff">52 </font><font color="#ffff00">| </font><font color="#ffffff">Rage-Mage </font><font color="#ffff00">| </font><font color="#ffffff">High-Elf </font><font color="#ffff00">| </font><font color="#ffffff">... 
  
  Note that unlike above, square brackets are part of the syntax of 
  expressions and do </font><font color="#ff00ff">not </font><font color="#ffffff">indicate optional elements in the grammar. 
  Rather, function application expressions are always surrounded with 
  square brackets.
  
  When the expression on a conditional line evaluates to FALSE or 0, 
  then any subsequent rules will be ignored. When the expression 
  evaluates to TRUE or non-zero, then any subsequent rules will be 
  applied. See <a href="editor.html#Conditionals"></font><font color="#00ff00">[o]</a> </font><font color="#ffffff">above for details.
  
<a name="CondiFuncs"></a></font><font color="#00ffff">Table VIII: Conditionals: Functions
  </font><font color="#00ff00">Function    Explanation
    </font><font color="#ff0000">IOR       </font><font color="#ffffff">Inclusive Or: [IOR a b c ...] is TRUE if the value of </font><font color="#ff8000">any 
              </font><font color="#ffffff">subexpression a, b, c, ... is TRUE.
    </font><font color="#ff0000">OR        </font><font color="#ffffff">Same as IOR.
    </font><font color="#ff0000">AND       </font><font color="#ffffff">Logical And: [AND a b c ...] is TRUE if the values of </font><font color="#ff8000">all 
              </font><font color="#ffffff">subexpressions a, b, c, ... are TRUE.
    </font><font color="#ff0000">NOT       </font><font color="#ffffff">[NOT a] is TRUE if a is FALSE, and vice versa. Use this 
              when you want to take an action when something is </font><font color="#ff8000">not 
              </font><font color="#ffffff">true.
    </font><font color="#ff0000">EQU       </font><font color="#ffffff">[EQU v a b c ...] is TRUE when the value of v is </font><font color="#ff8000">one </font><font color="#ffffff">of 
              the values a, b, c, ... Comparison is by string. 
              Typically, you use this with v being a built-in variable 
              expression like </font><font color="#ff0000">$CLASS </font><font color="#ffffff">(see below), and the remaining 
              arguments being strings to test like </font><font color="#ff0000">Mage </font><font color="#ffffff">or </font><font color="#ff0000">Sorcerer</font><font color="#ffffff">. 
              Note that string literals are not quoted and therefore 
              may not contain spaces.
    </font><font color="#ff0000">LEQ       </font><font color="#ffffff">[LEQ v a] is TRUE when the integer value of v is </font><font color="#ff8000">less 
              than or equal to </font><font color="#ffffff">the integer value of a. Note that while 
              EQU treats its arguments as strings, LEQ treats them as 
              numbers.
    </font><font color="#ff0000">GEQ       </font><font color="#ffffff">[GEQ v a] is TRUE when the integer value of v is </font><font color="#ff8000">greater 
              than or equal to </font><font color="#ffffff">the integer value of a. Note that while 
              EQU treats its arguments as strings, GEQ treats them as 
              numbers.
  
<a name="CondiVars"></a></font><font color="#00ffff">Table IX: Conditionals: Variables
  </font><font color="#00ff00">Variable    Explanation
  </font><font color="#ff0000">$RACE       </font><font color="#ffffff">Returns the name of your race; for example, </font><font color="#ff0000">Snotling </font><font color="#ffffff">or 
              </font><font color="#ff0000">High-Elf</font><font color="#ffffff">.
  </font><font color="#ff0000">$CLASS      </font><font color="#ffffff">Returns the name of your class; for example, </font><font color="#ff0000">Warrior-Mage 
              </font><font color="#ffffff">or </font><font color="#ff0000">Mindcrafter</font><font color="#ffffff">. Note that if you are playing in </font><font color="#c00000">Monster 
              </font><font color="#ffffff">mode, then this variable always returns </font><font color="#ff0000">Monster</font><font color="#ffffff">, while 
              $RACE returns the actual monster race you are playing, 
              such as </font><font color="#ff0000">Lich </font><font color="#ffffff">or </font><font color="#ff0000">Dragon</font><font color="#ffffff">.
  </font><font color="#ff0000">$SUBCLASS   </font><font color="#ffffff">Returns the name of your subclass, if any. This could be, 
              say, </font><font color="#ff0000">Yeqrezh </font><font color="#ffffff">on a Disciple or </font><font color="#ff0000">Evil Bias </font><font color="#ffffff">on a Gray-Mage.
  </font><font color="#ff0000">$SPECIALITY </font><font color="#ffffff">Returns the name of your speciality, for example </font><font color="#ff0000">Axes </font><font color="#ffffff">on 
              a Weaponmaster or </font><font color="#ff0000">Potions </font><font color="#ffffff">on a Devicemaster. Returns </font><font color="#ff0000">none 
              </font><font color="#ffffff">for all classes except those two.
  </font><font color="#ff0000">$REALM1     </font><font color="#ffffff">Returns the name of your first realm, if any; for 
              example, </font><font color="#ff0000">Chaos </font><font color="#ffffff">or </font><font color="#ff0000">Sorcery</font><font color="#ffffff">. If the player does not have a 
              first realm, then this variable returns </font><font color="#ff0000">none</font><font color="#ffffff">.
  </font><font color="#ff0000">$REALM2     </font><font color="#ffffff">Returns the name of your second realm, if any; for 
              example, </font><font color="#ff0000">Life </font><font color="#ffffff">or </font><font color="#ff0000">Death</font><font color="#ffffff">. If the player does not have a 
              second realm, then this variable returns </font><font color="#ff0000">none</font><font color="#ffffff">.
  </font><font color="#ff0000">$LEVEL      </font><font color="#ffffff">Returns your current level. Typically, you combine this 
              with GEQ or LEQ to test the level against a threshold, 
              such as </font><font color="#ff00ff">[LEQ $LEVEL 34]</font><font color="#ffffff">.
  </font><font color="#ff0000">$SELLING    </font><font color="#ffffff">Returns </font><font color="#ff0000">Off </font><font color="#ffffff">if you have turned the </font><font color="#ff0000">no_selling </font><font color="#ffffff">option on, 
              and </font><font color="#ff0000">On </font><font color="#ffffff">otherwise.
  </font><font color="#ff0000">$MONEY      </font><font color="#ffffff">Returns the amount of gold the player has. Like $LEVEL, 
              use this with GEQ or LEQ to test whether your player is 
              rich or poor.
  
  All variables begin with a </font><font color="#ff8000">$ </font><font color="#ffffff">character to distinguish them from 
  string literals. Note that some variables allowed by edit files are 
  not allowed here, and some variables that are allowed here (like $SYS 
  and $KEYBOARD) are unlikely to apply and so not documented.
  
<a name="CondiLits"></a></font><font color="#00ffff">Table X: Conditionals: Literals
  </font><font color="#00ff00">Literal     Explanation
  </font><font color="#ff0000">Number      </font><font color="#ffffff">Numbers are written like </font><font color="#ff0000">105 </font><font color="#ffffff">or </font><font color="#ff0000">32</font><font color="#ffffff">.
  </font><font color="#ff0000">String      </font><font color="#ffffff">Strings are written like </font><font color="#ff0000">High-Mage </font><font color="#ffffff">or </font><font color="#ff0000">Beholder</font><font color="#ffffff">. Note that 
              string literals are not quoted and therefore may not 
              contain spaces; hyphenate if necessary (</font><font color="#ff0000">Filthy-Rag </font><font color="#ffffff">for 
              the Filthy Rag race).
  
</font><font color="#404040">--
Original   : PosChengband 4.0.0
Updated    : FrogComposband 7.1.liquorice


</font></pre></body></html>
