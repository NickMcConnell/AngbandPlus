# File: class.txt


# This file is used to initialize the "player class" information for PWMAngband.

# Do not modify this file unless you know exactly what you are doing,
# unless you wish to risk possible system crashes and broken savefiles.

# === Understanding class.txt ===

# name:class name
# color:color
# skill-disarm-phys:base:increment
# skill-disarm-magic:base:increment
# skill-device:base:increment
# skill-save:base:increment
# skill-stealth:base:increment
# skill-search:base:increment
# skill-melee:base:increment
# skill-shoot:base:increment
# skill-dig:base:increment
# hitdie:mhp
# max-attacks:max attacks (attack info)
# min-weight:min weight (attack info)
# strength-multiplier:strength multiplier (attack info)
# equip:tval:sval:min:max:no_recall
# obj-flag:level of application:object flag
# value:level of application:object modifier
# brand:level of application:brand code
# slay:level of application:slay code
# player-flags:class flags
# title:title
# magic:spell_first:spell_weight:num_books
# book:tval:quality:name:spells:realm
# book-graphics:symbol:color
# book-properties:depth:weight:cost
# book-alloc:commonness:min to max
# book-desc:description
# spell:name:level:mana:fail:exp:sproj
# cooldown:cooldown
# effect:effect:subtype (if needed):radius (if needed):parameter (if needed)
# effect-yx:y value for effect:x value for effect
# dice:dice string
# expr:dice expression
# msg_self:message to self
# msg_other:message to others
# desc:description

# 'name' indicates the beginning of an entry.

# 'color' is for color. MAngband-specific. See 'terrain.txt' for colors.

# 'skill-<skill name>' is for skills - physical and magical disarming,
# magic devices, saving throws, stealth, to hit (normal), to hit (bows),
# digging bonus. The base entry is what gets added to the character's skills
# at birth, the increments are added to the base skill every ten levels.

# 'hitdie' is for max. hitpoints gained per level

# 'max-attacks' is for attack info - maximum possible number of attacks

# 'min-weight' is for attack info - minimum weapon weight for calculating
# the number of attacks

# 'strength-multiplier' is for attack info - multiplier for attack calculations

# 'equip' is for starting equipment - tval of the item, sval of the item,
# minimum amount, maximum amount, flag for no_recall characters.

# 'obj-flag' is for object flags (as in list-object-flags.h) that
# classes possess innately at a certain level.

# 'value' is for object modifiers which take a value that classes possess
# innately at a certain level.

# 'brand' is for brands that classes possess innately at a certain level.

# 'slay' is for slays that races possess innately at a certain level.

# 'player-flags' is for class flags.

# 'title' is for class titles.

# 'magic' is for general magic info - level of the first spell, weight that
# hurts spells, number of books used.

# 'book' defines one of these books - object base, whether a town or a dungeon
# book, name, number of spells, book realm. A book needs to be defined for
# each class which uses it, as otherwise it is not recognised as one of that
# class's books.

# 'book-graphics' is for symbol and color as used in object.txt.
# 'book-graphics:' lines refer to the previous book line, and need not be
# included if a book of the same name has been defined earlier.

# 'book-properties' is for level, weight and cost.
# weight is in tenth-pounds; cost is the item's base value.
# 'book-properties:' lines refer to the previous book line, and need not be
# included if a book of the same name has been defined earlier.

# 'book-alloc' is for allocation - commonness, and minimum and maximum depths
# of occurrence.
# 'book-alloc:' lines refer to the previous book line, and need not be
# included if a book of the same name has been defined earlier.

# 'book-desc' is for description.
# 'book-desc:' lines refer to the previous book line, and need not be
# included if a book of the same name has been defined earlier.

# 'spell' defines an individual spell - name, level, mana required,
# fail-rate, experience for first casting. 'spell:' lines always refer to
# spells in the previous 'book:' line. The lines below are all used in
# reference to the previous 'spell:' line.
# PWMAngband: the sproj tells if the spell is projectable on others

# 'effect' defines the spell effect (as listed in list-effects.h), along
# with up to three effect parameters if needed

# 'effect-yx' is y and x values for an effect if necessary

# 'dice' provides a random value to be used by an effect (for damage,
# healing, etc). As well as the normal random value fields described above,
# it can contain expressions like $B, which refer forward to an 'expr' line.

# 'expr' provides an expression for use in effect dice. It consists of a
# code letter (eg B) for the expression, a base function to use (for example
# PLAYER_LEVEL), and a sequence of operations to perform on that base.

# 'msg_self' provides a message which can be used in whatever way the effect
# needs, typically to print during the effect, or as a death message.

# 'msg_other' provides a message to give to other players when the spell
# is cast.

# 'desc' is for description. As many desc: lines may be used as needed
# to describe the spell. Note that lines will need spaces at their
# ends or the beginning of the next line to prevent words from running
# together.



############### WARRIOR ###############
name:Warrior
color:u
skill-disarm-phys:42:10
skill-disarm-magic:28:8
skill-device:18:7
skill-save:18:10
skill-stealth:0:0
skill-search:10:12
skill-melee:70:45
skill-shoot:55:45
skill-dig:0:0
hitdie:10
max-attacks:6
min-weight:30
strength-multiplier:5
equip:food:Ration of Food:1:3:1
equip:light:Wooden Torch:1:3:1
equip:potion:Berserk Strength:1:1:0
equip:sword:Dagger:1:1:1
equip:soft armour:Soft Leather Armour:1:1:0
equip:scroll:Word of Recall:1:1:0
obj-flag:30:PROT_FEAR
value:1:STR[3]
value:1:INT[-2]
value:1:WIS[-2]
value:1:DEX[2]
value:1:CON[2]
player-flags:NO_MANA | SHIELD_BASH
title:Rookie
title:Soldier
title:Swordsman
title:Swashbuckler
title:Veteran
title:Myrmidon
title:Commando
title:Champion
title:Hero
title:Lord


############### MAGE ###############
name:Mage
color:r
skill-disarm-phys:35:9
skill-disarm-magic:43:11
skill-device:36:13
skill-save:30:9
skill-stealth:2:0
skill-search:10:12
skill-melee:35:15
skill-shoot:20:15
skill-dig:0:0
hitdie:1
max-attacks:4
min-weight:40
strength-multiplier:2
equip:food:Ration of Food:1:3:1
equip:light:Wooden Torch:1:3:1
equip:sword:Rapier:1:1:1
equip:scroll:Word of Recall:1:1:0
value:1:STR[-3]
value:1:INT[3]
value:1:CON[-2]
player-flags:ZERO_FAIL | BEAM | CHOOSE_SPELLS
title:Novice
title:Apprentice
title:Trickster
title:Illusionist
title:Spellbinder
title:Evoker
title:Conjurer
title:Warlock
title:Sorcerer
title:Arch-Mage

magic:1:300:5

book:magic book:town:[Magic for Beginners]:7:arcane
book-graphics:?:R
book-properties:1:30:25
book-alloc:40:1 to 100
book-desc:A standard arcane book with a few spells.
equip:magic book:[Magic for Beginners]:1:1:1

spell:Magic Missile:1:1:22:4:0
effect:BOLT_OR_BEAM:MISSILE:0:-10
dice:$Dd4
expr:D:PLAYER_LEVEL:- 1 / 5 + 3
msg_other: fires a magic missile.
desc:Fires a magic missile that always hits its target and does
desc: unresistable damage.
desc: Sometimes a beam is fired instead that hurts each monster
desc: in its path.
desc: The chance to get a beam goes up with your character level.

spell:Detect Monsters:1:1:23:4:0
effect:DETECT_VISIBLE_MONSTERS
effect-yx:22:40
desc:Detects all non-invisible monsters in the immediate area,
desc: for one turn only.

spell:Phase Door:1:2:24:4:0
effect:TELEPORT
dice:10
msg_other: blinks away.
desc:Teleports you randomly up to 10 squares away.

spell:Light Room:1:2:26:4:0
effect:BLAST:LIGHT_WEAK:2
dice:2d$S
expr:S:PLAYER_LEVEL:/ 2
effect:LIGHT_AREA
msg_other: calls light.
desc:Lights up all squares within 2 grids of the player and hurts
desc: all light-sensitive monsters in the area of effect.
desc: If you are in a room, the entire room will be lit up as well.

spell:Find Traps, Doors & Stairs:3:3:25:2:0
effect:DETECT_STAIRS
effect-yx:22:40
effect:DETECT_DOORS
effect-yx:22:40
effect:DETECT_TRAPS
effect-yx:22:40
desc:Detects all traps, doors and stairs in the immediate area.

spell:Fire Ball:3:2:27:3:0
effect:BALL:FIRE:2
dice:$B
expr:B:PLAYER_LEVEL:+ 10
msg_other: fires a fire ball.
desc:Shoots a radius-2 fire ball.

spell:Lightning Beam:5:4:30:4:0
effect:BEAM:ELEC
dice:$Dd6
expr:D:PLAYER_LEVEL:- 1 / 5 + 3
msg_other: fires a lightning beam.
desc:Fires a lightning beam that hurts each monster in its path.

book:magic book:town:[Conjurings and Tricks]:7:arcane
book-graphics:?:R
book-properties:10:30:400
book-alloc:30:10 to 100
book-desc:A standard arcane book with a few spells.

spell:Disable Traps, Destroy Doors:5:5:30:6:0
effect:TOUCH:KILL_DOOR
effect:TOUCH:KILL_TRAP
msg_other: sways his hands.
desc:Disables traps and destroys doors within a 1-square radius of you.

spell:Teleport Self:7:6:35:5:0
effect:TELEPORT
dice:$B
expr:B:PLAYER_LEVEL:* 5
msg_other: teleports away.
desc:Teleports you randomly within the current level.

spell:Frost Bolt:7:3:40:6:0
effect:BOLT_OR_BEAM:COLD
dice:$Dd8
expr:D:PLAYER_LEVEL:- 5 / 3 + 6
msg_other: fires a frost bolt.
desc:Fires a frost bolt that always hits its target.
desc: Sometimes a beam is fired instead that hurts each monster
desc: in its path.
desc: The chance to get a beam goes up with your character level.

spell:Recharging:9:7:75:6:0
effect:RECHARGE
dice:$B
expr:B:PLAYER_LEVEL:+ 20
desc:Adds charges to a stack of wands or staves.
desc: Chance of success and number of charges gained increase with your
desc: level and decrease with level of wand or staff and number of charges.
desc: A failed attempt to recharge destroys one wand or staff from the stack.

spell:Detect Treasure:10:3:60:5:0
effect:DETECT_TREASURES
effect-yx:22:40
desc:Detects all treasure in the immediate area.

spell:Identify Rune:11:7:25:6:0
effect:IDENTIFY
desc:Reveals an unknown rune on an object.

spell:Door Creation:13:9:40:12:0
effect:TOUCH:MAKE_DOOR:1
desc:A door is created on each empty floor space that is directly
desc: adjacent to you. These doors are closed, but not locked.

book:magic book:town:[Incantations and Illusions]:6:arcane
book-graphics:?:R
book-properties:25:30:1600
book-alloc:20:25 to 100
book-desc:A standard arcane book with a few spells.

spell:Reveal Monsters:15:6:40:6:0
effect:DETECT_MONSTERS
effect-yx:22:40
desc:Detects all monsters in the immediate area, for one turn only.

spell:Shock Wave:16:5:40:6:0
effect:BALL:SOUND:2
dice:$B
expr:B:PLAYER_LEVEL:+ 10
msg_other: fires a sonic ball.
desc:Shoots a radius-2 sound ball.
desc: Apart from doing sound damage, this also has a chance to stun
desc: each monster in the area of effect.

spell:Explosion:20:10:50:10:0
effect:BALL:SHARD:2
dice:$B
expr:B:PLAYER_LEVEL:* 2 + 20
msg_other: fires an exploding missile.
desc:Shoots a radius-2 shards ball.

spell:Acid Spray:20:7:30:12:0
effect:BREATH:ACID:0:30
dice:$Dd8
expr:D:PLAYER_LEVEL:/ 2
msg_other: sprays acid.
desc:Sprays acid.

spell:Mana Drain:22:2:30:12:0
effect:TAP_DEVICE
desc:Turns wand or staff energy into mana.

spell:Teleport Other:23:12:60:8:0
effect:BOLT_STATUS:AWAY_ALL:1
dice:$B
expr:B:MAX_SIGHT:* 5
msg_other: makes a rush gesture.
desc:Produces a bolt that teleports the first monster in its path
desc: up to 100 squares away.

book:magic book:dungeon:[Sorcery and Evocations]:5:arcane
book-graphics:?:r
book-properties:40:30:20000
book-alloc:15:40 to 100
book-desc:An advanced arcane book with a few spells.

spell:Mana Channel:25:3:50:20:0
effect:TIMED_INC:FASTCAST
dice:25+1d25
desc:Doubles spellcasting speed for 25+1d25 turns.

spell:Mana Bolt:25:8:60:30:0
effect:BOLT_OR_BEAM:MANA
dice:$Dd8
expr:D:PLAYER_LEVEL:- 10
msg_other: fires a mana bolt.
desc:Fires a mana bolt that always hits its target.
desc: Sometimes a beam is fired instead that hurts each monster
desc: in its path.
desc: The chance to get a beam goes up with your character level.

spell:Resistance:28:20:65:30:0
effect:TIMED_INC:OPP_POIS
dice:20+1d20
effect:TIMED_INC:OPP_COLD
dice:20+1d20
effect:TIMED_INC:OPP_FIRE
dice:20+1d20
effect:TIMED_INC:OPP_ELEC
dice:20+1d20
effect:END_INFO
effect:TIMED_INC:OPP_ACID
dice:20+1d20
desc:Grants you resistance to acid, cold, fire, lightning and poison for
desc: 20+1d20 turns.

spell:Teleport Level:28:17:65:20:0
effect:TELEPORT_LEVEL
desc:Teleports you 1 level up or 1 level down (chosen at random).

spell:Detection:30:10:70:30:0
effect:DETECT_MONSTERS
effect-yx:22:40
effect:DETECT_TREASURES
effect-yx:22:40
effect:DETECT_STAIRS
effect-yx:22:40
effect:DETECT_DOORS
effect-yx:22:40
effect:DETECT_TRAPS
effect-yx:22:40
desc:Detects all gold, objects, doors, stairs, traps and monsters
desc: in the immediate area.

book:magic book:dungeon:[Wizard's Tome of Power]:5:arcane
book-graphics:?:r
book-properties:60:30:50000
book-alloc:10:60 to 100
book-desc:An advanced arcane book with a few spells.

spell:Banishment:30:45:95:25:0
effect:BANISH
desc:Removes all monsters represented by a chosen symbol from the level.
desc: Uniques are not affected.
desc: You take 1d4 points of damage for every monster removed.

spell:Globe of Invulnerability:35:70:95:250:0
effect:TIMED_INC:INVULN
dice:8+1d10
desc:Grants you resistance against non-physical attacks.
desc: The shield absorbs a percentage of damage from such attacks
desc: equal to your character level.

spell:Mass Banishment:35:75:90:100:0
effect:MASS_BANISH
desc:Removes all monsters within 20 squares of you.
desc: Uniques are not affected.
desc: You take 1d3 points of damage for every monster removed.

spell:Thrust Away:40:12:90:40:0
effect:BEAM:FORCE
dice:$Dd8
expr:D:PLAYER_LEVEL:+ 0
msg_other: fires a force beam.
desc:Fires a force beam that hurts each monster in its path.

spell:Mana Storm:42:16:95:200:0
effect:BALL:MANA:3
dice:$B
expr:B:PLAYER_LEVEL:* 2 + 300
msg_other: invokes a mana storm.
desc:Shoots a radius-3 mana ball that does unresistable
desc: damage to each monster in its area of effect.


############### DRUID ###############
name:Druid
color:o
skill-disarm-phys:30:10
skill-disarm-magic:30:10
skill-device:24:10
skill-save:30:10
skill-stealth:3:0
skill-search:12:12
skill-melee:45:20
skill-shoot:40:30
skill-dig:0:0
hitdie:2
max-attacks:4
min-weight:35
strength-multiplier:3
equip:food:Ration of Food:1:3:1
equip:light:Wooden Torch:1:3:1
equip:hafted:Whip:1:1:1
equip:scroll:Word of Recall:1:1:0
value:1:STR[-2]
value:1:WIS[3]
value:1:DEX[-2]
player-flags:ZERO_FAIL | CHOOSE_SPELLS | CHARM | SHAPECHANGE
shape:5:cave bear
shape:5:panther
shape:10:grizzly bear
shape:10:yeti
shape:15:griffon
shape:15:sasquatch
shape:20:werebear
shape:20:great eagle
shape:20:aranea
shape:25:wyvern
shape:25:multi-hued hound
shape:30:5-headed hydra
shape:30:minotaur
shape:35:7-headed hydra
shape:35:plasma hound
shape:35:elder aranea
shape:40:11-headed hydra
shape:40:giant roc
shape:45:maulotaur
shape:45:winged horror
shape:50:jabberwock
shape:50:aether hound
title:Wanderer
title:Tamer
title:Nurturer
title:Gardener
title:Forester
title:Creator
title:Earth Warder
title:Windrider
title:Stormwielder
title:High Mystic

magic:1:350:5

book:nature book:town:[Lesser Charms]:6:nature
book-graphics:?:y
book-properties:1:30:25
book-alloc:40:1 to 100
book-desc:A standard nature book with a few verses.
equip:nature book:[Lesser Charms]:1:1:1

spell:Detect Life:1:1:23:2:0
effect:DETECT_LIVING_MONSTERS
effect-yx:22:40
desc:Detects all living monsters in the immediate area,
desc: for one turn only.

spell:Satisfy Hunger:2:2:25:2:0
effect:SET_NOURISH
dice:$B
expr:B:FOOD_MAX:- 1
desc:Magically renders you well-fed (but not satiated).
desc: This will also cure a bloated stomach.

spell:Stinking Cloud:3:2:27:4:0
effect:BALL:POIS:2
dice:$B
expr:B:PLAYER_LEVEL:/ 2 + 10
msg_other: fires a stinking cloud.
desc:Shoots a radius-2 poison ball.

spell:Cure Poison:4:4:30:4:0
effect:CURE:POISONED
desc:Neutralizes poison.

spell:Confuse Monster:5:3:30:5:0
effect:BOLT_AWARE:MON_CONF
dice:5+1d$S
expr:S:PLAYER_LEVEL:+ 0
msg_other: makes a complicated gesture.
desc:Attempts to confuse a single monster. More effective against animals.

spell:Slow Monster:6:4:30:5:0
effect:BOLT_AWARE:MON_SLOW
dice:5+1d$S
expr:S:PLAYER_LEVEL:+ 0
msg_other: makes a lengthy gesture.
desc:Attempts to slow down a single monster. More effective against animals.

book:nature book:town:[Gifts of Nature]:6:nature
book-graphics:?:y
book-properties:10:30:400
book-alloc:30:10 to 100
book-desc:A standard nature book with a few verses.

spell:Resist Poison:7:6:32:5:0
effect:TIMED_INC:OPP_POIS
dice:20+1d20
desc:Grants you resistance to poison for 20+1d20 turns.

spell:Turn Stone to Mud:8:3:25:5:0
effect:LINE:KILL_WALL
dice:20+1d30
msg_other: makes a moving gesture.
desc:Produces a beam that destroys the first section of wall it hits,
desc: unless it is a permanent wall. Each monster caught in the beam that
desc: is susceptible to rock remover takes 20+1d30 points of damage.

spell:Sense Surroundings:9:4:35:6:0
effect:MAP_AREA
effect-yx:22:40
desc:Maps out a portion of the level around you.

spell:Lightning Strike:12:6:35:8:0
effect:STRIKE:SOUND:3
dice:$B
expr:B:PLAYER_LEVEL:+ 5
effect:STRIKE:ELEC:0
dice:$Dd4
expr:D:PLAYER_LEVEL:/ 4
msg_other: strikes lightning from above.
desc:Strikes a target from above with a lightning bolt, followed by a clap
desc: of thunder.

spell:Earth Rising:14:5:40:12:0
effect:BEAM:SHARD
dice:$Dd6
expr:D:PLAYER_LEVEL:/ 3 + 2
msg_other: fires a shard beam.
desc:Causes shards to explode in a line out of the earth, striking objects and
desc: monsters.

spell:Nature's Call:15:20:40:12:0
effect:CREATE_TREES
desc:Grow trees around you.

book:nature book:town:[Creature Dominion]:6:nature
book-graphics:?:y
book-properties:25:30:1600
book-alloc:20:25 to 100
book-desc:A standard nature book with a few verses.

spell:Extra Growth:15:20:40:12:0
effect:TIMED_INC:GROWTH
dice:20+1d20
desc:Grants you stat growth for 20+1d20 turns.

spell:Forest's Embrace:18:18:40:12:0
effect:BLAST:MON_HEAL:5
dice:6+$Dd6
expr:D:PLAYER_LEVEL:/ 2
msg_other: emits a healing blast.
desc:Creates a radius-5 healing ball around you.

spell:Trance:20:10:45:15:0
effect:TOUCH_AWARE:MON_HOLD
dice:3+1d$D
expr:D:PLAYER_LEVEL:/ 7
desc:Holds every adjacent, non-resistant monster for a level-dependent
desc: number of turns. Animals are entranced for longer.

spell:Tremor:20:20:60:16:0
effect:EARTHQUAKE:TARGETED:4
desc:Causes a targeted 4-square radius earthquake.
desc: Earthquakes may damage monsters and destroy items in some
desc: squares in the area of effect. Artifacts will not be destroyed.
desc: Has no effect when used in town.

spell:Ancient Lore:22:30:80:20:0
effect:IDENTIFY
desc:Reveals an unknown rune on an object.

spell:Mass Sleep:25:15:50:15:0
effect:PROJECT_LOS_AWARE:SLEEP_ALL
desc:Attempts to put to sleep each monster within line of sight.

book:nature book:dungeon:[Nature Craft]:5:nature
book-graphics:?:o
book-properties:40:30:20000
book-alloc:15:40 to 100
book-desc:An advanced nature book with a few verses.

spell:Haste Self:25:12:65:15:0
effect:TIMED_INC:FAST:0:5
dice:$B+1d20
expr:B:PLAYER_LEVEL:+ 0
desc:Hastes you (+10 to speed) for a level-dependent duration.

spell:Meteor Swarm:30:14:85:20:0
effect:SWARM:METEOR:1
dice:$B+m$M
expr:B:PLAYER_LEVEL:/ 2 + 30
expr:M:PLAYER_LEVEL:/ 20 + 2
msg_other: fires a swarm of meteors.
desc:Shoots a swarm of 3 or 4 meteors.
desc: Meteors will travel until hitting a wall, a monster
desc: or reaching the target location.
desc: Meteors will explode as a radius-1 ball that does unresistable
desc: damage to each monster in its area of effect.
desc: If this kills the monster that blocked the path to the target
desc: location, the next meteor may continue to find another target.

spell:Toxic Moisture:33:40:75:24:0
effect:BALL:ICE:3
dice:$B
expr:B:PLAYER_LEVEL:+ 50
effect:BALL:WATER:3
dice:$B
expr:B:PLAYER_LEVEL:+ 50
effect:BALL:POIS:3
dice:$B
expr:B:PLAYER_LEVEL:+ 50
msg_other: invokes a toxic storm.
desc:Shoots a radius-3 toxic ball. Each ball will do 1/3 damage from poison,
desc: 1/3 damage from water and 1/3 damage from ice.

spell:Revitalize:35:70:90:90:0
effect:RESTORE_EXP
effect:RESTORE_STAT:CON
effect:RESTORE_STAT:DEX
effect:RESTORE_STAT:WIS
effect:RESTORE_STAT:INT
effect:RESTORE_STAT:STR
desc:Restores all stats and experience points to maximum.

spell:Rift:35:20:60:25:0
effect:BEAM:GRAVITY
dice:40+$Dd7
expr:D:PLAYER_LEVEL:+ 0
msg_other: fires a gravity beam.
desc:Fires a gravity beam that hurts each monster in its path
desc: and has a chance of teleporting it away.

book:nature book:dungeon:[Wild Forces]:5:nature
book-graphics:?:o
book-properties:60:30:50000
book-alloc:10:60 to 100
book-desc:An advanced nature book with a few verses.

spell:Ice Storm:37:25:75:24:0
effect:PROJECT_LOS:ICE
dice:3d$S
expr:S:PLAYER_LEVEL:* 3
msg_other: invokes an ice storm.
desc:Strikes every monster in line of sight with sheets of ice from above.

spell:Herbal Healing:40:30:90:100:0
effect:TIMED_INC:HEAL
dice:5+1d3
effect:CURE:STUN
effect:CURE:POISONED
effect:CURE:CUT
desc:Cures all cuts, poison and stunning and heals 30 hit points on each of
desc: the next 5+1d3 turns.

spell:Volcanic Eruption:40:30:75:50:0
effect:EARTHQUAKE:NONE:5
effect:BLAST:FIRE:5
dice:$B+1d$S
expr:B:PLAYER_LEVEL:* 3 / 2
expr:S:PLAYER_LEVEL:* 3
desc:Creates a radius-5 ball of fire, followed by a radius-5 earthquake,
desc: around the player.

spell:Call of the Forest:40:50:75:50:0
effect:PROJECT_LOS_AWARE:AWAY_ANIMAL
dice:100
msg_self:The power of nature banishes animals!
msg_other: speaks an order on nearby animals!
desc:Teleports away each animal within line of sight.

spell:River of Plasma:43:35:75:100:0
effect:BREATH:PLASMA:0:20
dice:$Dd8
expr:D:PLAYER_LEVEL:+ 10
desc:Spews plasma in a long narrow cone from the player.


############### PRIEST ###############
name:Priest
color:g
skill-disarm-phys:34:8
skill-disarm-magic:27:7
skill-device:30:10
skill-save:32:12
skill-stealth:2:0
skill-search:10:14
skill-melee:45:20
skill-shoot:35:20
skill-dig:0:0
hitdie:2
max-attacks:4
min-weight:35
strength-multiplier:3
equip:food:Ration of Food:1:3:1
equip:light:Wooden Torch:1:3:1
equip:hafted:Mace:1:1:1
equip:potion:Cure Serious Wounds:2:2:1
equip:scroll:Word of Recall:1:1:0
value:1:STR[-1]
value:1:INT[-3]
value:1:WIS[3]
value:1:DEX[-1]
value:1:CON[1]
player-flags:BLESS_WEAPON | ZERO_FAIL
title:Believer
title:Acolyte
title:Devotee
title:Adept
title:Evangelist
title:Priest
title:Elder
title:Prophet
title:Patriarch
title:High Priest

magic:1:350:5

book:prayer book:town:[Beginners Handbook]:7:divine
book-graphics:?:G
book-properties:1:30:25
book-alloc:40:1 to 100
book-desc:A standard divine book with a few prayers.
equip:prayer book:[Beginners Handbook]:1:1:1

spell:Detect Evil:1:1:10:4:0
effect:DETECT_EVIL
effect-yx:22:40
desc:Detects all evil monsters in the immediate area,
desc: for one turn only.

spell:Bless:1:2:20:4:0
effect:TIMED_INC:BLESSED
dice:$B+1d$S
expr:B:PLAYER_LEVEL:+ 10
expr:S:PLAYER_LEVEL:+ 10
desc:Blesses you, giving a bonus of +5 to AC and +10 to-hit, for a
desc: level-dependent duration.

spell:Minor Healing:3:2:15:4:1
effect:TIMED_DEC:STUN
dice:20
effect:TIMED_DEC:CUT
dice:20
effect:HEAL_HP
dice:$B+m$M
expr:B:PLAYER_LEVEL:+ 10
expr:M:PLAYER_LEVEL:/ 3 + 12
desc:Cures a level-dependent percentage of your wounds and heals 20 points worth
desc: of cuts and stunning.

spell:Call Light:3:2:25:2:0
effect:BLAST:LIGHT_WEAK:1:10
dice:2d$S
expr:S:PLAYER_LEVEL:/ 2
effect:LIGHT_AREA
msg_other: calls light.
desc:Lights up all squares in a level-dependent area and hurts
desc: all light-sensitive monsters in the area of effect.
desc: If you are in a room, the entire room will be lit up as well.

spell:Heroism:5:2:30:5:0
effect:TIMED_INC:HERO
dice:25+1d25
effect:TIMED_INC:BOLD
dice:25+1d25
effect:CURE:AFRAID
effect:HEAL_HP
dice:10
desc:Cures 10 points of damage, removes fear and grants you heroism
desc: (resistance to fear and a bonus of +12 to-hit) for 25+1d25 turns.

spell:Portal:5:4:30:4:0
effect:TELEPORT
dice:$B
expr:B:PLAYER_LEVEL:* 3
msg_other: blinks away.
desc:Teleports you randomly over a short distance.

spell:Spear of Light:7:6:30:5:0
effect:LINE:LIGHT_WEAK
dice:6d8
msg_self:A line of shimmering blue light appears.
msg_other:'s hands project a line of shimmering blue light.
desc:Fires a beam that lights up each square and hurts each
desc: light-sensitive monster in its path.

book:prayer book:town:[Words of Wisdom]:7:divine
book-graphics:?:G
book-properties:10:30:400
book-alloc:30:10 to 100
book-desc:A standard divine book with a few prayers.

spell:Remove Curse:7:6:38:5:0
effect:REMOVE_CURSE
dice:$B+1d$S
expr:B:PLAYER_LEVEL:+ 0
expr:S:PLAYER_LEVEL:+ 0
desc:Attempts to remove a curse from an item.

spell:Orb of Draining:9:7:40:4:0
effect:BALL:HOLY_ORB:2:30
dice:$B+3d6
expr:B:PLAYER_LEVEL:* 3 / 2
msg_other: fires a holy orb!
desc:Shoots a radius-2 or radius-3 ball that does unresistable
desc: damage to each monster in its area of effect.
desc: Evil monsters take double damage.
desc: All cursed items in the area of effect are destroyed.
desc: The bigger area of effect is attained at character level 30.

spell:Sense Invisible:11:8:42:4:0
effect:TIMED_INC:SINVIS
dice:24+1d24
desc:Enables you to see invisible monsters for 24+1d24 turns.

spell:Dispel Undead:12:14:55:6:0
effect:PROJECT_LOS_AWARE:DISP_UNDEAD:0:1
dice:1d$S
expr:S:PLAYER_LEVEL:* 4
msg_other: dispels undead.
desc:Inflicts unresistable damage on each undead monster within line of sight.

spell:Protection from Evil:14:8:42:5:0
effect:TIMED_INC:PROTEVIL
dice:$B+1d25
expr:B:PLAYER_LEVEL:* 3
desc:Protects you from evil for a level-dependent duration:
desc: all melee attacks by evil monsters have a chance to be repelled,
desc: unless the monster's level is higher than your character level.

spell:Resurrection:16:30:90:8:0
effect:RESURRECT
desc:Brings back to life a ghost character standing next to the caster.

spell:Dispel Evil:18:20:70:10:0
effect:PROJECT_LOS_AWARE:DISP_EVIL:0:1
dice:1d$S
expr:S:PLAYER_LEVEL:* 4
msg_other: dispels evil.
desc:Inflicts unresistable damage on each evil monster within line of sight.

book:prayer book:town:[Chants and Blessings]:6:divine
book-graphics:?:G
book-properties:25:30:1600
book-alloc:20:25 to 100
book-desc:A standard divine book with a few prayers.

spell:Remembrance:20:30:90:50:1
effect:RESTORE_EXP
desc:Restores experience points to maximum if it is currently below maximum.

spell:Glyph of Warding:20:40:90:35:0
effect:GLYPH:WARDING
desc:Inscribes a glyph of warding beneath you.
desc: Summoned monsters can't appear on the glyph.
desc: If a monster attempts to move onto the glyph or melee you while you
desc: are standing on the glyph, it must first succeed in breaking the glyph.
desc: Higher level monsters are more likely to break the glyph.
desc: The glyph will remain where it is, until a monster succeeds in
desc: breaking it or until you leave the level.

spell:Demon Bane:22:40:80:30:0
effect:TIMED_INC:ATT_DEMON:0:5
dice:20+1d20
desc:Temporarily makes your melee attacks powerfully slay demons.

spell:Word of Recall:25:30:75:10:0
effect:RECALL
dice:14+1d20
desc:Teleports you from the dungeon to the town or from the town to the
desc: deepest level you have visited in the dungeon.
desc: The recall effect is not immediate; it is delayed by 14+1d20 turns.
desc: During that delay, the effect can be canceled by invoking the prayer
desc: of recall again.

spell:Smite Evil:25:20:70:40:0
effect:TIMED_INC:ATT_EVIL:0:5
dice:20+1d20
desc:Temporarily makes your melee attacks slay evil creatures.

spell:Banish Evil:25:25:80:25:0
effect:PROJECT_LOS_AWARE:AWAY_EVIL
dice:100
msg_self:The power of your god banishes evil!
msg_other: speaks a holy curse on nearby evil!
desc:Teleports away each evil monster within line of sight.

book:prayer book:dungeon:[Exorcism and Dispelling]:5:divine
book-graphics:?:g
book-properties:40:30:20000
book-alloc:15:40 to 100
book-desc:An advanced divine book with a few prayers.

spell:Light of Manwë:30:20:70:35:0
effect:BALL:LIGHT:2
dice:$B
expr:B:PLAYER_LEVEL:* 2 + 80
msg_other: invokes the light of Manwë.
desc:Shoots a radius-2 light ball.

spell:Healing:30:50:80:100:1
effect:CURE:AMNESIA
effect:CURE:POISONED
effect:CURE:CUT
effect:CURE:STUN
effect:HEAL_HP
dice:2000
desc:Cures 2000 points of damage, cures all stunning, heals all
desc: cut damage, neutralizes poison, and cures amnesia.

spell:Enchant Weapon:32:50:80:120:0
effect:ENCHANT:TOBOTH
dice:1d4
desc:Attempts to improve the to-hit bonus and the to-dam bonus of a weapon.

spell:Restoration:35:70:90:130:1
effect:RESTORE_STAT:CON
effect:RESTORE_STAT:DEX
effect:RESTORE_STAT:WIS
effect:RESTORE_STAT:INT
effect:RESTORE_STAT:STR
desc:Restores to maximum all stats that are currently below maximum.

spell:Enchant Armour:35:60:85:150:0
effect:ENCHANT:TOAC
dice:1+1d3
desc:Attempts to improve the armour class bonus of a piece of armour.

book:prayer book:dungeon:[Wrath of the Valar]:5:divine
book-graphics:?:g
book-properties:60:30:50000
book-alloc:10:60 to 100
book-desc:An advanced divine book with a few prayers.

spell:Word of Destruction:35:35:80:115:0
effect:DESTRUCTION:LIGHT:15
desc:Destroys everything in a 15-square radius circle around you.
desc: All monsters, objects and terrain features in the area of
desc: effect are destroyed, except stairs and permanent walls.
desc: You will also be blinded for 10+1d10 turns, unless you
desc: have resistance to blindness or light.
desc: This prayer has no effect when used in the town.

spell:Clairvoyance:37:50:80:150:0
effect:LIGHT_LEVEL
desc:Lights up, maps out and senses all objects on the complete current
desc: dungeon level.

spell:Holy Word:39:32:95:20:0
effect:CURE:AFRAID
effect:CURE:AMNESIA
effect:CURE:POISONED
effect:CURE:CUT
effect:CURE:STUN
effect:HEAL_HP
dice:1000
effect:PROJECT_LOS_AWARE:DISP_EVIL:0:1
dice:1d$S
expr:S:PLAYER_LEVEL:* 4
msg_other: shouts the holy word.
desc:Inflicts unresistable damage on each evil monster within line of sight,
desc: cures 1000 points of damage, cures all stunning, heals all cut damage,
desc: neutralizes poison, cures amnesia, and removes fear.

spell:Alter Reality:40:60:75:250:0
effect:ALTER_REALITY
desc:The current level will be discarded and a new dungeon level (on the
desc: same dungeon depth) will be generated. This has exactly the same
desc: side effects as leaving and re-entering the level through a stair,
desc: except that you won't start on a square with a stair.

spell:Revive:42:70:90:90:1
cooldown:200
effect:TIMED_INC:REVIVE
dice:20+1d20
desc:Allows you (or one of your allies) to avoid death once for 20+1d20 turns.
desc: Can be used every 200 turns.


############### NECROMANCER ###############
name:Necromancer
color:D
skill-disarm-phys:30:10
skill-disarm-magic:35:12
skill-device:36:13
skill-save:30:9
skill-stealth:2:0
skill-search:10:12
skill-melee:35:25
skill-shoot:20:15
skill-dig:0:0
hitdie:1
max-attacks:4
min-weight:35
strength-multiplier:3
equip:food:Ration of Food:1:3:1
equip:light:Wooden Torch:1:3:1
equip:sword:Main Gauche:1:1:1
equip:scroll:Word of Recall:1:1:0
value:1:STR[-3]
value:1:INT[3]
value:1:CON[-2]
value:1:RES_DARK[1]
player-flags:ZERO_FAIL | CHOOSE_SPELLS | UNLIGHT | SHAPECHANGE | UNDEAD_POWERS
shape:5:fruit bat
shape:15:vampire bat
shape:25:vampire
shape:35:master vampire
shape:45:vampire lord
shape:50:elder vampire
title:Acolyte
title:Curser
title:Dark Student
title:Initiate
title:Slavemaster
title:Summoner
title:Controller
title:Commander
title:Dark Master
title:Night Lord

magic:1:300:5

book:shadow book:town:[Shadows for Beginners]:7:shadow
book-graphics:?:s
book-properties:1:30:25
book-alloc:40:1 to 100
book-desc:A standard shadow book with a few rituals.
equip:shadow book:[Shadows for Beginners]:1:1:1

spell:Horrify:1:2:26:2:0
effect:BOLT_AWARE:TURN_ALL
dice:$Dd4
expr:D:PLAYER_LEVEL:* 2 / 3 + 2
effect:BOLT_AWARE:MON_STUN
dice:5+1d5
msg_other: creates visions of terror!
desc:Calls upon the dark forces and opens a channel into the mind of a
desc: monster, stunning and scaring it.

spell:Sense Invisible:2:4:25:3:0
effect:TIMED_INC:SINVIS
dice:24+1d24
desc:Enables you to see invisible monsters for 24+1d24 turns.

spell:Create Darkness:3:3:10:4:0
effect:BLAST:DARK_WEAK:1:10
dice:10
effect:DARKEN_AREA
desc:Darkens all squares in a level-dependent area. If you are in a room,
desc: the entire room will be darkened as well.

spell:Read Minds:4:4:10:6:0
effect:READ_MINDS
dice:$Dd$S
expr:D:PLAYER_LEVEL:/ 10 + 1
expr:S:PLAYER_LEVEL:/ 10 + 1
effect:DETECT_SOUL
effect-yx:22:40
desc:Detects all monsters which have a spirit in the immediate area,
desc: and then maps in a region around them, increasing in size with
desc: character level.

spell:Raise Dead:5:6:35:3:0
effect:BLAST_OBVIOUS:RAISE:1:10
dice:1
msg_other: mumbles coldly.
desc:This power makes humanoid corpses and skeletons in a small radius
desc: around the caster rise as undead monsters at the service of the caster.
desc: The loyalty of those monsters is not guaranteed, though.
desc: Each animated corpse/skeleton drains additional spell points
desc: depending on the type of undead monster raised.

spell:Tap Unlife:7:3:50:3:0
effect:TAP_UNLIFE
dice:$Dd6
expr:D:PLAYER_LEVEL:/ 4 + 2
desc:Targets the nearest undead monster and damages it to gain player mana.

spell:Frost Bolt:7:3:35:6:0
effect:BOLT_OR_BEAM:COLD
dice:$Dd8
expr:D:PLAYER_LEVEL:- 5 / 3 + 6
msg_other: fires a frost bolt.
desc:Fires a frost bolt that always hits its target.
desc: Sometimes a beam is fired instead that hurts each monster
desc: in its path.
desc: The chance to get a beam goes up with your character level.

book:shadow book:town:[Dark Conjurings]:7:shadow
book-graphics:?:s
book-properties:10:30:400
book-alloc:30:10 to 100
book-desc:A standard shadow book with a few rituals.

spell:Resist Cold:9:10:50:20:0
effect:TIMED_INC:OPP_COLD
dice:20+1d20
desc:Grants you resistance to cold for 20+1d20 turns.

spell:Sleep Evil:12:5:50:5:0
effect:PROJECT_LOS_AWARE:SLEEP_EVIL
desc:Attempts to put to sleep each evil monster within line of sight.

spell:Shadow Touch:12:12:48:5:0
effect:TIMED_INC:ATT_VAMP
dice:$B+1d$S
expr:B:PLAYER_LEVEL:* 3 / 10 + 20
expr:S:PLAYER_LEVEL:* 4 / 10 + 10
desc:Temporarily grants your weapon a vampiric brand, draining life from
desc: monsters when you hit them and giving it to you.

spell:Shadow Shift:15:10:50:10:0
effect:DAMAGE
dice:2d5
msg_self:shadow shifting
effect:TELEPORT
dice:30
msg_other: shifts away.
desc:Displaces your spirit a short distance, hurting your body as it is
desc: dragged along.

spell:Command:15:14:53:4:0
effect:BOLT_AWARE:COMMAND
dice:$B
expr:B:PLAYER_LEVEL:* 2
msg_other: emits a silent order.
desc:Attempts to control the will of a single undead monster.
desc: Uniques are not affected.

spell:Disenchant:16:12:50:15:0
effect:BOLT:DISEN
dice:2d$S
expr:S:PLAYER_LEVEL:* 2 + 10
msg_other: fires a disenchantment bolt.
desc:Casts a bolt which wounds, and makes spellcasting monsters less successful
desc: in casting spells.

spell:Frost Ball:19:6:50:8:0
effect:BALL:COLD:2
dice:$B
expr:B:PLAYER_LEVEL:+ 30
msg_other: fires a frost ball.
desc:Shoots a radius-2 frost ball.

book:shadow book:town:[Shadows and Illusions]:6:shadow
book-graphics:?:s
book-properties:25:30:1600
book-alloc:20:25 to 100
book-desc:A standard shadow book with a few rituals.

spell:Absorb Soul:20:15:46:5:0
effect:TIMED_INC:SOUL
dice:$B+1d$S
expr:B:PLAYER_LEVEL:+ 50
expr:S:PLAYER_LEVEL:* 2 + 30
desc:This heals you by a substantial amount every time you kill a monster
desc: within its duration. It is especially useful when your character is
desc: in Undead Form.

spell:Dispel Life:22:20:50:10:0
effect:PROJECT_LOS_AWARE:MON_DRAIN
dice:1d$S
expr:S:PLAYER_LEVEL:* 3
msg_other: dispels life.
desc:Inflicts unresistable damage on each living monster within line of sight.

spell:Nether Bolt:25:15:75:30:0
effect:BOLT_OR_BEAM:NETHER:0:-20
dice:11d$S
expr:S:PLAYER_LEVEL:+ 0
msg_other: fires a nether bolt.
desc:Fires a nether bolt that always hits its target. Does not affect undead.
desc: Sometimes a beam is fired instead that hurts each monster
desc: in its path.
desc: The chance to get a beam goes up with your character level.

spell:Banish Spirits:25:25:80:25:0
effect:PROJECT_LOS_AWARE:AWAY_SPIRIT
dice:100
desc:Teleports away each monster with a spirit within line of sight.

spell:Power Sacrifice:27:0:20:20:0
effect:RESTORE_MANA
dice:50
effect:DAMAGE
dice:50
msg_self:self sacrifice
desc:Exchanges 50 hitpoints for 50 mana.

spell:Ice Storm:27:11:70:24:0
effect:BALL:ICE:3
dice:$B
expr:B:PLAYER_LEVEL:* 2 + 50
msg_other: invokes an ice storm.
desc:Shoots a radius-3 ice ball.

book:shadow book:dungeon:[Dark Evocations]:5:shadow
book-graphics:?:D
book-properties:40:30:20000
book-alloc:15:40 to 100
book-desc:An advanced shadow book with a few rituals.

spell:Undead Form:30:15:72:21:0
effect:UNDEAD_FORM
desc:Kills you, turning you into a ghost (even in no_ghost mode).
desc: Unlike other characters, necromancers in Undead Form will retain
desc: all their gear, but they will lose one hit point every turn and won't
desc: be able to use any means of resurrection except the town Temple.
desc: Be also warned that any common method of healing will damage your
desc: ghost instead...

spell:Drain Life:30:15:67:19:0
effect:BOLT:DRAIN
dice:100
msg_other: fires a vampiric bolt.
desc:Drains part of the life-force from a nearby monster and gives it to you.
desc: Does not affect undead, demons, golems, elementals or vortices.

spell:Cold Brand:31:60:95:150:0
effect:BRAND_WEAPON:NONE:1
desc:Brands the currently wielded melee weapon with cold
desc: and at the same time attempts to improve the to-hit bonus and the
desc: to-dam bonus of the same weapon.
desc: The spell has no effect if the weapon is an artifact, an ego item
desc: or a worthless item.

spell:Crush:32:30:60:130:0
effect:PROJECT_LOS:MON_CRUSH
dice:$B
expr:B:PLAYER_LEVEL:* 4
desc:Instantly kill any monster in line-of-sight with less than four times the
desc: player's level in hitpoints. Other monsters are unharmed.

spell:Grond's Blow:35:35:80:115:0
effect:DESTRUCTION:DARK:15
desc:Destroys everything in a 15-square radius circle around you.
desc: All monsters, objects and terrain features in the area of
desc: effect are destroyed, except stairs and permanent walls.
desc: You will also be blinded for 10+1d10 turns, unless you
desc: have resistance to blindness or dark.
desc: This prayer has no effect when used in the town.

book:shadow book:dungeon:[Great Shadows]:5:shadow
book-graphics:?:D
book-properties:60:30:50000
book-alloc:10:60 to 100
book-desc:An advanced shadow book with a few rituals.

spell:Unleash Chaos:38:15:90:100:0
effect:PROJECT_LOS_AWARE:TURN_ALL
dice:$B
expr:B:PLAYER_LEVEL:+ 0
effect:WAKE
effect:BALL:CHAOS
dice:8d$S
expr:S:PLAYER_LEVEL:+ 0
effect:BREATH:CHAOS
dice:8d$S
expr:S:PLAYER_LEVEL:+ 0
effect:BEAM:CHAOS
dice:8d$S
expr:S:PLAYER_LEVEL:+ 0
effect:RANDOM
dice:3
desc:Fires a chaos beam, arc or ball in the chosen direction, wakes everything
desc: in the area, and attempts to frighten everything in line of sight.

spell:Fume of Mordor:40:50:80:150:0
effect:DARKEN_LEVEL:NONE:1
desc:Darkens, maps out, and detects all objects on the complete current
desc: dungeon level.

spell:Curse:40:50:60:180:0
effect:DAMAGE
dice:100
msg_self:performing a curse
effect:CURSE
dice:$Dd$S
expr:D:PLAYER_LEVEL:/ 12 + 1
expr:S:MONSTER_PERCENT_HP_GONE:+ 50
desc:Deals direct damage to a single monster, more the more damaged the monster
desc: is already, at the cost of 100 hitpoints.

spell:Darkness Storm:45:27:75:75:0
effect:BALL:DARK:3
dice:$B+10d10
expr:B:PLAYER_LEVEL:* 5
msg_other: invokes a darkness storm.
desc:Shoots a radius-3 darkness ball.

spell:Touch of Death:50:75:72:90:0
effect:TIMED_SET:DEADLY
dice:12+1d12
desc:Gives all your melee blows a chance to score a critical hit
desc: within its duration.


############### PALADIN ###############
name:Paladin
color:G
skill-disarm-phys:34:8
skill-disarm-magic:27:7
skill-device:24:10
skill-save:25:11
skill-stealth:0:0
skill-search:10:12
skill-melee:65:40
skill-shoot:40:30
skill-dig:0:0
hitdie:7
max-attacks:5
min-weight:30
strength-multiplier:5
equip:food:Ration of Food:1:3:1
equip:light:Wooden Torch:1:3:1
equip:sword:Main Gauche:1:1:1
equip:scroll:Protection from Evil:1:1:0
equip:scroll:Word of Recall:1:1:0
value:1:STR[1]
value:1:INT[-3]
value:1:WIS[1]
value:1:DEX[-1]
value:1:CON[2]
player-flags:BLESS_WEAPON | SHIELD_BASH
title:Gallant
title:Keeper
title:Protector
title:Defender
title:Warder
title:Knight
title:Guardian
title:Chevalier
title:Paladin
title:Paladin Lord

magic:1:400:5

book:prayer book:town:[Beginners Handbook]:5:divine
equip:prayer book:[Beginners Handbook]:1:1:1

spell:Detect Evil:1:1:30:4:0
effect:DETECT_EVIL
effect-yx:22:40
desc:Detects all evil monsters in the immediate area,
desc: for one turn only.

spell:Bless:3:3:35:4:0
effect:TIMED_INC:BLESSED
dice:$B+1d$S
expr:B:PLAYER_LEVEL:+ 10
expr:S:PLAYER_LEVEL:+ 10
desc:Blesses you, giving a bonus of +5 to AC and +10 to-hit, for a
desc: level-dependent duration.

spell:Call Light:5:4:35:4:0
effect:BLAST:LIGHT_WEAK:1:10
dice:2d$S
expr:S:PLAYER_LEVEL:/ 2
effect:LIGHT_AREA
msg_other: calls light.
desc:Lights up all squares in a level-dependent area and hurts
desc: all light-sensitive monsters in the area of effect.
desc: If you are in a room, the entire room will be lit up as well.

spell:Minor Healing:7:3:25:4:1
effect:TIMED_DEC:STUN
dice:20
effect:TIMED_DEC:CUT
dice:20
effect:HEAL_HP
dice:$B+m$M
expr:B:PLAYER_LEVEL:+ 10
expr:M:PLAYER_LEVEL:/ 3 + 12
desc:Cures a level-dependent percentage of your wounds and heals 20 points worth
desc: of cuts and stunning.

spell:Portal:9:8:40:3:0
effect:TELEPORT
dice:$B
expr:B:PLAYER_LEVEL:* 3
msg_other: blinks away.
desc:Teleports you randomly over a short distance.

book:prayer book:town:[Words of Wisdom]:5:divine

spell:Heroism:12:5:30:5:0
effect:TIMED_INC:HERO
dice:25+1d25
effect:TIMED_INC:BOLD
dice:25+1d25
effect:CURE:AFRAID
effect:HEAL_HP
dice:10
desc:Cures 10 points of damage, removes fear and grants you heroism
desc: (resistance to fear and a bonus of +12 to-hit) for 25+1d25 turns.

spell:Remove Curse:13:11:45:4:0
effect:REMOVE_CURSE
dice:$B+1d$S
expr:B:PLAYER_LEVEL:+ 0
expr:S:PLAYER_LEVEL:+ 0
desc:Attempts to remove a curse from an item.

spell:Resist Elements:15:13:45:4:1
effect:TIMED_INC:OPP_COLD
dice:10+1d10
effect:END_INFO
effect:TIMED_INC:OPP_FIRE
dice:10+1d10
desc:Gives you temporary resistance to cold and fire, for 10+1d10 turns each.

spell:Sense Invisible:18:15:50:4:0
effect:TIMED_INC:SINVIS
dice:24+1d24
desc:Enables you to see invisible monsters for 24+1d24 turns.

spell:Dispel Undead:20:24:60:3:0
effect:PROJECT_LOS_AWARE:DISP_UNDEAD:0:1
dice:1d$S
expr:S:PLAYER_LEVEL:* 3
msg_other: dispels undead.
desc:Inflicts unresistable damage on each undead monster within line of sight.

book:prayer book:town:[Chants and Blessings]:5:divine

spell:Elemental Brand:20:30:85:40:0
effect:BRAND_WEAPON
desc:Brands the currently wielded melee weapon with fire (50%) or cold (50%),
desc: and at the same time attempts to improve the to-hit bonus and the
desc: to-dam bonus of the same weapon.
desc: The prayer has no effect if the weapon is an artifact, an ego item
desc: or a worthless item.

spell:Protection from Evil:22:15:50:4:0
effect:TIMED_INC:PROTEVIL
dice:$B+1d25
expr:B:PLAYER_LEVEL:* 3
desc:Protects you from evil for a level-dependent duration:
desc: all melee attacks by evil monsters have a chance to be repelled,
desc: unless the monster's level is higher than your character level.

spell:Demon Bane:22:40:80:30:0
effect:TIMED_INC:ATT_DEMON:0:5
dice:20+1d20
desc:Temporarily makes your melee attacks powerfully slay demons.

spell:Dispel Evil:25:32:70:4:0
effect:PROJECT_LOS_AWARE:DISP_EVIL:0:1
dice:1d$S
expr:S:PLAYER_LEVEL:* 3
msg_other: dispels evil.
desc:Inflicts unresistable damage on each evil monster within line of sight.

spell:Smite Evil:25:20:70:40:0
effect:TIMED_INC:ATT_EVIL:0:5
dice:20+1d20
desc:Temporarily makes your melee attacks slay evil creatures.

book:prayer book:dungeon:[Exorcism and Dispelling]:4:divine

spell:Word of Recall:30:60:75:10:0
effect:RECALL
dice:14+1d20
desc:Teleports you from the dungeon to the town or from the town to the
desc: deepest level you have visited in the dungeon.
desc: The recall effect is not immediate; it is delayed by 14+1d20 turns.
desc: During that delay, the effect can be canceled by invoking the prayer
desc: of recall again.

spell:Enchant Weapon:32:50:80:120:0
effect:ENCHANT:TOBOTH
dice:1d4
desc:Attempts to improve the to-hit bonus and the to-dam bonus of a weapon.

spell:Sanctuary:34:20:75:80:1
effect:TIMED_INC:SHIELD
dice:30+1d20
desc:Grants you +50 to AC for 30+1d20 turns.

spell:Enchant Armour:35:60:85:150:0
effect:ENCHANT:TOAC
dice:1+1d3
desc:Attempts to improve the armour class bonus of a piece of armour.

book:prayer book:dungeon:[Wrath of the Valar]:4:divine

spell:Healing:35:50:80:100:1
effect:CURE:AMNESIA
effect:CURE:POISONED
effect:CURE:CUT
effect:CURE:STUN
effect:HEAL_HP
dice:2000
desc:Cures 2000 points of damage, cures all stunning, heals all
desc: cut damage, neutralizes poison, and cures amnesia.

spell:Clairvoyance:37:50:80:150:0
effect:LIGHT_LEVEL
desc:Lights up, maps out and senses all objects on the complete current
desc: dungeon level.

spell:Restoration:40:80:90:250:1
effect:RESTORE_STAT:CON
effect:RESTORE_STAT:DEX
effect:RESTORE_STAT:WIS
effect:RESTORE_STAT:INT
effect:RESTORE_STAT:STR
desc:Restores to maximum all stats that are currently below maximum.

spell:Banish Evil:45:70:80:200:0
effect:PROJECT_LOS_AWARE:AWAY_EVIL
dice:100
msg_self:The power of your god banishes evil!
msg_other: speaks a holy curse on nearby evil!
desc:Teleports away each evil monster within line of sight.


############### ROGUE ###############
name:Rogue
color:z
skill-disarm-phys:43:11
skill-disarm-magic:36:10
skill-device:32:10
skill-save:28:10
skill-stealth:3:1
skill-search:20:16
skill-melee:35:45
skill-shoot:66:30
skill-dig:0:0
hitdie:5
max-attacks:5
min-weight:20
strength-multiplier:4
equip:food:Ration of Food:1:3:1
equip:light:Wooden Torch:1:3:1
equip:sword:Dagger:1:1:1
equip:soft armour:Soft Leather Armour:1:1:0
equip:scroll:Word of Recall:1:1:0
value:1:INT[1]
value:1:WIS[-3]
value:1:DEX[3]
value:1:CON[-1]
value:5:SPEED[1+1d15]
player-flags:CHOOSE_SPELLS | STEAL
player-flags:BACK_STAB | STEALING_IMPROV | STEALTH_MODE
title:Vagabond
title:Cutpurse
title:Footpad
title:Robber
title:Burglar
title:Filcher
title:Sharper
title:Rogue
title:Thief
title:Master Thief

magic:5:350:5

book:shadow book:town:[Shadows for Beginners]:5:shadow
equip:shadow book:[Shadows for Beginners]:1:1:1

spell:Detect Creatures:5:1:50:4:0
effect:DETECT_VISIBLE_MONSTERS
effect-yx:22:40
desc:Detects all non-invisible monsters in the immediate area,
desc: for one turn only.

spell:Smoke Bomb:7:2:55:4:0
effect:TELEPORT
dice:10
msg_other: blinks away.
desc:Teleports you randomly up to 10 squares away.

spell:Create Poison:8:3:60:5:0
effect:CREATE_POISON
desc:Allows to create potions of poison from any potion.

spell:Detect Objects:10:3:60:5:0
effect:DETECT_TREASURES:NONE:1
effect-yx:22:40
desc:Detects all objects in the immediate area.

spell:Detect Stairs:12:3:50:5:0
effect:DETECT_STAIRS
effect-yx:22:40
desc:Detects all stairs in the immediate area.

book:shadow book:town:[Dark Conjurings]:5:shadow

spell:Detoxify:15:9:90:5:0
effect:CURE:POISONED
desc:Neutralizes poison.

spell:Escape:17:6:35:5:0
effect:TELEPORT
dice:$B
expr:B:PLAYER_LEVEL:* 5
msg_other: teleports away.
desc:Teleports you randomly within the current level.

spell:Avoid Traps:18:25:85:10:0
effect:TIMED_INC:TRAPSAFE
dice:$B+1d20
expr:B:PLAYER_LEVEL:+ 30
desc:Renders you safe from traps for a level-dependent duration.

spell:Recharge Devices:20:10:50:6:0
effect:RECHARGE
dice:$B
expr:B:PLAYER_LEVEL:+ 20
desc:Adds charges to a stack of wands or staves.
desc: Chance of success and number of charges gained increase with your
desc: level and decrease with level of wand or staff and number of charges.
desc: A failed attempt to recharge destroys one wand or staff from the stack.

spell:Poison Brand:20:30:40:20:0
effect:TIMED_INC:ATT_POIS:0:5
dice:20+1d20
desc:Temporarily makes your melee attacks branded with poison.

book:shadow book:town:[Shadows and Illusions]:5:shadow

spell:Invisibility:22:14:45:20:0
effect:TIMED_INC:INVIS:0:5
dice:$B+1d20
expr:B:PLAYER_LEVEL:+ 20
desc:Makes you invisible for a short duration.
desc: High level, questor, invisible and injured monsters
desc: cannot be fooled by this trick.

spell:Hit and Run:23:20:40:20:0
effect:TIMED_INC:ATT_RUN
dice:10
desc:Prepares you to teleport a short distance after stealing.

spell:Stair Creation:24:12:40:25:0
effect:CREATE_STAIRS
desc:A stair (going up or down, chosen at random) is created on the space
desc: where you are standing. This will destroy any terrain feature that
desc: was there before. It will also destroy all items currently on the
desc: floor where the spell is cast.

spell:Reveal Creatures:25:3:40:8:0
effect:DETECT_MONSTERS
effect-yx:22:40
desc:Detects all monsters in the immediate area, for one turn only.

spell:Cloudkill:26:20:60:15:0
effect:BALL:POIS:3
dice:$B
expr:B:PLAYER_LEVEL:/ 2 + 40
msg_other: fires a cloud of death.
desc:Shoots a radius-3 poison ball.

book:shadow book:dungeon:[Dark Evocations]:5:shadow

spell:Deep Nights:27:12:80:10:0
effect:DARKEN_LEVEL:NONE:1
desc:Darkens, maps out, and detects all objects on the complete current
desc: dungeon level.

spell:Cloak of Changement:28:15:75:15:0
effect:CLOAK_CHANGT
dice:$B+1d20
expr:B:PLAYER_LEVEL:+ 20
desc:Disguises you as another player's class.

spell:Teleport to Target:29:20:65:20:0
effect:TELEPORT_TO
dice:$B
expr:B:PLAYER_LEVEL:/ 5 + 10
desc:Teleports you next to a chosen target.

spell:Begone:30:10:30:50:0
effect:BOLT_STATUS:AWAY_ALL:1
dice:$B
expr:B:MAX_SIGHT:* 5
msg_other: makes a rush gesture.
desc:Produces a bolt that teleports the first monster in its path
desc: up to 100 squares away.

spell:Create Traps:31:15:75:25:0
effect:TOUCH:MAKE_TRAP:3:1
desc:A trap is created on each empty floor space that is directly
desc: adjacent to you.
desc: This spell has no effect when used in the town.

book:shadow book:dungeon:[Great Shadows]:4:shadow

spell:Day of the Misrule:32:25:70:65:0
effect:TIMED_INC:SHERO:0:5
dice:30+1d30
effect:TIMED_INC:BOLD:0:5
dice:30+1d30
effect:CURE:AFRAID
effect:HEAL_HP
dice:30
effect:TIMED_SET:FAST
dice:30+1d30
msg_self:%s of the Night rejoice! It's the Day of the Misrule!
desc:Hastes you (+10 to speed), cures 30 points of damage, removes fear and
desc: grants you berserk strength (resistance to fear, a bonus of +24 to-hit and
desc: a penalty of -10 to AC) for 30+1d30 turns.

spell:Far Escape:35:17:65:80:0
effect:TELEPORT_LEVEL
desc:Teleports you 1 level up or 1 level down (chosen at random).

spell:Fast Recall:36:40:80:18:0
effect:RECALL
dice:$B+1d$S
expr:B:PLAYER_LEVEL:n + 50
expr:S:PLAYER_LEVEL:n + 56
desc:Teleports you from the dungeon to the town or from the town to the
desc: deepest level you have visited in the dungeon.
desc: The recall effect is not immediate; it is delayed by a level-dependent
desc: duration. During that delay, the effect can be canceled by invoking
desc: the spell of recall again.

spell:Summon Monsters:38:37:90:50:0
effect:SUMMON:MONSTERS:0:5
dice:8
msg_other: summons some monsters.
desc:Attempts to summon up to eight monsters generated at the current dungeon
desc: level.
desc: This spell has no effect when used in the town.


############### RANGER ###############
name:Ranger
color:y
skill-disarm-phys:36:10
skill-disarm-magic:42:10
skill-device:32:10
skill-save:28:10
skill-stealth:3:0
skill-search:15:15
skill-melee:60:40
skill-shoot:72:45
skill-dig:0:0
hitdie:6
max-attacks:5
min-weight:35
strength-multiplier:4
equip:food:Ration of Food:1:3:1
equip:light:Wooden Torch:1:3:1
equip:sword:Main Gauche:1:1:1
equip:bow:Short Bow:1:1:0
equip:arrow:Arrow:15:20:0
equip:scroll:Word of Recall:1:1:0
value:1:WIS[2]
value:1:DEX[1]
value:1:CON[-1]
player-flags:FAST_SHOT | CHOOSE_SPELLS
title:Runner
title:Strider
title:Scout
title:Courser
title:Tracker
title:Guide
title:Explorer
title:Pathfinder
title:Ranger
title:Ranger Lord

magic:3:400:5

book:nature book:town:[Lesser Charms]:4:nature
equip:nature book:[Lesser Charms]:1:1:1

spell:Detect Life:3:1:25:2:0
effect:DETECT_LIVING_MONSTERS
effect-yx:22:40
desc:Detects all living monsters in the immediate area,
desc: for one turn only.

spell:Satisfy Hunger:5:2:23:2:0
effect:SET_NOURISH
dice:$B
expr:B:FOOD_MAX:- 1
desc:Magically renders you well-fed (but not satiated).
desc: This will also cure a bloated stomach.

spell:Detect Stairs:7:3:50:5:0
effect:DETECT_STAIRS
effect-yx:22:40
desc:Detects all stairs in the immediate area.

spell:Cure Poison:9:4:30:4:0
effect:CURE:POISONED
desc:Neutralizes poison.

book:nature book:town:[Gifts of Nature]:4:nature

spell:Resist Poison:12:10:32:5:0
effect:TIMED_INC:OPP_POIS
dice:20+1d20
desc:Grants you resistance to poison for 20+1d20 turns.

spell:Turn Stone to Mud:15:5:25:5:0
effect:LINE:KILL_WALL
dice:20+1d30
msg_other: makes a moving gesture.
desc:Produces a beam that destroys the first section of wall it hits,
desc: unless it is a permanent wall. Each monster caught in the beam that
desc: is susceptible to rock remover takes 20+1d30 points of damage.

spell:Farsight:17:6:30:25:0
effect:TIMED_INC:FARSIGHT
dice:$B+1d20&m$M
expr:B:PLAYER_LEVEL:+ 0
expr:M:PLAYER_LEVEL:- 7 / 10
desc:Increases your shooting range, infravision and chance to-hit for a
desc: level-dependent duration.

spell:Extra Growth:18:20:40:12:0
effect:TIMED_INC:GROWTH
dice:20+1d20
desc:Grants you stat growth for 20+1d20 turns.

book:nature book:town:[Creature Dominion]:4:nature

spell:Sense Surroundings:20:8:35:8:0
effect:MAP_AREA
effect-yx:22:40
desc:Maps out a portion of the level around you.

spell:Cover Tracks:20:10:40:40:0
effect:TIMED_INC:SCENTLESS:0:5
dice:$B+1d20
expr:B:PLAYER_LEVEL:* 2
desc:Prevents you from leaving scent for monsters to track you by for a
desc: level-dependent duration.

spell:Create Arrows:22:20:40:40:0
effect:CREATE_ARROWS
desc:Allows the player to turn a staff into a stack of arrow, with quality
desc: depending on staff level and player level.

spell:Forest's Embrace:23:23:40:12:0
effect:BLAST:MON_HEAL:5
dice:6+$Dd6
expr:D:PLAYER_LEVEL:/ 2
msg_other: emits a healing blast.
desc:Creates a radius-5 healing ball around you.

book:nature book:dungeon:[Nature Craft]:4:nature

spell:Haste Self:25:12:65:15:0
effect:TIMED_INC:FAST:0:5
dice:$B+1d20
expr:B:PLAYER_LEVEL:+ 0
desc:Hastes you (+10 to speed) for a level-dependent duration.

spell:Ancient Lore:27:30:80:20:0
effect:IDENTIFY
desc:Reveals an unknown rune on an object.

spell:Berserker:28:30:80:35:0
effect:TIMED_INC:SHERO:0:5
dice:25+1d25
effect:TIMED_INC:BOLD:0:5
dice:25+1d25
effect:CURE:AFRAID
effect:HEAL_HP
dice:30
desc:Cures 30 points of damage, removes fear and grants you berserk
desc: strength (resistance to fear, a bonus of +24 to-hit and a penalty
desc: of -10 to AC) for 25+1d25 turns.

spell:Decoy:30:30:40:60:0
effect:GLYPH:DECOY
desc:Leaves a magical decoy that looks and sounds like the player.

book:nature book:dungeon:[Wild Forces]:4:nature

spell:Elemental Brand:31:60:95:180:0
effect:BRAND_AMMO
desc:Brands one stack of ammunition with fire, cold or poison
desc: (selected at random) and at the same time attempts to improve
desc: the to-hit bonus and the to-dam bonus of the same ammunition.
desc: The spell has no effect if the ammunition is an artifact, an ego item
desc: or a worthless item.

spell:Enchant Weapon:34:50:90:60:0
effect:ENCHANT:TOBOTH
dice:$B+1d4
expr:B:PLAYER_LEVEL:/ 20
desc:Attempts to improve the to-hit bonus and the to-dam bonus of a weapon.

spell:Poison Shots:37:20:85:45:0
effect:BOW_BRAND_SHOT:POIS
dice:5
desc:Covers your missiles with venom.

spell:Herbal Healing:40:30:90:100:0
effect:TIMED_INC:HEAL
dice:5+1d3
effect:CURE:STUN
effect:CURE:POISONED
effect:CURE:CUT
desc:Cures all cuts, poison and stunning and heals 30 hit points on each of
desc: the next 5+1d3 turns.


############### BLACKGUARD ###############
name:Blackguard
color:s
skill-disarm-phys:20:15
skill-disarm-magic:20:10
skill-device:24:10
skill-save:25:11
skill-stealth:0:0
skill-search:10:12
skill-melee:60:40
skill-shoot:50:30
skill-dig:0:0
hitdie:8
max-attacks:5
min-weight:100
strength-multiplier:5
equip:food:Ration of Food:1:3:1
equip:light:Wooden Torch:1:3:1
equip:sword:Cutlass:1:1:1
equip:scroll:Word of Recall:1:1:0
obj-flag:1:IMPAIR_HP
value:1:STR[2]
value:1:WIS[-3]
value:1:CON[2]
player-flags:CHOOSE_SPELLS | SHIELD_BASH
title:Rat
title:Bully
title:Thug
title:Ruffian
title:Brigand
title:Raider
title:Tormentor
title:Marauder
title:Destroyer
title:Tyrant

magic:8:400:5

book:shadow book:town:[Shadows for Beginners]:4:shadow
equip:shadow book:[Shadows for Beginners]:1:1:1

spell:Dark Focus:8:5:5:8:0
effect:TIMED_INC:BLESSED:0:5
dice:$B+1d$S
expr:B:PLAYER_LEVEL:/ 5 + 10
expr:S:PLAYER_LEVEL:/ 5 + 10
desc:Gives you a bonus of +5 to AC and +10 to-hit, for a
desc: level-dependent duration.

spell:Dark Detection:10:5:20:10:0
effect:DETECT_NONEVIL
effect-yx:22:40
desc:Detects all non-evil monsters in the immediate area,
desc: for one turn only.

spell:Dark Blessing:12:6:24:12:0
effect:TIMED_INC:HOLD_LIFE
dice:20+1d20
desc:Grants you resistance to draining attacks for 20+1d20 turns.

spell:Berserk Rage:14:10:10:10:0
effect:TIMED_INC:SHERO:0:5
dice:25+1d25
effect:TIMED_INC:BOLD:0:5
dice:25+1d25
effect:CURE:AFRAID
effect:HEAL_HP
dice:30
desc:Cures 30 points of damage, removes fear and grants you berserk
desc: strength (resistance to fear, a bonus of +24 to-hit and a penalty
desc: of -10 to AC) for 25+1d25 turns.

book:shadow book:town:[Dark Conjurings]:4:shadow

spell:Unholy Pact:16:8:32:16:0
effect:TIMED_INC:REGEN
dice:20+1d20
desc:Greatly increases your regeneration rate for 20+1d20 turns.
desc: The effect of this spell is cumulative with other means of regeneration.

spell:Cry of the Damned:17:5:30:12:0
effect:PROJECT_LOS:TURN_LIVING
dice:$B
expr:B:PLAYER_LEVEL:+ 0
desc:Attempts to scare every living monster in line of sight for a
desc: level-dependent duration. Uniques and monsters that resist fear are not
desc: affected.

spell:Phantoms Weapon:18:9:36:18:0
effect:TIMED_INC:HOLD_WEAPON
dice:20+1d20
desc:Grants extra damage each turn and makes you immune to disarming
desc: for 20+1d20 turns.

spell:Poison Brand:20:30:40:20:0
effect:TIMED_INC:ATT_POIS:0:5
dice:20+1d20
desc:Temporarily makes your melee attacks branded with poison.

book:shadow book:town:[Shadows and Illusions]:4:shadow

spell:Soul Harvest:22:11:44:22:0
effect:TIMED_INC:SOUL
dice:$B+1d$S
expr:B:PLAYER_LEVEL:+ 50
expr:S:PLAYER_LEVEL:* 2 + 30
desc:This heals you by a substantial amount every time you kill a monster
desc: within its duration.

spell:Expertise:24:12:48:24:0
effect:TIMED_INC:SAFE
dice:20+1d20
effect:TIMED_INC:GROWTH
dice:20+1d20
desc:Grants you stat growth and perfect saving throw for 20+1d20 turns.

spell:Aura of Despair:26:13:52:26:0
effect:TIMED_INC:DESPAIR
dice:20+1d20
desc:Gives monsters around you a penalty to their saving throws and doubles
desc: the duration if they get become afraid for 20+1d20 turns.

spell:Throw Monster:27:12:50:30:0
effect:BOLT_MELEE:FORCE
dice:200
desc:Hits an adjacent monster with force, throwing it back.

book:shadow book:dungeon:[Dark Evocations]:4:shadow

spell:Dark Minions:28:14:56:28:0
effect:SUMMON:DEMON:0:20
dice:1
effect:SUMMON:UNDEAD:0:20
dice:1
msg_other: summons some minions.
desc:Attempts to summon one undead monster and one demon generated at the
desc: current dungeon level. This spell has no effect when used in the town.

spell:Demonic Skin:30:15:60:30:0
effect:TIMED_INC:SHIELD
dice:30+1d20
desc:Grants you +50 to AC for 30+1d20 turns.

spell:Thirst for Blood:32:30:40:100:0
effect:DAMAGE
dice:50
msg_self:blood sacrifice
effect:TIMED_INC:BLOODLUST:0:-1
dice:10
desc:Gives you a powerful desire to kill, increased every time you satsfy it.
desc: Gives you extra damage and, at higher levels, extra blows, but comes
desc: with dangerous side-effects.

spell:Demonic Resistance:34:17:68:34:0
effect:TIMED_INC:OPP_POIS
dice:20+1d20
effect:TIMED_INC:OPP_COLD
dice:20+1d20
effect:TIMED_INC:OPP_FIRE
dice:20+1d20
effect:TIMED_INC:OPP_ELEC
dice:20+1d20
effect:END_INFO
effect:TIMED_INC:OPP_ACID
dice:20+1d20
desc:Grants you resistance to acid, cold, fire, lightning and poison for
desc: 20+1d20 turns.

book:shadow book:dungeon:[Great Shadows]:4:shadow

spell:Piercing Shot:35:20:40:120:0
effect:TIMED_INC:POWERSHOT
dice:3
desc:Makes your next shot powerful enough to pierce several enemies.

spell:Demonic Flight:36:18:72:36:0
effect:TIMED_INC:FLIGHT:0:5
dice:20+1d20
desc:Grants levitation and +5 to speed for 20+1d20 turns.

spell:Forceful Blow:38:20:40:150:0
effect:TIMED_INC:POWERBLOW
dice:10
desc:Makes your next blow strong enough to hurl your enemy back, maybe even
desc: through walls.

spell:Path of the Unholy:40:20:80:40:0
effect:TELEPORT
dice:40
msg_other: teleports away.
effect:TIMED_INC:ICY_AURA
dice:10+1d10
effect:TIMED_INC:ESP
dice:10+1d10
effect:TIMED_INC:ZFARSIGHT
dice:10+1d10
desc:Grants infravision, telepathic powers, and surrounds you with an icy aura
desc: for 10+1d10 turns, but also teleports you around.


############### SORCEROR ###############
name:Sorceror
color:R
skill-disarm-phys:35:9
skill-disarm-magic:50:12
skill-device:40:15
skill-save:30:9
skill-stealth:2:0
skill-search:10:12
skill-melee:30:11
skill-shoot:20:15
skill-dig:0:0
hitdie:0
max-attacks:1
min-weight:40
strength-multiplier:2
equip:food:Ration of Food:1:3:1
equip:light:Wooden Torch:1:3:1
equip:sword:Dagger:1:1:1
equip:scroll:Word of Recall:1:1:0
value:1:STR[-5]
value:1:INT[5]
value:1:CON[-3]
value:1:MANA[5]
player-flags:ZERO_FAIL | BEAM | CHOOSE_SPELLS
title:Novice
title:Apprentice
title:Trickster
title:Illusionist
title:Spellbinder
title:Evoker
title:Conjurer
title:Warlock
title:Sorcerer
title:Arch-Mage

magic:1:300:5

book:magic book:town:[Magic for Beginners]:8:arcane
equip:magic book:[Magic for Beginners]:1:1:1

spell:Magic Missile:1:1:12:4:0
effect:BOLT_OR_BEAM:MISSILE:0:-10
dice:$Dd$S
expr:D:PLAYER_LEVEL:- 1 / 5 + 3
expr:S:PLAYER_LEVEL:/ 10 + 4
msg_other: fires a magic missile.
desc:Fires a magic missile that always hits its target and does
desc: unresistable damage.
desc: Sometimes a beam is fired instead that hurts each monster
desc: in its path.
desc: The chance to get a beam goes up with your character level.

spell:Detect Monsters:1:1:13:4:0
effect:DETECT_VISIBLE_MONSTERS
effect-yx:22:40
desc:Detects all non-invisible monsters in the immediate area,
desc: for one turn only.

spell:Phase Door:2:2:14:4:0
effect:TELEPORT
dice:10
msg_other: blinks away.
desc:Teleports you randomly up to 10 squares away.

spell:Light Room:2:2:16:4:0
effect:LIGHT_AREA
effect:BLAST:LIGHT_WEAK:2
dice:2d$S
expr:S:PLAYER_LEVEL:/ 2
msg_other: calls light.
desc:Lights up all squares within 2 grids of the player and hurts
desc: all light-sensitive monsters in the area of effect.
desc: If you are in a room, the entire room will be lit up as well.

spell:Find Traps, Doors & Stairs:3:3:15:3:0
effect:DETECT_STAIRS
effect-yx:22:40
effect:DETECT_DOORS
effect-yx:22:40
effect:DETECT_TRAPS
effect-yx:22:40
desc:Detects all traps, doors and stairs in the immediate area.

spell:Fire Ball:3:2:17:3:0
effect:BALL:FIRE:2
dice:$B
expr:B:PLAYER_LEVEL:+ 10
msg_other: fires a fire ball.
desc:Shoots a radius-2 fire ball.

spell:Detect Treasure:4:4:18:4:0
effect:DETECT_TREASURES
effect-yx:22:40
desc:Detects all treasure in the immediate area.

spell:Lightning Beam:5:4:20:4:0
effect:BEAM:ELEC
dice:$Dd6
expr:D:PLAYER_LEVEL:- 1 / 5 + 3
msg_other: fires a lightning beam.
desc:Fires a lightning beam that hurts each monster in its path.

book:magic book:town:[Conjurings and Tricks]:8:arcane

spell:Disable Traps, Destroy Doors:5:5:20:6:0
effect:TOUCH:KILL_TRAP
effect:TOUCH:KILL_DOOR
msg_other: sways his hands.
desc:Disables traps and destroys doors within a 1-square radius of you.

spell:Teleport Self:6:6:25:5:0
effect:TELEPORT
dice:$B
expr:B:PLAYER_LEVEL:* 5
msg_other: teleports away.
desc:Teleports you randomly within the current level.

spell:Frost Bolt:7:3:30:6:0
effect:BOLT_OR_BEAM:COLD
dice:$Dd8
expr:D:PLAYER_LEVEL:- 5 / 3 + 6
msg_other: fires a frost bolt.
desc:Fires a frost bolt that always hits its target.
desc: Sometimes a beam is fired instead that hurts each monster
desc: in its path.
desc: The chance to get a beam goes up with your character level.

spell:Dig:9:7:34:8:0
effect:LINE:KILL_WALL
dice:20+1d30
msg_other: makes a moving gesture.
desc:Produces a beam that destroys the first section of wall it hits,
desc: unless it is a permanent wall. Each monster caught in the beam that
desc: is susceptible to rock remover takes 20+1d30 points of damage.

spell:Identify Rune:12:7:40:6:0
effect:IDENTIFY
desc:Reveals an unknown rune on an object.

spell:Map Area:13:10:45:7:0
effect:MAP_AREA
effect-yx:22:40
desc:Maps out a portion of the level around you.

spell:Radiate Fear:14:12:45:8:0
effect:BLAST_OBVIOUS:TURN_ALL:5
dice:$B
expr:B:PLAYER_LEVEL:+ 0
msg_other: emits a blast of terror.
desc:Attempts to scare monsters around you for a level-dependent duration.

spell:Reveal Monsters:15:6:40:10:0
effect:DETECT_MONSTERS
effect-yx:22:40
desc:Detects all monsters in the immediate area, for one turn only.

book:magic book:town:[Incantations and Illusions]:8:arcane

spell:Elemental Bolt:17:9:40:14:0
effect:BOLT_OR_BEAM:ACID:0:-10
dice:$Dd8
expr:D:PLAYER_LEVEL:- 5 / 4 + 5
effect:BOLT_OR_BEAM:FIRE:0:-10
dice:$Dd8
expr:D:PLAYER_LEVEL:- 5 / 4 + 5
effect:BOLT_OR_BEAM:COLD:0:-10
dice:$Dd8
expr:D:PLAYER_LEVEL:- 5 / 4 + 5
effect:END_INFO
effect:BOLT_OR_BEAM:ELEC:0:-10
dice:$Dd8&m4
expr:D:PLAYER_LEVEL:- 5 / 4 + 5
msg_other: fires an elemental bolt.
desc:Fires an elemental bolt that always hits its target.
desc: Sometimes a beam is fired instead that hurts each monster
desc: in its path.
desc: The chance to get a beam goes up with your character level.

spell:Meditation:20:5:30:15:0
effect:TIMED_INC:MEDITATE
dice:20+1d20
desc:Helps increasing your mana capacity at the cost of hit points.

spell:Stone Prison:20:15:44:30:0
effect:CREATE_WALLS
desc:A wall is created on each empty floor space that is directly
desc: adjacent to you.

spell:Teleport Other:23:12:50:15:0
effect:BOLT_STATUS:AWAY_ALL:1
dice:$B
expr:B:MAX_SIGHT:* 5
msg_other: makes a rush gesture.
desc:Produces a bolt that teleports the first monster in its path
desc: up to 100 squares away.

spell:Recharging:24:26:70:19:0
effect:RECHARGE
dice:$B
expr:B:PLAYER_LEVEL:+ 20
desc:Adds charges to a stack of wands or staves.
desc: Chance of success and number of charges gained increase with your
desc: level and decrease with level of wand or staff and number of charges.
desc: A failed attempt to recharge destroys one wand or staff from the stack.

spell:Speed:25:12:55:20:1
effect:TIMED_INC:FAST:0:5
dice:$B+1d$S
expr:B:PLAYER_LEVEL:+ 20
expr:S:PLAYER_LEVEL:+ 0
desc:Hastes you (+10 to speed) for a level-dependent duration.

spell:Wipe:27:20:65:50:0
effect:WIPE_AREA:NONE:10
msg_other: wrecks havoc.
desc:Wipes everything in a 10-square radius around you.
desc: Only artifacts and permanent features (stairs and permanent
desc: doors/walls) will not be affected by this spell.
desc: This spell has no effect when used in the town.

spell:Sunfire:28:20:70:35:0
effect:BALL:LIGHT:2
dice:$B
expr:B:PLAYER_LEVEL:* 2 + 130
msg_other: invokes the sunfire.
desc:Shoots a radius-2 light ball.

book:magic book:dungeon:[Sorcery and Evocations]:7:arcane

spell:Resistance:28:20:55:60:1
effect:TIMED_INC:OPP_POIS
dice:20+1d20
effect:TIMED_INC:OPP_COLD
dice:20+1d20
effect:TIMED_INC:OPP_FIRE
dice:20+1d20
effect:TIMED_INC:OPP_ELEC
dice:20+1d20
effect:END_INFO
effect:TIMED_INC:OPP_ACID
dice:20+1d20
desc:Grants you resistance to acid, cold, fire, lightning and poison for
desc: 20+1d20 turns.

spell:Recall:30:25:65:70:1
effect:RECALL
dice:14+1d20
desc:Teleports you from the dungeon to the town or from the town to the
desc: deepest level you have visited in the dungeon.
desc: The recall effect is not immediate; it is delayed by 14+1d20 turns.
desc: During that delay, the effect can be canceled by invoking the spell
desc: of recall again.

spell:Wraithform:30:30:95:70:1
effect:TIMED_INC:WRAITHFORM
dice:$B+1d20
expr:B:PLAYER_LEVEL:+ 10
desc:Grants you the ability to pass through non-permanent walls.

spell:Destruction:33:21:80:80:0
effect:DESTRUCTION:LIGHT:15
desc:Destroys everything in a 15-square radius circle around you.
desc: All monsters, objects and terrain features in the area of
desc: effect are destroyed, except stairs and permanent walls.
desc: You will also be blinded for 10+1d10 turns, unless you
desc: have resistance to blindness or light.
desc: This spell has no effect when used in the town.

spell:Telepathy:34:40:75:150:0
effect:TIMED_INC:ESP
dice:$B+1d10
expr:B:PLAYER_LEVEL:+ 0
desc:Grants you the power of telepathy for a level-dependent duration.

spell:Disruption Shield:35:70:95:100:0
effect:TIMED_INC:MANASHIELD
dice:8+1d10
desc:Creates a shield of mana around you that absorbs all damage
desc: inflicted to your character... as long as you have mana
desc: to fuel it.

spell:Mass Banishment:35:75:90:100:0
effect:MASS_BANISH
desc:Removes all monsters within 20 squares of you.
desc: Uniques are not affected.
desc: You take 1d3 points of damage for every monster removed.

book:magic book:dungeon:[Wizard's Tome of Power]:7:arcane

spell:Sea of Runes:36:60:60:40:0
effect:SAFE_GUARD
desc:Inscribes a circle of glyphs of warding around you.
desc: Summoned monsters can't appear on the glyphs.
desc: If a monster attempts to move onto a glyph or melee you while you
desc: are standing on a glyph, it must first succeed in breaking the glyph.
desc: Higher level monsters are more likely to break the glyphs.
desc: The glyphs will remain where they are, until a monster succeeds in
desc: breaking them or until you leave the level.

spell:Plasma Blast:36:21:45:120:0
effect:BLAST:PLASMA:3
dice:$B
expr:B:PLAYER_LEVEL:* 2 + 250
msg_other: emits a plasma blast.
desc:Creates a radius-3 plasma ball around you.

spell:Annihilation Bolt:39:20:45:180:0
effect:BOLT:MISSILE
dice:$B
expr:B:PLAYER_LEVEL:* 2 + 400
msg_other: fires an annihilation bolt.
desc:Fires a powerful magic missile that always hits its target
desc: and does unresistable damage.

spell:Clairvoyance:40:50:95:200:0
effect:LIGHT_LEVEL
desc:Lights up, maps out and senses all objects on the complete current
desc: dungeon level.

spell:Mana Storm:42:16:50:200:0
effect:BALL:MANA:3
dice:$B
expr:B:PLAYER_LEVEL:* 2 + 350
msg_other: invokes a mana storm.
desc:Shoots a radius-3 mana ball that does unresistable
desc: damage to each monster in its area of effect.

spell:Tidal Wave:45:27:55:250:0
effect:BALL:WATER:3
dice:$B
expr:B:PLAYER_LEVEL:* 2 + 450
msg_other: invokes a tidal wave.
desc:Shoots a radius-3 water ball.

spell:Anarchy Force:47:31:55:250:0
effect:STAR_BALL:CHAOS:3
dice:$B+m8
expr:B:PLAYER_LEVEL:* 2 + 100
msg_other: invokes a chaos storm.
desc:Shoots a radius-3 chaos ball in all eight cardinal directions.


############### UNBELIEVER ###############
name:Unbeliever
color:m
skill-disarm-phys:42:10
skill-disarm-magic:21:7
skill-device:0:0
skill-save:32:14
skill-stealth:0:0
skill-search:10:12
skill-melee:70:45
skill-shoot:55:45
skill-dig:0:0
hitdie:9
max-attacks:6
min-weight:30
strength-multiplier:5
equip:food:Ration of Food:1:3:1
equip:light:Wooden Torch:1:3:1
equip:potion:Berserk Strength:1:1:0
equip:sword:Dagger:1:1:1
equip:soft armour:Soft Leather Armour:1:1:0
equip:scroll:Word of Recall:1:1:0
value:1:STR[3]
value:1:INT[-4]
value:1:WIS[-3]
value:1:DEX[2]
value:1:CON[2]
value:0:ANTI_MAGIC[1d1]
player-flags:NO_MANA
title:Asker
title:Thinker
title:Faithless
title:Critic
title:Betrayer
title:Renegate
title:Undisciple
title:Disbeliever
title:Knower
title:Magicbane


############### ARCHER ###############
name:Archer
color:Y
skill-disarm-phys:42:10
skill-disarm-magic:28:8
skill-device:32:10
skill-save:28:10
skill-stealth:2:0
skill-search:15:15
skill-melee:56:30
skill-shoot:82:55
skill-dig:0:0
hitdie:4
max-attacks:2
min-weight:35
strength-multiplier:3
equip:food:Ration of Food:1:3:1
equip:light:Wooden Torch:1:3:1
equip:sword:Dagger:1:1:1
equip:bow:Short Bow:1:1:0
equip:arrow:Arrow:30:40:0
equip:scroll:Word of Recall:1:1:0
value:1:STR[-2]
value:1:INT[-2]
value:1:WIS[2]
value:1:DEX[2]
value:0:SHOTS[1d3]
player-flags:CHOOSE_SPELLS | FAST_THROW
title:Rock Thrower
title:Slinger
title:Great Slinger
title:Bowsen
title:Bowman
title:Great Bowman
title:High Archer
title:Grand Archer
title:Master Archer
title:Elite Archer

magic:5:400:5

book:nature book:town:[Lesser Charms]:4:nature
equip:nature book:[Lesser Charms]:1:1:1

spell:Lightning Shots:5:1:10:4:0
effect:BOW_BRAND_SHOT:ELEC
dice:3
desc:Covers your missiles with lightning.

spell:Detect Life:7:3:14:7:0
effect:DETECT_LIVING_MONSTERS
effect-yx:22:40
desc:Detects all living monsters in the immediate area,
desc: for one turn only.

spell:Cold Shots:10:3:18:12:0
effect:BOW_BRAND_SHOT:COLD
dice:5
desc:Covers your missiles with frost.

spell:Satisfy Hunger:12:6:24:12:0
effect:SET_NOURISH
dice:$B
expr:B:FOOD_MAX:- 1
desc:Magically renders you well-fed (but not satiated).
desc: This will also cure a bloated stomach.

book:nature book:town:[Gifts of Nature]:4:nature

spell:Fire Shots:15:5:26:20:0
effect:BOW_BRAND_SHOT:FIRE
dice:7
desc:Covers your missiles with fire.

spell:Farsight:17:6:30:25:0
effect:TIMED_INC:FARSIGHT
dice:$B+1d20&m$M
expr:B:PLAYER_LEVEL:+ 0
expr:M:PLAYER_LEVEL:- 7 / 10
desc:Increases your shooting range, infravision and chance to-hit for a
desc: level-dependent duration.

spell:Cure Poison:18:9:36:18:0
effect:CURE:POISONED
desc:Neutralizes poison.

spell:Acid Shots:20:7:34:30:0
effect:BOW_BRAND_SHOT:ACID
dice:9
desc:Covers your missiles with acid.

book:nature book:town:[Creature Dominion]:4:nature

spell:Thunder Shots:22:8:38:35:0
effect:BOW_BRAND:ELEC:1
dice:20
desc:Turns your missiles into explosive lightning shots.

spell:Resist Poison:24:12:48:24:0
effect:TIMED_INC:OPP_POIS
dice:20+1d20
desc:Grants you resistance to poison for 20+1d20 turns.

spell:Confusion Shots:25:9:42:40:0
effect:BOW_BRAND:MON_CONF
desc:Turns your missiles into confusing shots.

spell:Poison Shots:27:10:46:45:0
effect:BOW_BRAND_SHOT:POIS
dice:11
desc:Covers your missiles with venom.

book:nature book:dungeon:[Nature Craft]:4:nature

spell:Sense Surroundings:28:14:56:28:0
effect:MAP_AREA
effect-yx:22:40
desc:Maps out a portion of the level around you.

spell:Piercing Shots:30:11:50:50:0
effect:BOW_BRAND:ARROW_X
desc:Turns your missiles into deadly piercing shots.

spell:Explosive Shots:32:12:54:55:0
effect:BOW_BRAND:SHARD:1
dice:10
desc:Turns your missiles into explosive shots.

spell:Ice Shots:35:14:58:60:0
effect:BOW_BRAND:COLD:1
dice:30
desc:Turns your missiles into explosive ice shots.

book:nature book:dungeon:[Wild Forces]:4:nature

spell:Flame Shots:37:16:62:70:0
effect:BOW_BRAND:FIRE:1
dice:35
desc:Turns your missiles into explosive flame shots.

spell:Water Shots:40:18:66:80:0
effect:BOW_BRAND:ACID:1
dice:40
desc:Turns your missiles into explosive acid shots.

spell:Power Shots:42:20:70:90:0
effect:BOW_BRAND_SHOT:MISSILE
dice:20
desc:Covers your missiles with the elements.

spell:Sonic Shots:45:25:70:100:0
effect:BOW_BRAND:SOUND:1
dice:25
desc:Turns your missiles into explosive sonic shots.


############### MONK ###############
name:Monk
color:U
skill-disarm-phys:42:10
skill-disarm-magic:28:8
skill-device:32:11
skill-save:28:10
skill-stealth:3:1
skill-search:20:16
skill-melee:64:40
skill-shoot:60:30
skill-dig:10:5
hitdie:8
equip:food:Ration of Food:1:3:1
equip:light:Wooden Torch:1:3:1
equip:potion:Berserk Strength:1:1:0
equip:soft armour:Soft Leather Armour:1:1:0
equip:scroll:Word of Recall:1:1:0
obj-flag:10:FEATHER
obj-flag:15:PROT_FEAR
obj-flag:20:PROT_CONF
obj-flag:25:FREE_ACT
value:1:STR[1]
value:1:INT[-2]
value:1:DEX[2]
value:1:CON[1]
value:0:SPEED[1d10]
value:0:BLOWS[1d1]
player-flags:NO_MANA | MARTIAL_ARTS | FAST_THROW
title:Initiate
title:Brother
title:Disciple
title:Immaculate
title:Soft Master
title:Master
title:Hard Master
title:Flower Master
title:Dragon Master
title:Grand Master


############### TELEPATH ###############
name:Telepath
color:b
skill-disarm-phys:34:8
skill-disarm-magic:28:8
skill-device:30:13
skill-save:30:6
skill-stealth:1:0
skill-search:15:15
skill-melee:42:20
skill-shoot:30:20
skill-dig:0:0
hitdie:3
max-attacks:4
min-weight:35
strength-multiplier:3
equip:food:Ration of Food:1:3:1
equip:light:Wooden Torch:1:3:1
equip:sword:Dagger:1:1:1
equip:scroll:Word of Recall:1:1:0
value:1:STR[-1]
value:1:INT[-2]
value:1:WIS[3]
value:1:DEX[-1]
player-flags:BEAM | CHOOSE_SPELLS
title:Novice
title:Talent
title:Empath
title:Mindbender
title:Mindcrafter
title:Psionicist
title:Clairvoyant
title:Telepath
title:Meta
title:Pegasus Rider

magic:1:400:5

book:psi book:town:of Telepathy:8:psi
book-graphics:?:B
book-properties:1:30:25
book-alloc:40:1 to 100
book-desc:A glowing stone, engraved with runes of power.
equip:psi book:of Telepathy:1:1:1

spell:Mind Blast:1:1:12:4:0
effect:BOLT_OR_BEAM:PSI
dice:$Dd$S
expr:D:PLAYER_LEVEL:- 1 / 4 + 3
expr:S:PLAYER_LEVEL:/ 15 + 4
msg_other: hurls a mind blast.
desc:Fires a mental blast that will damage minded creatures.
desc: This also has a chance to stun, confuse, put to sleep or scare
desc: affected monsters.

spell:Sense Monsters:2:2:14:4:0
effect:DETECT_VISIBLE_MONSTERS
effect-yx:22:40
desc:Detects all non-invisible monsters in the immediate area,
desc: for one turn only.

spell:Minor Displacement:3:3:16:5:0
effect:TELEPORT
dice:$B
expr:B:PLAYER_LEVEL:+ 7
msg_other: blinks away.
desc:Teleports you randomly to a short distance.

spell:Light Control:4:4:18:5:0
effect:BLAST:LIGHT_WEAK:1:10
dice:2d$S
expr:S:PLAYER_LEVEL:/ 2
effect:LIGHT_AREA
msg_other: calls light.
desc:Lights up all squares in a level-dependent area and hurts
desc: all light-sensitive monsters in the area of effect.
desc: If you are in a room, the entire room will be lit up as well.

spell:Spiritual Hammer:5:2:20:6:0
effect:BOLT:MISSILE
dice:$Dd6
expr:D:PLAYER_LEVEL:- 1 / 4 + 1
msg_other: hurls a spiritual hammer.
desc:Hurls a spiritual hammer that will damage any creature.

spell:Confusion Blast:6:5:22:6:0
effect:BOLT_AWARE:MON_CONF
dice:5+1d5
msg_other: hurls a confusing blast.
desc:Attempts to confuse a single monster.

spell:Cell Adjustment:7:6:24:7:0
effect:TIMED_DEC:STUN
dice:20
effect:TIMED_DEC:CUT
dice:20
effect:HEAL_HP
dice:6+$Dd6
expr:D:PLAYER_LEVEL:/ 2
desc:Cures up to 6+25d6 points of damage and heals 20 points worth of cuts
desc: and stunning.

spell:Major Displacement:8:7:26:8:0
effect:TELEPORT
dice:$B
expr:B:PLAYER_LEVEL:* 5
msg_other: teleports away.
desc:Teleports you randomly within the current level.

book:psi book:town:of Mind Support:7:psi
book-graphics:?:B
book-properties:10:30:400
book-alloc:30:10 to 100
book-desc:A glowing stone, engraved with runes of power.

spell:Dig:9:8:28:9:0
effect:LINE:KILL_WALL
dice:20+1d30
msg_other: makes a moving gesture.
desc:Produces a beam that destroys the first section of wall it hits,
desc: unless it is a permanent wall. Each monster caught in the beam that
desc: is susceptible to rock remover takes 20+1d30 points of damage.

spell:Mind Vision:10:9:30:10:0
effect:MIND_VISION
desc:Allows you to infiltrate other players' minds
desc: and see through their eyes.

spell:Hypnosis:11:10:32:11:0
effect:PROJECT_LOS_AWARE:SLEEP_ALL
desc:Attempts to put to sleep each monster within line of sight.

spell:Sense Surroundings:12:10:34:12:0
effect:MAP_AREA
effect-yx:22:40
desc:Maps out a portion of the level around you.

spell:Psychometry:14:12:37:14:0
effect:IDENTIFY
desc:Reveals an unknown rune on an object.

spell:Satisfy Hunger:16:14:40:16:0
effect:SET_NOURISH
dice:$B
expr:B:FOOD_MAX:- 1
msg_self:You focus your mind to convert energy into food.
desc:Magically renders you well-fed (but not satiated).
desc: This will also cure a bloated stomach.

spell:Mass Stun:18:15:43:18:0
effect:PROJECT_LOS_AWARE:MON_STUN
dice:5+1d5
desc:Attempts to stun each monster within line of sight.

book:psi book:town:of Mindcraft:7:psi
book-graphics:?:B
book-properties:25:30:1600
book-alloc:20:25 to 100
book-desc:A glowing stone, engraved with runes of power.

spell:Kinetic Blast:20:11:46:20:0
effect:BEAM:FORCE
dice:$B+1d$S
expr:B:PLAYER_LEVEL:+ 50
expr:S:PLAYER_LEVEL:* 2
msg_other: hurls a kinetic blast.
desc:Fires a beam of pure mental force that crushes each monster in its path.

spell:Precognition:22:17:48:22:0
effect:DETECT_MONSTERS
effect-yx:22:40
effect:DETECT_TREASURES
effect-yx:22:40
effect:DETECT_STAIRS
effect-yx:22:40
effect:DETECT_DOORS
effect-yx:22:40
effect:DETECT_TRAPS
effect-yx:22:40
desc:Detects all gold, objects, doors, stairs, traps and monsters
desc: in the immediate area.

spell:Psychic Drain:24:21:50:24:0
effect:BOLT:PSI_DRAIN
dice:$Dd6
expr:D:PLAYER_LEVEL:/ 2
msg_other: hurls a psychic bolt.
desc:Drains part of the life-force from a nearby monster and replenishes
desc: your mana with it. Does not affect undead, demons, golems, elementals or
desc: vortices.

spell:Telekinesis:25:21:53:25:0
effect:TELE_OBJECT
desc:Allows you to send objects from your inventory
desc: to another player's inventory.

spell:Force Shield:27:23:56:29:0
effect:TIMED_INC:SHIELD
dice:30+1d20
desc:Grants you +50 to AC for 30+1d20 turns.

spell:Prismatic Shield:29:25:59:33:0
effect:TIMED_INC:OPP_POIS
dice:20+1d20
effect:TIMED_INC:OPP_COLD
dice:20+1d20
effect:TIMED_INC:OPP_FIRE
dice:20+1d20
effect:TIMED_INC:OPP_ELEC
dice:20+1d20
effect:END_INFO
effect:TIMED_INC:OPP_ACID
dice:20+1d20
desc:Grants you resistance to acid, cold, fire, lightning and poison for
desc: 20+1d20 turns.

spell:Mind Wave:30:17:61:35:0
effect:BLAST:INERTIA:2:10
dice:$B
expr:B:PLAYER_LEVEL:+ 0
effect:BLAST:SOUND:2:10
dice:$B
expr:B:PLAYER_LEVEL:+ 0
effect:BLAST:PSI:2:10
dice:$B
expr:B:PLAYER_LEVEL:+ 0
msg_other: radiates a powerful mind wave.
desc:Creates a radius-5 to radius-7 mental wave around you. Each blast will do
desc: 1/3 damage from mental force, 1/3 damage from sound and 1/3 damage from
desc: inertia.

book:psi book:dungeon:of Telekinesis:6:psi
book-graphics:?:b
book-properties:40:30:20000
book-alloc:15:40 to 100
book-desc:A stone glowing brightly, engraved with runes of power.

spell:Recall:31:25:62:37:0
effect:RECALL
dice:14+1d20
desc:Teleports you from the dungeon to the town or from the town to the
desc: deepest level you have visited in the dungeon.
desc: The recall effect is not immediate; it is delayed by 14+1d20 turns.
desc: During that delay, the effect can be canceled by invoking the power
desc: of recall again.

spell:Awareness:32:27:64:39:0
effect:TIMED_INC:ESP
dice:$B+1d10
expr:B:PLAYER_LEVEL:+ 0
desc:Grants you the power of telepathy for a level-dependent duration.

spell:Space/Time Anchor:33:27:65:41:0
effect:TIMED_INC:ANCHOR
dice:$B+1d20
expr:B:PLAYER_LEVEL:+ 0
desc:Grants you resistance to gravity and time for a level-dependent duration.
desc: Watch out, this also prevents any means of teleportation around you!

spell:Displace Other:34:29:67:43:0
effect:BLAST_OBVIOUS:AWAY_ALL:2:10
dice:100
msg_other: makes a rush gesture.
desc:Creates a radius-5 to radius-7 wave around you that teleports each monster
desc: in its path up to 100 squares away.

spell:Biofeedback:35:30:68:45:0
effect:TIMED_INC:BIOFEEDBACK
dice:1d$S
expr:S:PLAYER_LEVEL:+ 10
desc:Increases regeneration rate. Also reduces damage from missile,
desc: shards or sound attacks.
desc: This power can cause nasty effects when Adrenaline Channeling is
desc: activated.

spell:Probability Travel:36:30:70:47:0
effect:TIMED_INC:PROBTRAVEL
dice:$B+1d20
expr:B:PLAYER_LEVEL:+ 0
desc:Allows you to teleport 1 level up or 1 level down at will.
desc: This also allows fast traveling on current level.

book:psi book:dungeon:of Empathy:6:psi
book-graphics:?:b
book-properties:60:30:50000
book-alloc:10:60 to 100
book-desc:A stone glowing brightly, engraved with runes of power.

spell:Time Bolt:38:23:73:51:0
effect:BOLT_OR_BEAM:TIME
dice:$Dd$S
expr:D:PLAYER_LEVEL:/ 12 + 10
expr:S:PLAYER_LEVEL:+ 0
msg_other: breaks the space/time continuum.
desc:Fires a time bolt that always hits its target.
desc: Sometimes a beam is fired instead that hurts each monster
desc: in its path.
desc: The chance to get a beam goes up with your character level.

spell:Clairvoyance:40:34:76:55:0
effect:LIGHT_LEVEL
desc:Lights up, maps out and senses all objects on the complete current
desc: dungeon level.

spell:Kinetic Wave:42:23:79:59:0
effect:BLAST:FORCE:3:10
dice:$B
expr:B:PLAYER_LEVEL:* 4
msg_other: radiates a powerful kinetic wave.
desc:Creates a radius-7 to radius-8 wave of pure mental force around you.

spell:Rapid Healing:45:38:82:65:0
effect:CURE:CUT
effect:CURE:STUN
effect:CURE:POISONED
effect:CURE:AMNESIA
effect:HEAL_HP
dice:1000
msg_self:Your body begins to rapidly recover.
desc:Cures 1000 points of damage, cures all stunning, heals all
desc: cut damage, neutralizes poison, and cures amnesia.

spell:Brain Smash:48:25:77:70:0
effect:BOLT_OR_BEAM:SMASH
dice:$Dd15
expr:D:PLAYER_LEVEL:* 3 / 5
msg_other: hurls a powerful mind blast.
desc:Fires a powerful mental blast that will damage minded creatures.
desc: This also has a chance to blind, confuse, put to sleep or slow
desc: affected monsters.

spell:Adrenaline Channeling:50:42:72:75:0
effect:TIMED_INC:ADRENALINE
dice:10+1d10
desc:Attempts to control the adrenaline flow in your body, increasing your
desc: fighting abilities for 10+1d10 turns.
desc: At a first stage, cures 30 points of damage, removes fear and grants
desc: you berserk strength (resistance to fear, a bonus of +24 to-hit and a
desc: penalty of -10 to AC).
desc: At a second stage, increases strength, dexterity and constitution.
desc: At a third stage, grants a bonus of +8 to-dam.
desc: At a fourth stage, increases attack speed by 1.
desc: At a fifth and last stage, hastes you (+10 to speed).
desc: This power can cause damage if used too often or when Biofeedback is
desc: activated.


############### ELEMENTALIST ###############
name:Elementalist
color:x
skill-disarm-phys:35:9
skill-disarm-magic:49:11
skill-device:36:13
skill-save:30:9
skill-stealth:2:0
skill-search:10:12
skill-melee:34:15
skill-shoot:20:15
skill-dig:0:0
hitdie:1
max-attacks:3
min-weight:40
strength-multiplier:2
equip:food:Ration of Food:1:3:1
equip:light:Wooden Torch:1:3:1
equip:sword:Dagger:1:1:1
equip:scroll:Word of Recall:1:1:0
value:1:STR[-4]
value:1:INT[4]
value:1:CON[-2]
value:1:MANA[3]
value:10:RES_FIRE[1]
value:15:RES_COLD[1]
value:20:RES_ACID[1]
value:25:RES_ELEC[1]
value:50:TUNNEL[100]
player-flags:ZERO_FAIL | BEAM | CHOOSE_SPELLS | ELEMENTAL_SPELLS
title:Novice
title:Apprentice
title:Trickster
title:Illusionist
title:Spellbinder
title:Evoker
title:Conjurer
title:Warlock
title:Sorcerer
title:Arch-Mage

magic:1:300:5

book:elemental book:town:[Air]:8:elemental
book-graphics:?:x
book-properties:5:30:100
book-alloc:25:5 to 100
book-desc:A standard spellbook with a few spells.

spell:Shocking Grasp:3:2:21:4:0
effect:TIMED_INC:ATT_ELEC
dice:$B+1d$S
expr:B:PLAYER_SPELL_POWER:* 5
expr:S:PLAYER_SPELL_POWER:* 5
desc:Charges your hands with a powerful electrical field to shock your foes.

spell:Lightning Bolt:9:4:31:7:0
effect:BOLT_OR_BEAM:ELEC
dice:$Dd$S
expr:D:PLAYER_LEVEL:- 5 / 4 + 7
expr:S:PLAYER_SPELL_POWER:+ 6
msg_other: fires a lightning bolt.
desc:Fires a lightning bolt that always hits its target.
desc: Sometimes a beam is fired instead that hurts each monster
desc: in its path.
desc: The chance to get a beam goes up with your character level.

spell:Resist Lightning:14:6:39:11:0
effect:TIMED_INC:OPP_ELEC
dice:$B+1d$S
expr:B:PLAYER_SPELL_POWER:* 10
expr:S:PLAYER_SPELL_POWER:* 10
desc:Grants you temporary resistance to lightning.

spell:Resist Poison:21:9:51:17:0
effect:TIMED_INC:OPP_POIS
dice:$B+1d$S
expr:B:PLAYER_SPELL_POWER:* 10
expr:S:PLAYER_SPELL_POWER:* 10
desc:Grants you temporary resistance to poison.

spell:Lightning Ball:27:12:61:22:0
effect:BALL:ELEC:2
dice:$B
expr:B:BALL_ELEMENT:+ 25
msg_other: fires a lightning ball.
desc:Shoots a lightning ball.

spell:Toxic Cloud:31:13:67:25:0
effect:BALL:POIS:3
dice:$B
expr:B:BLAST_ELEMENT:- 20
msg_other: fires a toxic cloud.
desc:Shoots a poison ball.

spell:Shock Wave:36:16:76:29:0
effect:BALL:SOUND:3
dice:$B
expr:B:BLAST_ELEMENT:+ 125
msg_other: fires a sonic ball.
desc:Shoots a sound ball.

spell:Thunderstorm:43:23:83:35:0
effect:STAR:ELEC
dice:$Dd$S&m8
expr:D:PLAYER_LEVEL:- 5 / 4 + 7
expr:S:PLAYER_SPELL_POWER:+ 6
effect:BLAST:SOUND:3
dice:$B
expr:B:BLAST_ELEMENT:+ 225
msg_other: invokes a thunderstorm!
desc:Creates a sonic blast around you that shoots lightning beams in each of
desc: the eight directions starting from your character.

book:elemental book:town:[Fire]:8:elemental
book-graphics:?:x
book-properties:5:30:100
book-alloc:25:5 to 100
book-desc:A standard spellbook with a few spells.
equip:elemental book:[Fire]:1:1:1

spell:Burning Hands:1:1:17:4:0
effect:BOLT_MELEE:FIRE
dice:$Dd$S
expr:D:PLAYER_LEVEL:- 1 / 4 + 4
expr:S:PLAYER_SPELL_POWER:+ 3
msg_other:'s hands are covered with fire.
desc:Covers your hands with fire to burn your foes.

spell:Fire Bolt:8:4:29:6:0
effect:BOLT_OR_BEAM:FIRE
dice:$Dd$S
expr:D:PLAYER_LEVEL:- 5 / 4 + 6
expr:S:PLAYER_SPELL_POWER:+ 6
msg_other: fires a fire bolt.
desc:Fires a fire bolt that always hits its target.
desc: Sometimes a beam is fired instead that hurts each monster
desc: in its path.
desc: The chance to get a beam goes up with your character level.

spell:Illumination:13:5:37:10:0
effect:LIGHT_AREA
dice:$B
expr:B:PLAYER_SPELL_POWER:+ 1 * 3 / 2
msg_other: fires a minor fire ball.
desc:Conjures a minor fire ball to light up all squares in the nearby area.
desc: If you are in a room, the entire room will be lit up as well.

spell:Resist Fire:19:8:47:15:0
effect:TIMED_INC:OPP_FIRE
dice:$B+1d$S
expr:B:PLAYER_SPELL_POWER:* 10
expr:S:PLAYER_SPELL_POWER:* 10
desc:Grants you temporary resistance to fire.

spell:Fire Ball:26:12:59:21:0
effect:BALL:FIRE:2
dice:$B
expr:B:BALL_ELEMENT:+ 20
msg_other: fires a fire ball.
desc:Shoots a fire ball.

spell:Fireflash:33:15:71:27:0
effect:BALL_OBVIOUS:MON_STUN:3
dice:5+1d5
effect:BALL:FIRE:3
dice:$B
expr:B:BLAST_ELEMENT:- 10
msg_other: fires a fire flash.
desc:Shoots a fire ball that has a chance to stun each monster in the area of
desc: effect.

spell:Plasma Ball:37:16:77:30:0
effect:BALL:PLASMA:3
dice:$B
expr:B:BLAST_ELEMENT:+ 150
msg_other: fires a plasma ball.
desc:Shoots a plasma ball.

spell:Inferno:44:24:82:36:0
effect:STAR:FIRE
dice:$Dd$S&m8
expr:D:PLAYER_LEVEL:- 5 / 4 + 6
expr:S:PLAYER_SPELL_POWER:+ 6
effect:BLAST:PLASMA:3
dice:$B
expr:B:BLAST_ELEMENT:+ 250
msg_other: invokes a hellish storm.
desc:Creates a plasma blast around you that shoots fire beams in each of
desc: the eight directions starting from your character.

book:elemental book:town:[Earth]:8:elemental
book-graphics:?:x
book-properties:5:30:100
book-alloc:25:5 to 100
book-desc:A standard spellbook with a few spells.

spell:Stone to Mud:4:2:23:4:0
effect:LINE:KILL_WALL
dice:20+1d30&m$M
expr:M:PLAYER_SPELL_POWER:+ 1 / 2
msg_other: makes a moving gesture.
desc:Produces some beams that destroy the first section of wall they hit,
desc: unless it is a permanent wall. Each monster susceptible to rock remover
desc: caught in a beam takes 20+1d30 points of damage.

spell:Acid Bolt:10:5:33:8:0
effect:BOLT_OR_BEAM:ACID
dice:$Dd$S
expr:D:PLAYER_LEVEL:- 5 / 4 + 8
expr:S:PLAYER_SPELL_POWER:+ 6
msg_other: fires an acid bolt.
desc:Fires an acid bolt that always hits its target.
desc: Sometimes a beam is fired instead that hurts each monster
desc: in its path.
desc: The chance to get a beam goes up with your character level.

spell:Resist Acid:15:7:41:12:0
effect:TIMED_INC:OPP_ACID
dice:$B+1d$S
expr:B:PLAYER_SPELL_POWER:* 10
expr:S:PLAYER_SPELL_POWER:* 10
desc:Grants you temporary resistance to acid.

spell:Wall Creation:22:10:53:18:0
effect:CREATE_WALLS
dice:$B
expr:B:PLAYER_SPELL_POWER:* 3 / 2
desc:Creates some walls around the player.

spell:Acid Ball:28:13:63:23:0
effect:BALL:ACID:2
dice:$B
expr:B:BALL_ELEMENT:+ 30
msg_other: fires an acid ball.
desc:Shoots an acid ball.

spell:Stoneskin:32:14:69:26:0
effect:TIMED_INC:SHIELD
dice:$B+1d$S
expr:B:PLAYER_SPELL_POWER:* 10
expr:S:PLAYER_SPELL_POWER:* 10
desc:Grants you temporary +50 to AC.

spell:Explosion:38:17:79:31:0
effect:BALL:SHARD:3
dice:$B
expr:B:BLAST_ELEMENT:+ 10
msg_other: fires an exploding missile.
desc:Shoots a shards ball.

spell:Wall of Force:46:27:80:38:0
effect:BALL:FORCE:3
dice:$B
expr:B:BLAST_ELEMENT:+ 200
msg_other: fires a force ball.
desc:Shoots a force ball.

book:elemental book:town:[Water]:8:elemental
book-graphics:?:x
book-properties:5:30:100
book-alloc:25:5 to 100
book-desc:A standard spellbook with a few spells.

spell:Freezing Aura:2:1:19:4:0
effect:TIMED_INC:ICY_AURA
dice:$B+1d$S
expr:B:PLAYER_SPELL_POWER:* 5
expr:S:PLAYER_SPELL_POWER:* 5
desc:Surrounds you with an icy aura that chills monsters dumb enough to hit you.

spell:Frost Bolt:7:3:27:5:0
effect:BOLT_OR_BEAM:COLD
dice:$Dd$S
expr:D:PLAYER_LEVEL:- 5 / 4 + 5
expr:S:PLAYER_SPELL_POWER:+ 6
msg_other: fires a frost bolt.
desc:Fires a frost bolt that always hits its target.
desc: Sometimes a beam is fired instead that hurts each monster
desc: in its path.
desc: The chance to get a beam goes up with your character level.

spell:Resist Cold:16:7:43:13:0
effect:TIMED_INC:OPP_COLD
dice:$B+1d$S
expr:B:PLAYER_SPELL_POWER:* 10
expr:S:PLAYER_SPELL_POWER:* 10
desc:Grants you temporary resistance to cold.

spell:Potion of Vitality:20:9:49:16:0
effect:SET_NOURISH
dice:$B
expr:B:FOOD_MAX:- 1
effect:TIMED_INC:BOLD
dice:$B+1d$S
expr:B:PLAYER_SPELL_POWER:* 10
expr:S:PLAYER_SPELL_POWER:* 10
effect:CURE:AFRAID
effect:HEAL_HP
dice:10
effect:TIMED_INC:HERO
dice:$B+1d$S
expr:B:PLAYER_SPELL_POWER:* 10
expr:S:PLAYER_SPELL_POWER:* 10
desc:Conjures a magical brew that feeds you, cures 10 points of damage,
desc: removes fear and grants you temporary heroism (resistance to fear
desc: and a bonus of +12 to-hit).

spell:Frost Ball:25:11:57:20:0
effect:BALL:COLD:2
dice:$B
expr:B:BALL_ELEMENT:+ 15
msg_other: fires a frost ball.
desc:Shoots a frost ball.

spell:Ice Storm:34:15:73:28:0
effect:BALL:ICE:3
dice:$B
expr:B:BLAST_ELEMENT:+ 0
msg_other: invokes an ice storm.
desc:Shoots an ice ball.

spell:Tidal Wave:39:18:81:32:0
effect:BALL:WATER:3
dice:$B
expr:B:BLAST_ELEMENT:+ 175
msg_other: invokes a tidal wave.
desc:Shoots a water ball.

spell:Maelstrom:45:25:81:37:0
effect:STAR:COLD
dice:$Dd$S&m8
expr:D:PLAYER_LEVEL:- 5 / 4 + 5
expr:S:PLAYER_SPELL_POWER:+ 6
effect:BLAST:WATER:3
dice:$B
expr:B:BLAST_ELEMENT:+ 275
msg_other: invokes a maelstrom!
desc:Creates a water blast around you that shoots frost beams in each of
desc: the eight directions starting from your character.

book:elemental book:town:[Elemental]:8:elemental
book-graphics:?:x
book-properties:10:30:400
book-alloc:10:10 to 100
book-desc:A standard spellbook with a few spells.

spell:Elemental Power:5:3:25:4:0
effect:TIMED_INC:EPOWER
dice:20+1d20&m$M
expr:M:PLAYER_SPELL_POWER:* 5
desc:Calls the power of the elements to boost the effectiveness
desc: of all other spells for 20+1d20 turns.

spell:Elemental Bolt:11:6:35:9:0
effect:BOLT_OR_BEAM:ACID:0:-10
dice:$Dd$S
expr:D:PLAYER_LEVEL:- 5 / 4 + 4
expr:S:PLAYER_SPELL_POWER:/ 2 + 6
effect:BOLT_OR_BEAM:FIRE:0:-10
dice:$Dd$S
expr:D:PLAYER_LEVEL:- 5 / 4 + 4
expr:S:PLAYER_SPELL_POWER:/ 2 + 6
effect:BOLT_OR_BEAM:COLD:0:-10
dice:$Dd$S
expr:D:PLAYER_LEVEL:- 5 / 4 + 4
expr:S:PLAYER_SPELL_POWER:/ 2 + 6
effect:END_INFO
effect:BOLT_OR_BEAM:ELEC:0:-10
dice:$Dd$S&m4
expr:D:PLAYER_LEVEL:- 5 / 4 + 4
expr:S:PLAYER_SPELL_POWER:/ 2 + 6
msg_other: fires an elemental bolt.
desc:Fires an elemental bolt that always hits its target.
desc: Sometimes a beam is fired instead that hurts each monster
desc: in its path.
desc: The chance to get a beam goes up with your character level.

spell:Minor Havoc:17:8:45:14:0
effect:EARTHQUAKE
dice:$B
expr:B:PLAYER_SPELL_POWER:/ 2 + 5
desc:Causes a minor elemental disturbance around you.
desc: This may damage monsters and destroy items in some
desc: squares in the area of effect.
desc: Artifacts will not be destroyed by this spell.
desc: This spell has no effect when used in the town.

spell:Resistance:23:11:55:19:0
effect:TIMED_INC:OPP_POIS
dice:$B+1d$S
expr:B:PLAYER_SPELL_POWER:* 5
expr:S:PLAYER_SPELL_POWER:* 5
effect:TIMED_INC:OPP_COLD
dice:$B+1d$S
expr:B:PLAYER_SPELL_POWER:* 5
expr:S:PLAYER_SPELL_POWER:* 5
effect:TIMED_INC:OPP_FIRE
dice:$B+1d$S
expr:B:PLAYER_SPELL_POWER:* 5
expr:S:PLAYER_SPELL_POWER:* 5
effect:TIMED_INC:OPP_ELEC
dice:$B+1d$S
expr:B:PLAYER_SPELL_POWER:* 5
expr:S:PLAYER_SPELL_POWER:* 5
effect:END_INFO
effect:TIMED_INC:OPP_ACID
dice:$B+1d$S
expr:B:PLAYER_SPELL_POWER:* 5
expr:S:PLAYER_SPELL_POWER:* 5
desc:Grants you temporary resistance to acid, cold, fire, lightning and poison.

spell:Elemental Ball:29:14:65:24:0
effect:BALL:ACID:2
dice:$B
expr:B:XBALL_ELEMENT:+ 10
effect:BALL:FIRE:2
dice:$B
expr:B:XBALL_ELEMENT:+ 10
effect:BALL:COLD:2
dice:$B
expr:B:XBALL_ELEMENT:+ 10
effect:END_INFO
effect:BALL:ELEC:2
dice:$B+m4
expr:B:XBALL_ELEMENT:+ 10
msg_other: fires an elemental ball.
desc:Shoots an elemental ball.

spell:Elemental Brand:35:16:75:29:0
effect:ELEM_BRAND
dice:$B
expr:B:PLAYER_SPELL_POWER:/ 2 + 1
desc:Brands the currently wielded melee weapon with some elements and attempts
desc: to improve the to-hit and to-dam bonuses of that weapon.
desc: The spell has no effect if the weapon is an artifact, an ego item
desc: or a worthless item.

spell:Major Havoc:40:20:83:33:0
effect:DESTRUCTION:LIGHT
dice:$B
expr:B:PLAYER_SPELL_POWER:+ 10
desc:Causes a major elemental disturbance around you.
desc: All monsters, objects and terrain features in the area of
desc: effect are destroyed, except stairs and permanent walls.
desc: You will also be blinded for 10+1d10 turns, unless you
desc: have resistance to blindness or light.
desc: This spell has no effect when used in the town.

spell:Elemental Storm:41:21:85:34:0
effect:STAR:ACID
dice:$Dd$S
expr:D:PLAYER_LEVEL:- 5 / 4 + 4
expr:S:PLAYER_SPELL_POWER:/ 2 + 6
effect:BLAST:ACID:3
dice:$B
expr:B:XBLAST_ELEMENT:+ 200
effect:STAR:FIRE
dice:$Dd$S
expr:D:PLAYER_LEVEL:- 5 / 4 + 4
expr:S:PLAYER_SPELL_POWER:/ 2 + 6
effect:BLAST:FIRE:3
dice:$B
expr:B:XBLAST_ELEMENT:+ 200
effect:STAR:COLD
dice:$Dd$S
expr:D:PLAYER_LEVEL:- 5 / 4 + 4
expr:S:PLAYER_SPELL_POWER:/ 2 + 6
effect:BLAST:COLD:3
dice:$B
expr:B:XBLAST_ELEMENT:+ 200
effect:END_INFO
effect:STAR:ELEC
dice:$Dd$S&m8
expr:D:PLAYER_LEVEL:- 5 / 4 + 4
expr:S:PLAYER_SPELL_POWER:/ 2 + 6
effect:BLAST:ELEC:3
dice:$B
expr:B:XBLAST_ELEMENT:+ 200
msg_other: invokes an elemental storm.
desc:Creates an elemental ball around you that shoots elemental beams in each of
desc: the eight directions starting from your character.


############### SUMMONER ###############
name:Summoner
color:t
skill-disarm-phys:20:6
skill-disarm-magic:20:6
skill-device:36:13
skill-save:30:9
skill-stealth:2:0
skill-search:10:14
skill-melee:34:15
skill-shoot:20:15
skill-dig:0:0
hitdie:0
max-attacks:1
min-weight:40
strength-multiplier:2
equip:food:Ration of Food:1:3:1
equip:light:Wooden Torch:1:3:1
equip:hafted:Quarterstaff:1:1:1
equip:scroll:Summon Monster:10:10:1
equip:scroll:Word of Recall:1:1:0
value:1:STR[-5]
value:1:INT[-5]
value:1:WIS[5]
value:1:DEX[-5]
value:1:CON[-5]
player-flags:BLESS_WEAPON | ZERO_FAIL | CHOOSE_SPELLS | SUMMON_SPELLS
title:Novice
title:Apprentice
title:Evoker
title:Spiritualist
title:Conjurer
title:Spiritwalker
title:Summoner
title:Controller
title:Master
title:Summoner Lord

magic:1:300:5

book:prayer book:town:[Beginners Handbook]:5:divine
equip:prayer book:[Beginners Handbook]:1:1:1

spell:Summon Monster:1:1:22:4:0
effect:SUMMON:MONSTER:0:100
dice:1
msg_other: summons a monster.
desc:Attempts to summon one monster generated at the current dungeon level.
desc: This spell has no effect when used in the town.

spell:Detect Evil:2:1:23:4:0
effect:DETECT_EVIL
effect-yx:22:40
desc:Detects all evil monsters in the immediate area,
desc: for one turn only.

spell:Call Light:4:2:26:4:0
effect:BLAST:LIGHT_WEAK:1:10
dice:2d$S
expr:S:PLAYER_LEVEL:/ 2
effect:LIGHT_AREA
msg_other: calls light.
desc:Lights up all squares in a level-dependent area and hurts
desc: all light-sensitive monsters in the area of effect.
desc: If you are in a room, the entire room will be lit up as well.

spell:Minor Healing:5:3:27:4:1
effect:TIMED_DEC:STUN
dice:20
effect:TIMED_DEC:CUT
dice:20
effect:HEAL_HP
dice:$B+m$M
expr:B:PLAYER_LEVEL:+ 10
expr:M:PLAYER_LEVEL:/ 3 + 12
desc:Cures a level-dependent percentage of your wounds and heals 20 points worth
desc: of cuts and stunning.

spell:Portal:7:5:30:5:0
effect:TELEPORT
dice:$B
expr:B:PLAYER_LEVEL:* 3
msg_other: blinks away.
desc:Teleports you randomly over a short distance.

book:prayer book:town:[Words of Wisdom]:5:divine

spell:Farsight:10:7:35:5:0
effect:TIMED_INC:ZFARSIGHT
dice:$B+1d20&m$M
expr:B:PLAYER_LEVEL:+ 0
expr:M:PLAYER_LEVEL:/ 4
desc:Increases your infravision for a level-dependent duration.

spell:Sense Invisible:13:10:40:6:0
effect:TIMED_INC:SINVIS
dice:24+1d24
desc:Enables you to see invisible monsters for 24+1d24 turns.

spell:Charm:16:15:48:8:0
effect:PROJECT_LOS_AWARE:CONTROL
dice:1+1d2
msg_other: makes an hypnotic move.
desc:Attempts to pacify any monster within line of sight that has been summoned
desc: by a player. Uniques are not affected.

spell:Summon Jelly:18:6:54:20:0
effect:SUMMON:JELLY:0:100
dice:1
msg_other: summons a jelly.
desc:Attempts to summon one jelly generated at the current dungeon level.
desc: This spell has no effect when used in the town.

spell:Nature's Touch:20:16:60:10:1
effect:CURE:CUT
effect:CURE:STUN
effect:CURE:POISONED
effect:CURE:AMNESIA
effect:HEAL_HP
dice:$B
expr:B:PLAYER_LEVEL:* 6
desc:Cures up to 300 points of damage, cures all stunning, heals all
desc: cut damage, neutralizes poison, and cures amnesia.

book:prayer book:town:[Chants and Blessings]:5:divine

spell:Regeneration:22:20:66:12:0
effect:TIMED_INC:REGEN
dice:20+1d20
desc:Greatly increases your regeneration rate for 20+1d20 turns.
desc: The effect of this spell is cumulative with other means of regeneration.

spell:Summon Golem:24:8:60:24:0
effect:SUMMON:GOLEM:0:100
dice:1
msg_other: summons a golem.
desc:Attempts to summon one golem generated at the current dungeon level.
desc: This spell has no effect when used in the town.

spell:Thunderstorm:25:10:65:25:0
effect:STAR:LIGHT:3
dice:$B
expr:B:PLAYER_LEVEL:+ 20
effect:STAR:SOUND:3
dice:$B
expr:B:PLAYER_LEVEL:+ 20
effect:END_INFO
effect:STAR:ELEC:3
dice:$B
expr:B:PLAYER_LEVEL:+ 20
msg_other: invokes a thunderstorm!
desc:Shoots thunder beams in each of the eight directions starting from your
desc: character. Each beam will do 1/3 damage from lightning, 1/3 damage from
desc: sound and 1/3 damage from light.

spell:Summon Vortex:28:10:64:28:0
effect:SUMMON:VORTEX:0:100
dice:1
msg_other: summons a vortex.
desc:Attempts to summon one vortex generated at the current dungeon level.
desc: This spell has no effect when used in the town.

spell:Recovery:30:70:80:15:1
effect:RESTORE_EXP
effect:RESTORE_STAT:CON
effect:RESTORE_STAT:DEX
effect:RESTORE_STAT:WIS
effect:RESTORE_STAT:INT
effect:RESTORE_STAT:STR
desc:Restores experience points and all stats to maximum if they are currently
desc: below maximum.

book:prayer book:dungeon:[Exorcism and Dispelling]:4:divine

spell:Detonate:30:20:70:60:0
effect:DETONATE
desc:Makes all your summoned jellies within line of sight explode with a slowing
desc: effect, and all your summoned vortices within line of sight explode with a
desc: ball effect.

spell:Summon Hydra:32:12:68:32:0
effect:SUMMON:HYDRA:0:100
dice:1
msg_other: summons a hydra.
desc:Attempts to summon one hydra generated at the current dungeon level.
desc: This spell has no effect when used in the town.

spell:Summon Control:35:35:72:36:0
effect:PROJECT_LOS_AWARE:CONTROL
dice:4
msg_other: screams a raging order.
desc:Attempts to control the will of each summoned monster within line of sight
desc: and order them to attack other monsters. Uniques are not affected.

spell:Resilience:38:40:76:40:0
effect:RESILIENCE
desc:Increases the lifespan of all controlled monsters.

book:prayer book:dungeon:[Wrath of the Valar]:4:divine

spell:Banishment:40:45:80:80:0
effect:BANISH
desc:Removes all monsters represented by a chosen symbol from the level.
desc: Uniques are not affected.
desc: You take 1d4 points of damage for every monster removed.

spell:Elemental Harmony:42:42:72:20:0
effect:TIMED_INC:HARMONY
dice:10+1d10
desc:Attunes you to nature, increasing your defensive abilities for 10+1d10
desc: turns.
desc: At a first stage, blesses you, giving a bonus of +5 to AC and +10 to-hit.
desc: At a second stage, increases strength, dexterity and constitution.
desc: At a third stage, shields you, granting +50 to AC.
desc: At a fourth stage, grants you resistance to acid, cold, fire, lightning
desc: and poison.
desc: At a fifth and last stage, hastes you (+10 to speed).

spell:Mass Banishment:45:75:70:90:0
effect:MASS_BANISH
desc:Removes all monsters within 20 squares of you.
desc: Uniques are not affected.
desc: You take 1d3 points of damage for every monster removed.

spell:Suppress Summoning:50:30:75:70:0
effect:TIMED_INC:ANTISUMMON
dice:$B+1d20
expr:B:PLAYER_LEVEL:+ 0
desc:Prevents summoning around you for a level-dependent duration.


############### SHAPECHANGER ###############
name:Shapechanger
color:M
skill-disarm-phys:36:10
skill-disarm-magic:34:8
skill-device:35:10
skill-save:28:10
skill-stealth:1:0
skill-search:10:12
skill-melee:60:40
skill-shoot:66:30
skill-dig:0:0
hitdie:5
max-attacks:5
min-weight:35
strength-multiplier:4
equip:food:Ration of Food:1:3:1
equip:light:Wooden Torch:1:3:1
equip:potion:Berserk Strength:1:1:0
equip:sword:Dagger:1:1:1
equip:soft armour:Soft Leather Armour:1:1:0
equip:scroll:Word of Recall:1:1:0
value:1:STR[1]
value:1:INT[-1]
value:1:WIS[-1]
value:1:DEX[1]
value:1:CON[1]
player-flags:MONSTER_SPELLS | SHAPECHANGE
title:Pretender
title:Modifier
title:Copier
title:Multiple
title:Shapeshifter
title:Metamorph
title:Changer
title:Mast. Changer
title:Gdm. Changer
title:Ult. Changer

magic:0:400:1

# Hack -- mimic realm spells
# Spells are all put in one book, and they use RSF_XXX flags as effect flag
book:mimic realm:xxx:xxx:65:mimic

spell:Shriek:0:1:1:0:0
effect:PROJECT_LOS:MON_SPEED
dice:25
effect:WAKE
flag:SHRIEK
msg_self:You make a high-pitched shriek.
msg_other: makes a high-pitched shriek.
desc:Awakens all nearby sleeping monsters and hastens all monsters within line
desc: of sight (#%d).

spell:Seeker Arrow:0:0:8:0:0
effect:BOLT:ARROW_X
flag:ARROW_X
dice:9d6
msg_other: fires a seeker arrow.
desc:Fires a seeker arrow that always hits its target (#%d).

spell:Shot:0:0:1:0:0
effect:BOLT:ARROW_1
flag:ARROW_1
dice:1d6
msg_other: fires a shot.
desc:Fires a shot that always hits its target (#%d).

spell:Arrow:0:0:3:0:0
effect:BOLT:ARROW_2
flag:ARROW_2
dice:3d6
msg_other: fires an arrow.
desc:Fires an arrow that always hits its target (#%d).

spell:Bolt:0:0:5:0:0
effect:BOLT:ARROW_3
flag:ARROW_3
dice:5d6
msg_other: fires a bolt.
desc:Fires a bolt that always hits its target (#%d).

spell:Missile:0:0:6:0:0
effect:BOLT:ARROW_4
flag:ARROW_4
dice:7d6
msg_other: fires a missile.
desc:Fires a missile that always hits its target (#%d).

spell:Boulder:0:0:14:0:0
effect:BOLT:BOULDER
flag:BOULDER
dice:$Dd12
expr:D:PLAYER_LEVEL:/ 7 + 1
msg_other: hurls a boulder.
desc:Fires a boulder that always hits its target (#%d).

spell:Acid Ball:0:17:24:0:0
effect:BALL:ACID:2
flag:BA_ACID
dice:15+1d$S
expr:S:PLAYER_LEVEL:* 3
msg_other: fires an acid ball.
desc:Shoots a radius-2 or radius-3 acid ball (#%d).

spell:Lightning Ball:0:9:12:0:0
effect:BALL:ELEC:2
flag:BA_ELEC
dice:8+1d$S
expr:S:PLAYER_LEVEL:* 3 / 2
msg_other: fires a lightning ball.
desc:Shoots a radius-2 or radius-3 lightning ball (#%d).

spell:Fire Ball:0:19:27:0:0
effect:BALL:FIRE:2
flag:BA_FIRE
dice:10+1d$S
expr:S:PLAYER_LEVEL:* 7 / 2
msg_other: fires a fire ball.
desc:Shoots a radius-2 or radius-3 fire ball (#%d).

spell:Frost Ball:0:9:13:0:0
effect:BALL:COLD:2
flag:BA_COLD
dice:10+1d$S
expr:S:PLAYER_LEVEL:* 3 / 2
msg_other: fires a frost ball.
desc:Shoots a radius-2 or radius-3 frost ball (#%d).

spell:Stinking Cloud:0:3:4:0:0
effect:BALL:POIS:2
flag:BA_POIS
dice:12d2
msg_other: fires a stinking cloud.
desc:Shoots a radius-2 or radius-3 poison ball (#%d).

spell:Nether Ball:0:20:29:0:0
effect:BALL:NETHER:2
flag:BA_NETH
dice:$B+10d10
expr:B:PLAYER_LEVEL:+ 50
msg_other: fires a nether ball.
desc:Shoots a radius-2 or radius-3 nether ball (#%d).

spell:Water Ball:0:18:25:0:0
effect:BALL:WATER:2
flag:BA_WATE
dice:50+1d$S
expr:S:PLAYER_LEVEL:* 5 / 2
msg_other: fires a water ball.
desc:Shoots a radius-2 or radius-3 water ball (#%d).

spell:Mana Storm:0:35:50:0:0
effect:BALL:MANA:2
flag:BA_MANA
dice:$B+10d10
expr:B:PLAYER_LEVEL:* 5
msg_other: invokes a mana storm.
desc:Shoots a radius-2 or radius-3 mana ball (#%d).

spell:Darkness Storm:0:35:50:0:0
effect:BALL:DARK:2
flag:BA_DARK
dice:$B+10d10
expr:B:PLAYER_LEVEL:* 5
msg_other: invokes a darkness storm.
desc:Shoots a radius-2 or radius-3 darkness ball (#%d).

spell:Drain Mana:0:3:6:0:0
effect:BOLT_AWARE:DRAIN_MANA
flag:DRAIN_MANA
dice:$B
expr:B:PLAYER_LEVEL:+ 0
msg_other: drains mana away.
desc:Drains mana from its target and cures an amount of damage points
desc: equal to 6 times the amount of mana drained (#%d).

spell:Mind Blast:0:7:10:0:0
effect:BOLT:BLAST
flag:MIND_BLAST
dice:8d8
msg_other: hurls a mind blast.
desc:Fires a mental blast that will damage minded creatures. This also has
desc: a chance to confuse the target (#%d).

spell:Brain Smash:0:18:26:0:0
effect:BOLT:SMASH
flag:BRAIN_SMASH
dice:12d15
msg_other: hurls a powerful mind blast.
desc:Fires a powerful mental blast that will damage minded creatures. This also
desc: has a chance to blind, confuse, put to sleep or slow the target (#%d).

spell:Cause Light Wounds:0:3:4:0:0
effect:BOLT:CURSE
flag:CAUSE_1
dice:3d8
msg_other: curses.
desc:Cause 3d8 points of damage to its target (#%d).

spell:Cause Serious Wounds:0:7:10:0:0
effect:BOLT:CURSE
flag:CAUSE_2
dice:8d8
msg_other: curses horribly.
desc:Cause 8d8 points of damage to its target (#%d).

spell:Cause Critical Wounds:0:15:22:0:0
effect:BOLT:CURSE
flag:CAUSE_3
dice:10d15
msg_other: incants terribly.
desc:Cause 10d15 points of damage to its target (#%d).

spell:Cause Mortal Wounds:0:23:33:0:0
effect:BOLT:CURSE2
flag:CAUSE_4
dice:15d15
msg_other: screams the word 'DIE!'
desc:Cause 15d15 points of damage to its target. This also has a chance
desc: to cause open wounds (#%d).

spell:Acid Bolt:0:8:11:0:0
effect:BOLT:ACID
flag:BO_ACID
dice:$B+7d8
expr:B:PLAYER_LEVEL:/ 3
msg_other: fires an acid bolt.
desc:Fires an acid bolt that always hits its target (#%d).

spell:Lightning Bolt:0:5:7:0:0
effect:BOLT:ELEC
flag:BO_ELEC
dice:$B+4d8
expr:B:PLAYER_LEVEL:/ 3
msg_other: fires a lightning bolt.
desc:Fires a lightning bolt that always hits its target (#%d).

spell:Fire Bolt:0:9:13:0:0
effect:BOLT:FIRE
flag:BO_FIRE
dice:$B+9d8
expr:B:PLAYER_LEVEL:/ 3
msg_other: fires a fire bolt.
desc:Fires a fire bolt that always hits its target (#%d).

spell:Frost Bolt:0:7:10:0:0
effect:BOLT:COLD
flag:BO_COLD
dice:$B+6d8
expr:B:PLAYER_LEVEL:/ 3
msg_other: fires a frost bolt.
desc:Fires a frost bolt that always hits its target (#%d).

spell:Nether Bolt:0:13:19:0:0
effect:BOLT:NETHER
flag:BO_NETH
dice:$B+5d5
expr:B:PLAYER_LEVEL:* 3 / 2 + 30
msg_other: fires a nether bolt.
desc:Fires a nether bolt that always hits its target (#%d).

spell:Water Bolt:0:15:22:0:0
effect:BOLT:WATER
flag:BO_WATE
dice:$B+10d10
expr:B:PLAYER_LEVEL:+ 0
msg_other: fires a water bolt.
desc:Fires a water bolt that always hits its target (#%d).

spell:Mana Bolt:0:23:33:0:0
effect:BOLT:MANA
flag:BO_MANA
dice:50+1d$S
expr:S:PLAYER_LEVEL:* 7 / 2
msg_other: fires a mana bolt.
desc:Fires a mana bolt that always hits its target (#%d).

spell:Plasma Bolt:0:12:17:0:0
effect:BOLT:PLASMA
flag:BO_PLAS
dice:$B+8d7
expr:B:PLAYER_LEVEL:+ 10
msg_other: fires a plasma bolt.
desc:Fires a plasma bolt that always hits its target (#%d).

spell:Ice Bolt:0:9:13:0:0
effect:BOLT:ICE
flag:BO_ICEE
dice:$B+6d6
expr:B:PLAYER_LEVEL:+ 0
msg_other: fires an ice bolt.
desc:Fires an ice bolt that always hits its target (#%d).

spell:Magic Missile:0:3:4:0:0
effect:BOLT:MISSILE
flag:MISSILE
dice:$B+2d6
expr:B:PLAYER_LEVEL:/ 3
msg_other: fires a magic missile.
desc:Fires a magic missile that always hits its target (#%d).

spell:Scare:0:5:10:0:0
effect:BOLT_AWARE:TURN_ALL
flag:SCARE
dice:$B
expr:B:PLAYER_LEVEL:+ 0
msg_other: conjures up scary horrors.
desc:Attempts to scare a single monster for a level-dependent duration (#%d).

spell:Blind:0:4:8:0:0
effect:BOLT_AWARE:MON_BLIND
flag:BLIND
dice:5+1d5
msg_other: sets off a blinding flash.
desc:Attempts to blind a single monster (#%d).

spell:Confuse:0:4:8:0:0
effect:BOLT_AWARE:MON_CONF
flag:CONF
dice:5+1d5
msg_other: makes a complicated gesture.
desc:Attempts to confuse a single monster (#%d).

spell:Slow:0:9:18:0:0
effect:BOLT_AWARE:MON_SLOW
flag:SLOW
dice:20
msg_other: makes a lengthy gesture.
desc:Attempts to slow down a single monster (#%d).

spell:Hold:0:5:10:0:0
effect:BOLT_AWARE:MON_HOLD
flag:HOLD
dice:3+1d5
msg_other: gestures and mumbles calmly.
desc:Attempts to hold single monster (#%d).

spell:Haste:0:14:28:0:0
effect:TIMED_INC:FAST:0:5
flag:HASTE
dice:$B+1d20
expr:B:PLAYER_LEVEL:+ 0
msg_other: starts moving faster.
desc:Hastes you (+10 to speed) for a level-dependent duration (#%d).

spell:Heal:0:16:32:0:0
effect:CURE:CUT
effect:CURE:POISONED
effect:CURE:AFRAID
effect:HEAL_HP
flag:HEAL
dice:$B
expr:B:PLAYER_LEVEL:* 6
msg_other: concentrates on %s wounds.
desc:Cures a level-dependent amount of damage points, removes fear,
desc: neutralizes poison and heals all cut damage (#%d).

spell:Blink:0:2:4:0:0
effect:TELEPORT
flag:BLINK
dice:10
msg_other: blinks away.
desc:Teleports you randomly up to 10 squares away (#%d).

spell:Teleport:0:6:12:0:0
effect:TELEPORT
flag:TPORT
dice:$B
expr:B:MAX_SIGHT:* 2 + 5
msg_other: teleports away.
desc:Teleports you randomly within the current level (#%d).

spell:Teleport To:0:12:24:0:0
effect:BOLT_AWARE:TELE_TO
flag:TELE_TO
msg_other: commands %s target to come hither.
desc:Teleports its target next to you (#%d).

spell:Teleport Away:0:12:24:0:0
effect:BOLT_STATUS:AWAY_ALL:1
flag:TELE_AWAY
dice:$B
expr:B:MAX_SIGHT:* 5
msg_other: makes a rush gesture.
desc:Produces a bolt that teleports the first monster in its path
desc: up to 100 squares away. (#%d).

spell:Teleport Level:0:18:36:0:0
effect:BOLT_AWARE:TELE_LEVEL
flag:TELE_LEVEL
msg_other: commands %s target to go far away.
desc:Teleports its target 1 level up or 1 level down (chosen at random) (#%d).

spell:Darkness:0:3:6:0:0
effect:DARKEN_AREA
flag:DARKNESS
effect:BLAST:DARK_WEAK:3
dice:10
msg_other: gestures in shadow.
desc:Darkens a radius-{3} area (plus the entire room if you are currently in
desc: one) (#%d).

spell:Traps:0:10:20:0:0
effect:BALL_OBVIOUS:MAKE_TRAP:3:-1
flag:TRAPS
msg_other: casts a spell and cackles evilly.
desc:A trap is created on empty floor space that is directly adjacent
desc: to the target. This spell has no effect when used in the town (#%d).

spell:Forget:0:8:16:0:0
effect:BOLT_AWARE:FORGET
flag:FORGET
dice:5+1d5
msg_other: tries to make %s target forget things.
desc:Attempts to cause amnesia to a single monster for a level-dependent
desc: duration (#%d).

spell:Anime Dead:0:7:14:0:0
effect:BLAST_OBVIOUS:RAISE:1:10
flag:ANIM_DEAD
msg_other: mumbles coldly.
desc:This power makes humanoid corpses and skeletons in a small radius
desc: around the caster rise as undead monsters (#%d).

spell:Summon Kin:0:35:47:0:0
effect:SUMMON:KIN:0:10
flag:S_KIN
dice:8
msg_other: magically summons %s kin.
desc:Attempts to summon up to eight similar monsters generated at the current
desc: dungeon level.
desc: This spell has no effect when used in the town (#%d).

spell:Summon Monster:0:20:40:0:0
effect:SUMMON:MONSTER:0:10
flag:S_MONSTER
dice:1
msg_other: magically summons a monster!
desc:Attempts to summon one monster generated at the current dungeon level.
desc: This spell has no effect when used in the town (#%d).

spell:Summon Monsters:0:35:47:0:0
effect:SUMMON:MONSTERS:0:10
flag:S_MONSTERS
dice:8
msg_other: magically summons monsters!
desc:Attempts to summon up to eight monsters generated at the current dungeon
desc: level.
desc: This spell has no effect when used in the town (#%d).

spell:Summon Animals:0:30:45:0:0
effect:SUMMON:ANIMAL:0:10
flag:S_ANIMAL
dice:12
msg_other: magically summons animals.
desc:Attempts to summon up to twelve animals generated at the current dungeon
desc: level.
desc: This spell has no effect when used in the town (#%d).

spell:Summon Spiders:0:30:45:0:0
effect:SUMMON:SPIDER:0:10
flag:S_SPIDER
dice:12
msg_other: magically summons spiders.
desc:Attempts to summon up to twelve spiders generated at the current dungeon
desc: level.
desc: This spell has no effect when used in the town (#%d).

spell:Summon Hounds:0:35:47:0:0
effect:SUMMON:HOUND:0:10
flag:S_HOUND
dice:12
msg_other: magically summons hounds.
desc:Attempts to summon up to twelve hounds generated at the current dungeon
desc: level.
desc: This spell has no effect when used in the town (#%d).

spell:Summon Hydras:0:30:45:0:0
effect:SUMMON:HYDRA:0:10
flag:S_HYDRA
dice:6
msg_other: magically summons hydras.
desc:Attempts to summon up to six hydras generated at the current dungeon
desc: level.
desc: This spell has no effect when used in the town (#%d).

spell:Summon Ainu:0:25:42:0:0
effect:SUMMON:AINU:0:10
flag:S_AINU
dice:1
msg_other: magically summons an ainu!
desc:Attempts to summon one ainu generated at the current dungeon level.
desc: This spell has no effect when used in the town (#%d).

spell:Summon Demon:0:25:42:0:0
effect:SUMMON:DEMON:0:10
flag:S_DEMON
dice:1
msg_other: magically summons a demon!
desc:Attempts to summon one demon generated at the current dungeon level.
desc: This spell has no effect when used in the town (#%d).

spell:Summon Undead:0:25:42:0:0
effect:SUMMON:UNDEAD:0:10
flag:S_UNDEAD
dice:1
msg_other: magically summons an undead monster!
desc:Attempts to summon one undead monster generated at the current dungeon
desc: level.
desc: This spell has no effect when used in the town (#%d).

spell:Summon Dragon:0:25:42:0:0
effect:SUMMON:DRAGON:0:10
flag:S_DRAGON
dice:1
msg_other: magically summons a dragon!
desc:Attempts to summon one dragon generated at the current dungeon level.
desc: This spell has no effect when used in the town (#%d).

spell:Summon High Demons:0:40:50:0:0
effect:SUMMON:HI_DEMON:0:10
flag:S_HI_DEMON
dice:8
msg_other: magically summons greater demons!
desc:Attempts to summon up to eight greater demons generated at the current
desc: dungeon level.
desc: This spell has no effect when used in the town (#%d).

spell:Summon High Undead:0:40:50:0:0
effect:SUMMON:HI_UNDEAD:0:10
flag:S_HI_UNDEAD
dice:8
msg_other: magically summons greater undead!
desc:Attempts to summon up to eight greater undead monsters generated at the
desc: current dungeon level.
desc: This spell has no effect when used in the town (#%d).

spell:Summon High Dragons:0:40:50:0:0
effect:SUMMON:HI_DRAGON:0:10
flag:S_HI_DRAGON
dice:8
msg_other: magically summons ancient dragons!
desc:Attempts to summon up to eight ancient dragons generated at the current
desc: dungeon level.
desc: This spell has no effect when used in the town (#%d).

spell:Summon Wraiths:0:40:50:0:0
effect:SUMMON:WRAITH:0:10
flag:S_WRAITH
dice:8
msg_other: magically summons mighty undead monsters!
desc:Attempts to summon up to eight wraiths generated at the current dungeon
desc: level.
desc: This spell has no effect when used in the town (#%d).

spell:Summon Uniques:0:40:50:0:0
effect:SUMMON:UNIQUE
flag:S_UNIQUE
dice:8
msg_other: magically summons special opponents!
desc:Attempts to summon up to eight unique monsters generated at the current
desc: dungeon level.
desc: This spell has no effect when used in the town (#%d).


############### GHOST ###############
# Hack -- not a real class, used for ghost realm spells
name:Ghost

magic:0:0:1

book:ghost realm:xxx:xxx:8:ghost

spell:Blink:1:1:0:0:0
effect:TELEPORT
dice:10
msg_other: blinks away.
desc:Teleports you randomly up to 10 squares away.

spell:Terrify:10:2:0:0:0
effect:BOLT_AWARE:TURN_ALL
dice:$B
expr:B:PLAYER_LEVEL:+ 0
desc:Attempts to scare a single monster for a level-dependent duration.

spell:Confuse:15:3:0:0:0
effect:BOLT_AWARE:MON_CONF
dice:5+1d5
msg_other: makes a complicated gesture.
desc:Attempts to confuse a single monster.

spell:Teleport:20:5:0:0:0
effect:TELEPORT
dice:$B
expr:B:PLAYER_LEVEL:* 5
msg_other: teleports away.
desc:Teleports you randomly within the current level.

spell:Nether Bolt:25:10:0:0:0
effect:BOLT_OR_BEAM:NETHER
dice:$B+5d5
expr:B:PLAYER_LEVEL:+ 50
msg_other: fires a nether bolt.
desc:Fires a nether bolt that always hits its target. Sometimes a beam is fired
desc: instead that hurts each monster in its path. The chance to get a beam goes
desc: up with your character level.

spell:Disenchantment Bolt:30:20:0:0:0
effect:BOLT_OR_BEAM:DISEN
dice:$B+5d5
expr:B:PLAYER_LEVEL:+ 75
msg_other: fires a disenchantment bolt.
desc:Fires a disenchantment bolt that always hits its target. Sometimes a beam
desc: is fired instead that hurts each monster in its path. The chance to get a
desc: beam goes up with your character level.

spell:Nether Ball:35:60:0:0:0
effect:BALL:NETHER:2
dice:$B
expr:B:PLAYER_LEVEL:* 2 + 100
msg_other: fires a nether ball.
desc:Shoots a radius-2 nether ball.

spell:Darkness Storm:45:100:0:0:0
effect:BALL:DARK:3
dice:$B+10d10
expr:B:PLAYER_LEVEL:* 5
msg_other: invokes a darkness storm.
desc:Shoots a radius-3 darkness ball.