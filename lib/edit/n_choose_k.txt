# N choose k: Solve the "line discretization problem"
#
# What is the problem?
# In short, projectability and los need to be reflexive relations: If
# you can shoot me then I should be able to shoot you. Here is a simple
# case (2 choose 1):
# @*  the path is **  the reverse path is *   using old code.
#   P               *                      **
# Depending on wall placement, the path from @ to P might fail while
# the reverse path from P to @ might succeed. This is a 2 choose 1
# problem: There are 2 segments in the line, and 1 of these segments
# must be chosen to have length 2.
#
# What is the solution?
# Encode line discretization symmetrically. When this is not possible
# enumerate and test alternatives. For the problem above, we need to
# handle both the 10 choice and the 01 choice (ie choose first segment
# or choose second segment. There are now 2 valid forward paths:
# @*  The 10 choice is **  and the 01 choice is *
#   P                    *                       **
#
# For the reverse; 10 is *   while 01 is ** 
#                         **               *
#
# You will have symmetry issues any time N is even. The game engine will
# try all listed alternatives. cf _project and _path in dun_project.c.
#
N:1
k:1: 1

N:2
k:1: 01 | 10
k:2: 11
#Note that "01 | 10" optimizes a common case in _sweep's first raycast
#("10" always re-hits the cardinal wall) (cf dun_update_view for _VIEW_RAYCAST)

N:3
k:1: 010
k:2: 101
k:3: 111

N:4
k:1: 0100 | 0010
k:2: 0110
k:3: 1011 | 1101
k:4: 1111

N:5
k:1: 00100
k:2: 01010
k:3: 10101
k:4: 11011
k:5: 11111

N:6
k:1: 001 000 | 000 100
k:2: 010 010
k:3: 010 101 | 101 010
k:4: 101 101
k:5: 110 111 | 111 011
k:6: 111 111

N:7
k:1: 0001000
k:2: 0100010
k:3: 0101010
k:4: 1010101
k:5: 1011101
k:6: 1110111
k:7: 1111111

N:8
k:1: 0001 0000 | 0000 1000
k:2: 0100 0010
k:3: 0101 0010 | 0100 1010
k:4: 1010 1010 | 0101 0101
k:5: 1010 1101 | 1011 0101
k:6: 1011 1101
k:7: 1110 1111 | 1111 0111
k:8: 1111 1111

N:9
k:1: 000 010 000
k:2: 010 000 010 | 001 000 100
k:3: 010 010 010
k:4: 010 101 010
k:5: 101 010 101
k:6: 101 101 101
k:7: 101 111 101 | 110 111 011
k:8: 111 101 111
k:9: 111 111 111

N:10
k:1:  00001 00000 | 00000 10000
k:2:  00100 00100
k:3:  01001 00100 | 00100 10010
k:4:  01010 01010
k:5:  10101 01010 | 01010 10101
k:6:  10101 10101 
k:7:  10110 11011 | 11011 01101
k:8:  11011 11011
k:9:  11110 11111 | 11111 01111
k:10: 11111 11111

N:11
k:1:  00000 1 00000 
k:2:  00100 0 00100 | 00010 0 01000
k:3:  00100 1 00100
k:4:  01010 0 01010
k:5:  01010 1 01010
k:6:  10101 0 10101 
k:7:  10101 1 10101 
k:8:  11011 0 11011 
k:9:  11011 1 11011 | 11101 1 10111 
k:10: 11111 0 11111 
k:11: 11111 1 11111

N:12
k:1:  0000 1000 0000 | 0000 0100 0000
k:2:  0001 0000 1000
k:3:  0100 0100 0100 | 0010 0010 0010
k:4:  0100 1001 0010
k:5:  0101 0100 1010 | 0101 0010 1010
k:6:  1010 1010 1010 | 0101 0101 0101
k:7:  1010 1011 0101 | 1010 1101 0101 
k:8:  1011 0110 1101 
k:9:  1011 1011 1011 | 1101 1101 1101 
k:10: 1110 1111 0111 
k:11: 1111 0111 1111 | 1111 1011 1111
k:12: 1111 1111 1111

N:13
k:1:  00000 010 00000
k:2:  00010 000 01000 | 00001 000 10000
k:3:  00010 010 01000
k:4:  01001 000 10010
k:5:  01001 010 10010 
k:6:  01010 101 01010
k:7:  10101 010 10101
k:8:  10110 101 01101
k:9:  10110 111 01101
k:10: 11101 101 10111
k:11: 11101 111 10111 | 11110 111 01111
k:12: 11111 101 11111 
k:13: 11111 111 11111

N:14
k:1:  00000 0100 00000 | 00000 0010 00000
k:2:  00010 0000 01000 
k:3:  00100 0100 00100 | 00100 0010 00100
k:4:  01000 1001 00010 
k:5:  01010 0100 01010 | 01010 0010 01010
k:6:  01010 1001 01010
k:7:  10101 0100 10101 | 10101 0010 10101
k:8:  10101 0110 10101 
k:9:  10101 1011 10101 | 10101 1101 10101
k:10: 10111 0110 11101 
k:11: 11011 1011 11011 | 11011 1101 11011
k:12: 11101 1111 10111 
k:13: 11111 1011 11111 | 11111 1101 11111
k:14: 11111 1111 11111

N:15
k:1:  00000 00100 00000
k:2:  00100 00000 00100
k:3:  00100 00100 00100
k:4:  00100 01010 00100
k:5:  01010 00100 01010
k:6:  01010 01010 01010
k:7:  01010 10101 01010
k:8:  10101 01010 10101
k:9:  10101 10101 10101
k:10: 10101 11011 10101
k:11: 11011 10101 11011
k:12: 11011 11011 11011
k:13: 11011 11111 11011
k:14: 11111 11011 11111
k:15: 11111 11111 11111

N:16
k:1:  00000 001000 00000 | 00000 000100 00000
k:2:  00100 000000 00100
k:3:  00100 001000 00100 | 00100 000100 00100
k:4:  00100 010010 00100
k:5:  01010 001000 01010 | 01010 000100 01010
k:6:  01010 010010 01010
k:7:  01010 100101 01010 | 01010 101001 01010
k:8:  10101 010010 10101 | 01010 101101 01010
k:9:  10101 011010 10101 | 10101 010110 10101
k:10: 10101 101101 10101
k:11: 10101 110111 10101 | 10101 111011 10101
k:12: 11011 101101 11011
k:13: 11011 110111 11011 | 11011 111011 11011
k:14: 11011 111111 11011
k:15: 11111 110111 11111 | 11111 111011 11111
k:16: 11111 111111 11111

N:17
k:1:  00000 0001000 00000
k:2:  00100 0000000 00100
k:3:  00100 0001000 00100
k:4:  00100 0100010 00100
k:5:  00100 1001001 00100
k:6:  00100 1010101 00100
k:7:  01010 0101010 01010
k:8:  01010 1010101 01010
k:9:  10101 0101010 10101
k:10: 10101 1010101 10101
k:11: 11011 0101010 11011
k:12: 11011 0110110 11011
k:13: 11011 1011101 11011
k:14: 11011 1110111 11011
k:15: 11011 1111111 11011
k:16: 11111 1110111 11111
k:17: 11111 1111111 11111

N:18
k:1:  00000 00010000 00000 | 00000 00001000 00000
k:2:  00000 10000001 00000
k:3:  00001 00001000 01000 | 00010 00010000 10000
k:4:  00010 00100100 01000
k:5:  00100 10010001 00100 | 00100 10001001 00100
k:6:  010010010 010010010
k:7:  01001 01010010 10010 | 01001 01001010 10010
k:8:  010101010 010101010
k:9:  01010101 01 10101010 | 01010101 10 10101010 | 10101010 10 01010101 | 10101010 01 01010101
k:10: 101010101 101010101
k:11: 10110 10101101 01101 | 10110 10110101 01101
k:12: 101101101 101101101
k:13: 11011 01101110 11011 | 11011 01110110 11011
k:14: 11101 11011011 10111
k:15: 11110 11110111 10111 | 11101 11101111 01111
k:16: 11111 01111110 11111
k:17: 11111 11101111 11111 | 11111 11110111 11111
k:18: 11111 11111111 11111

N:19
k:1:  00000000 010 00000000
k:2:  00000010 000 01000000 | 00000100 000 00100000
k:3:  00001000 010 00010000
k:4:  00010001 000 10001000
k:5:  00100100 010 00100100
k:6:  01001001 000 10010010
k:7:  10010010 010 01001001
k:8:  01010010 101 01001010
k:9:  10101010 010 01010101
k:10: 01010101 101 10101010
k:11: 10101101 010 10110101
k:12: 01101101 101 10110110
k:13: 10110110 111 01101101
k:14: 11011011 101 11011011
k:15: 11101110 111 01110111
k:16: 11110111 101 11101111
k:17: 11111101 111 10111111 | 11111011 111 11011111
k:18: 11111111 101 11111111
k:19: 11111111 111 11111111

N:20
k:1:  00000 00001 00000 00000 | 00000 00000 10000 00000
k:2:  00000 01000 00010 00000
k:3:  00001 00001 00000 10000 | 00001 00000 10000 10000
k:4:  00010 00100 00100 01000
k:5:  00100 01001 00010 00100 | 00100 01000 10010 00100
k:6:  01000 10001 10001 00010
k:7:  10010 01001 00010 01001 | 10010 01000 10010 01001
k:8:  01010 01010 01010 01010
k:9:  01010 10101 00101 01010 | 01010 10100 10101 01010
k:10: 10101 01010 10101 01010 | 01010 10101 01010 10101
k:11: 10101 01010 11010 10101 | 10101 01011 01010 10101
k:12: 10101 10101 10101 10101
k:13: 01101 10110 11101 10110 | 01101 10111 01101 10110
k:14: 10111 01110 01110 11101
k:15: 11011 10110 11101 11011 | 11011 10111 01101 11011
k:16: 11101 11011 11011 10111
k:17: 11110 11110 11111 01111 | 11110 11111 01111 01111
k:18: 11111 10111 11101 11111
k:19: 11111 11110 11111 11111 | 11111 11111 01111 11111
k:20: 11111 11111 11111 11111

N:21
k:1:  00000000 00100 00000000
k:2:  00000010 00000 01000000
k:3:  00000100 00100 00100000
k:4:  00010000 10001 00001000
k:5:  00100010 00100 01000100
k:6:  01000100 10001 00100010
k:7:  01001001 00100 10010010
k:8:  10010010 01010 01001001
k:9:  01010010 10101 01001010 
k:10: 01010101 01010 10101010 
k:11: 10101010 10101 01010101
k:12: 10101101 01010 10110101 
k:13: 01101101 10101 10110110
k:14: 10110110 11011 01101101
k:15: 10111011 01110 11011101
k:16: 11011101 11011 10111011
k:17: 11101111 01110 11110111
k:18: 11111011 11011 11011111
k:19: 11111101 11111 10111111
k:20: 11111111 11011 11111111
k:21: 11111111 11111 11111111
# vim: filetype=qi :



